"use strict";var lang="vi",cts={version:"1.1"},CTS_COM_HTML_CCS_PATH;cts.lang={Object:{find:function(n,t){var r=n instanceof Array?n:n.split("."),i,u;if(t=t||window,t)for(i=0,u=r.length;i<u;i++){if(typeof t[r[i]]=="undefined")return undefined;t=t[r[i]]}return t},create:function(n,t){var r=n instanceof Array?n:n.split("."),i,u;if(t=t||window,t)for(i=0,u=r.length;i<u;i++)t[r[i]]||(t[r[i]]={}),t=t[r[i]];return t},populate:function(n,t,i){if(i&&n instanceof Array&&t instanceof Array)Array.prototype.push.apply(n,t);else for(var r in t)i&&n[r]&&typeof n[r]=="object"?this.populate(n[r],t[r],!0):n[r]=t[r];return n},dispose:function(n){for(var t in n)n.hasOwnProperty(t)&&delete n[t]}},Class:{declare:function(n,t){var i=cts.lang.Object.find(n);if(!i){i=function(){this.initialize.apply(this,arguments)};cts.lang.Object.populate(i,this.methods);var r=n.lastIndexOf("."),u=r==-1?window:cts.lang.Object.create(n.substring(0,r)),f=n.substring(r+1,n.length);u[f]=i}return t&&i.addProperties(t),i},methods:{addProperties:function(n){return n._static&&(cts.lang.Object.populate(this,n._static),delete n._static),cts.lang.Object.populate(this.prototype,n),this}}}};cts.lang.Class.declare("cts.helper.BrowserHelper",{_static:{type:{msie:"msie",firefox:"firefox",chrome:"chrome",opera:"opera",safari:"safari",other:"other"},getType:function(n){return(n||(n=navigator.userAgent),this.getIEVersion(n)!==-1)?this.type.msie:n.toLowerCase().indexOf(this.type.firefox)>=0?this.type.firefox:n.toLowerCase().indexOf(this.type.safari)>=0?n.toLowerCase().indexOf(this.type.chrome)>=0?this.type.chrome:this.type.safari:n.toLowerCase().indexOf(this.type.opera)>=0?this.type.opera:this.type.other},getIEVersion:function(n){n||(n=navigator.userAgent);var i=-1,t;return navigator.appName==="Microsoft Internet Explorer"?(t=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),t.exec(n)!==null&&(i=parseFloat(RegExp.$1))):navigator.appName==="Netscape"&&(t=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),t.exec(n)!==null&&(i=parseFloat(RegExp.$1))),i},isIE:function(n){return n||(n=navigator.userAgent),this.getType(n)===this.type.msie},isIElt8:function(n){return n||(n=navigator.userAgent),this.getIEVersion(n)<8&&this.isIE(n)},isIE8:function(n){return n||(n=navigator.userAgent),this.getIEVersion(n)===8},isIE9:function(n){return n||(n=navigator.userAgent),this.getIEVersion(n)===9},isIE10:function(n){return n||(n=navigator.userAgent),this.getIEVersion(n)===10},isFireFox:function(n){return n||(n=navigator.userAgent),this.getType(n)===this.type.firefox},isChrome:function(n){return n||(n=navigator.userAgent),this.getType(n)===this.type.chrome},isSafari:function(n){return n||(n=navigator.userAgent),this.getType(n)===this.type.safari},isDevice:function(n){return n||(n=navigator.userAgent),/Android|webOS|iPad|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(n)}}});cts.lang.Class.declare("cts.helper.DataHelper",{_static:{BASIC_INFOS:{Status:{undefined:"01",add:"01",edit:"02"},CallType:{undefined:"01",init:"01",copy:"02"}},trim:function(n,t){var i=n.toString();return cts.helper.CheckHelper.isNull(t)?jQuery.trim(i):(i=cts.helper.DataHelper.leftTrim(i,t),cts.helper.DataHelper.rightTrim(i,t))},leftTrim:function(n,t){var i=n.toString(),r;return i.length<=0?i:(r=i.indexOf(t),r===0&&(i=i.substr(t.length)),i)},rightTrim:function(n,t){var i=n.toString(),r;return i.length<=0?i:(r=i.lastIndexOf(t),i.length===r+t.length&&(i=i.substr(0,i.length-t.length)),i)},replaceAll:function(n,t,i){var r=cts.helper.DataHelper.escapeRegExp(n),u=new RegExp(r,"g");return i.replace(u,t)},escapeRegExp:function(n){return n.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},toBoolean:function(n){return n===!0||n==="True"||n==="true"||n==="1"},toNumber:function(n,t){var i=Number(n);return isNaN(i)&&!cts.helper.CheckHelper.isNull(t)&&(i=t),i},toBasicInfo:function(n){var t={},i=cts.helper.DataHelper.BASIC_INFOS;return t.Status=i.Status[n.Status],t.CallType=i.CallType[n.CallType],t.IsAdd=t.Status===i.Status.add,t.IsEdit=t.Status===i.Status.edit,t.IsInit=t.CallType===i.CallType.init,t.IsCopy=t.CallType===i.CallType.copy,t.IsAddInit=t.IsAdd&&t.IsInit,t.IsAddCopy=t.IsAdd&&t.IsCopy,t.IsEditInit=t.IsEdit&&t.IsInit,t},toLatinString:function(n,t){var i=n,r=" ";return cts.helper.CheckHelper.isNull(n)?"":(t&&(typeof t=="string"?r=t:t.delimiter&&(r=t.delimiter)),i=i.replace(/æ|å|ä|à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"a"),i=i.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e"),i=i.replace(/ì|í|ị|ỉ|ĩ/g,"i"),i=i.replace(/ø|ö|ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"o"),i=i.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u"),i=i.replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y"),i=i.replace(/đ/g,"d"),i=i.replace(/ñ/g,"n"),i=i.replace(/Æ|Å|Ä|À|Á|Ạ|Ả|Ã|Â|Ầ|Ấ|Ậ|Ẩ|Ẫ|Ă|Ằ|Ắ|Ặ|Ẳ|Ẵ/g,"A"),i=i.replace(/È|É|Ẹ|Ẻ|Ẽ|Ê|Ề|Ế|Ệ|Ể|Ễ/g,"E"),i=i.replace(/Ì|Í|Ị|Ỉ|Ĩ/g,"I"),i=i.replace(/Ø|Ö|Ó|Ò|Ỏ|Õ|Ọ|Ô|Ố|Ồ|Ổ|Ỗ|Ộ|Ơ|Ớ|Ờ|Ở|Ỡ|Ợ/g,"O"),i=i.replace(/Ú|Ù|Ủ|Ũ|Ụ|Ư|Ứ|Ừ|Ử|Ữ|Ự/g,"U"),i=i.replace(/Ý|Ỳ|Ỷ|Ỹ|Ỵ/g,"Y"),i=i.replace(/Đ/g,"D"),i=i.replace(/Ñ/g,"N"),i=i.replace(/!|@|%|\^|\*|\(|\)|\+|\=|\<|\>|\?|\/|,|\.|\:|\;|\'| |\"|\&|\#|\[|\]|~|$|_/g," "),i=i.replace(/(^[^a-zA-Z0-9]+)|([^a-zA-Z0-9\-_\s])/g,""),i=i.replace(/\s+[\-_]*/g,r),i=i.replace(/-+-/g,"-"),i=i.replace(/_+_/g,"_"),i.replace(/^[\s\-_]+|[\s\-_]+$/g,""))},toSlug:function(n){var t=n;return t=cts.helper.DataHelper.toLatinString(t,"-"),t.toLowerCase()},toMenu:function(n){var u=[],f,r,o;for(f in n){var t=n[f],e={},i=t.Args;for(r in i)e[i[r].ArgCd]=i[r].ArgValue;t.Args=e;u.push(t)}return o={cd:"MenuCd",pcd:"PMenuCd",childs:"Childs"},cts.helper.DataHelper.toTree(u,"",o)},toTree:function(n,t,i){var e=[],u,r,f,o=i?i.childs:"childs";return cts.helper.CheckHelper.isNull(o)?[]:(t||(t=""),jQuery.each(n,function(s,h){if(u=h.cd,r=h.pcd,i&&(u=h[i.cd],r=h[i.pcd]),r||(r=""),u===undefined)return[];r===t&&(f=angular.copy(h),f[o]=cts.helper.DataHelper.toTree(n,u,i),e.push(f))}),e)},getMaxValue:function(n,t){var r="",f,u,i;for(f in n)u=n[f],i="",i=cts.helper.CheckHelper.isNull(t)?u:u[t],i>r&&(r=i);return r},getRowIndex:function(n,t,i){var r,u,f;for(r in t)if(u=t[r],f="",f=cts.helper.CheckHelper.isNull(i)?u:u[i],f===n)return r;return-1},getRowData:function(n,t,i){var r=cts.helper.DataHelper.getRowIndex(n,t,i);return r===-1?null:t[r]}}});cts.lang.Class.declare("cts.helper.CheckHelper",{_static:{isAngularApp:function(){var n=angular.element(document).injector();return!cts.helper.CheckHelper.isNull(n)},isNull:function(n){return n===undefined||n==="undefined"||n===null||n.length===0||cts.helper.DataHelper.trim(n)===""},isBoolean:function(n){return n===!0||n==="True"||n==="true"||n===!1||n==="False"||n==="false"},isList:function(n){return jQuery(n).is("ul")||jQuery(n).is("ul")},isSelect:function(n){return jQuery(n).is("select")},isCheckBox:function(n){return jQuery(n).is(":input[type=checkbox]")},isRadio:function(n){return jQuery(n).is(":input[type=radio]")},isButton:function(n){var t=jQuery(n).is(":button")||jQuery(n).is(":input[type=button]")||jQuery(n).is(":input[type=submit]");return cts.helper.BrowserHelper.isIE8()?t&&jQuery(n).attr("type")!=="file":t},isFocusable:function(n){return jQuery(n).is(":visible")&&jQuery(n).is(":enabled")&&jQuery(n).css("visibility")!=="hidden"&&jQuery(n).attr("type")!=="hidden"&&jQuery(n).attr("tabindex")!=="-1"&&!jQuery(n).prop("readonly")},isExistData:function(n,t,i){var f,r,u;for(f in t)if(r=t[f],u="",u=cts.helper.CheckHelper.isNull(i)?r:r[i],u===n)return!0;return!1}}});cts.lang.Class.declare("cts.helper.ResourceHelper",{_static:{getMessage:function(){var f,i,n,r,u,t;if(cts.helper.CheckHelper.isNull(arguments))return"";if(cts.helper.CheckHelper.isNull(messages)||(f=cts.helper.PageHelper.getLang(),i=messages[f],cts.helper.CheckHelper.isNull(i))||(n=i[arguments[0]],cts.helper.CheckHelper.isNull(n)))return arguments[0];if(arguments.length===1)return n;for(r="",u="",t=1;t<arguments.length;t++)r="{"+(t-1)+"}",u=cts.helper.ResourceHelper.getName(arguments[t]),n=cts.helper.DataHelper.replaceAll(r,u,n);return n},getName:function(){var i,n,t;return cts.helper.CheckHelper.isNull(arguments)?"":cts.helper.CheckHelper.isNull(names)?arguments[0]:(i=cts.helper.PageHelper.getLang(),n=names[i],cts.helper.CheckHelper.isNull(n))?arguments[0]:(t=n[arguments[0]],cts.helper.CheckHelper.isNull(t))?arguments[0]:t}}});cts.lang.Class.declare("cts.helper.ValidateHelper",{_static:{verify:function(n,t,i){var e=!0,u=[],c="",o,a,s,y,h;cts.helper.CheckHelper.isNull(i)||(c="$"+i);for(o in n){var l={id:o+c,valids:[]},r=n[o],f=t[r.field];for(a in r.rules){var p=r.rules[a],w=cts.helper.ValidateHelper[p],v=w({data:f,regex:r.regex,messageParam:r.messageParam});v.valid||(e=!1);l.valids.push(v)}if(u.push(l),r.elems&&jQuery.isArray(f)){s=0;for(y in f)h=cts.helper.ValidateHelper.verify(r.elems,f[y],s),h.result||(e=!1),u=u.concat(h.alerts),s++}}return{result:e,alerts:u}},regex:function(n){var t={valid:!0,message:undefined},i;return cts.helper.CheckHelper.isNull(n.data)?t:(i=new RegExp(n.regex),regex.test(n.data)===!1)?(t.valid=!1,t.message=cts.helper.ResourceHelper.getMessage("E.MSG.00002",n.messageParam),t):t},required:function(n){var t={valid:!0,message:undefined};return cts.helper.CheckHelper.isNull(n.data)?(t.valid=!1,t.message=cts.helper.ResourceHelper.getMessage("E.MSG.00001",n.messageParam),t):t},chkcode:function(n){return n.regex=/^[a-zA-Z0-9_\-]+$/g,cts.helper.ValidateHelper.regex(n)},chkname:function(n){return n.regex=/[^`~!@%\#$%\^\&\*\(\)\+\=\{\}\[\]\\\|\:\;\'\"\<\>,\.\/\?]+/g,cts.helper.ValidateHelper.regex(n)},username:function(n){return n.regex=/^[a-zA-Z0-9_]+$/g,cts.helper.ValidateHelper.regex(n)},password:function(n){return n.regex=/^[a-zA-Z0-9!@#$%^&*]+$/g,cts.helper.ValidateHelper.regex(n)},email:function(n){return n.regex=/^(([^<>()\[\]\\.,;:\s@\"]+(\.[^<>()\[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/g,cts.helper.ValidateHelper.regex(n)}}});cts.lang.Class.declare("cts.helper.PageHelper",{_static:{KEYS:{F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,Enter:13,Tab:9},TAB_IDX_OBJ_SPT:"a, area, button, input, object, select, textarea",TAB_IDX_MIN:0,TAB_IDX_MAX:9999,decodeHtml:function(n){return jQuery("<div/>").html(n).text()},encodeHtml:function(n){return jQuery("<div/>").text(n).html()},encodeURL:function(n){for(var t=n.split("/"),i=3;i<t.length;i++)t[i]=encodeURIComponent(t[i]);return t.join("/")},removeAttrs:function(n,t){for(var i in t)n.removeAttr(t[i])},getLang:function(){var n="vi";return cts.helper.CheckHelper.isNull(lang)||(n=lang),lang},setLang:function(n){lang=n},lockKey:function(){document.onkeydown=function(){return!1}},unlockKey:function(){document.onkeydown=function(){return!0}},showSpinnerLoading:function(n){var t=new Spinner({width:3,radius:8}).spin();return jQuery(n).append(t.el).show(),t},hideSpinnerLoading:function(n,t){t.stop();jQuery(n).hide()},genAlerts:function(n){var f="",h,e,l,o,s,u,i;for(h in n){var t=n[h],c=!0,r=jQuery("<div>");r.attr("id",t.id+"_invalid");r.addClass("alert alert-danger");e=jQuery("<ul>");for(l in t.valids)o=t.valids[l],o.valid||(c=!1,s=jQuery("<li>"),s.text(o.message),e.append(s));r.append(e);jQuery("#"+t.id).removeClass("invalid");jQuery("#"+t.id+"_invalid").remove();c||(jQuery("#"+t.id).addClass("invalid"),jQuery("#"+t.id).parent().append(r),u=parseInt(jQuery("#"+t.id).attr("tabindex")),isNaN(u)&&(u=-1),i=parseInt(jQuery("#"+f).attr("tabindex")),isNaN(i)&&(i=-1),(i===-1||u<i)&&(f=t.id))}jQuery("#"+f).focus()},process:function(n){var u,f,e,o,s,h,c;if(n.url){var l=cts.helper.CheckHelper.isAngularApp(),t=n.success,r=n.error,a=n.action,i=n.data;if(jQuery.isFunction(i)&&(i=i()),n.validate){if(typeof n.validate=="string"?jQuery.ajax({type:"GET",url:n.validate,dataType:"json",async:!1,success:function(n){u=n}}):u=jQuery.isFunction(n.validate)?n.validate(i):n.validate,u===!1)return;if(f=cts.helper.ValidateHelper.verify(u,i),cts.helper.PageHelper.genAlerts(f.alerts),!f.result)return}return e={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}},delete n.method,delete n.action,delete n.data,delete n.success,delete n.error,n.data=jQuery.param({Action:a,Request:JSON.stringify(i)}),o=cts.helper.PageHelper.showSpinnerLoading(".cts-loading"),cts.helper.PageHelper.lockKey(),l?(h=angular.element(document).injector(),c=h.get("$http"),s=c(jQuery.extend(e,n)).success(function(n,i,u,f){var e=n,o;e.ResultFlag===undefined||e.ResultFlag?!cts.helper.CheckHelper.isNull(e.Messages)&&jQuery.isArray(e.Messages)?(o=cts.helper.DialogHelper.showDialogSuccess(e.Messages),o.result.then(function(){t&&t(e,i,u,f)})):t&&t(e,i,u,f):(jQuery.isArray(e.Messages)&&cts.helper.DialogHelper.showDialogError(e.Messages),r&&r(e,i,u,f))}).error(function(n){alert(JSON.stringify(n))}).finally(function(){cts.helper.PageHelper.hideSpinnerLoading(".cts-loading",o);cts.helper.PageHelper.unlockKey()})):s=jQuery.ajax(jQuery.extend(e,n)).success(function(n,i,u,f){var e=JSON.parse(n);e.ResultFlag===undefined||e.ResultFlag?t&&t(e,i,u,f):r&&r(e,i,u,f)}).error(function(n){alert(JSON.stringify(n))}).complete(function(){cts.helper.PageHelper.hideSpinnerLoading(".cts-loading",o);cts.helper.PageHelper.unlockKey()}),s}jQuery.isFunction(n)&&n()},updateTabIndex:function(){jQuery(cts.helper.PageHelper.TAB_IDX_OBJ_SPT).each(function(){var n=parseInt(jQuery(this).attr("tabindex"));isNaN(n)&&jQuery(this).attr("tabindex",-1)})},applyMoveTab:function(){var n=cts.helper.PageHelper.KEYS,r=cts.helper.PageHelper.TAB_IDX_OBJ_SPT,t=cts.helper.PageHelper.TAB_IDX_MIN,i=cts.helper.PageHelper.TAB_IDX_MAX,f=function(n,r){return cts.helper.CheckHelper.isFocusable(r)&&jQuery(r).attr("tabindex")>=t&&jQuery(r).attr("tabindex")<=i},e=function(n){var t,r=i;return jQuery.each(n,function(n,i){var u=parseInt(jQuery(i).attr("tabindex"));u<r&&(t=i,r=u)}),t},o=function(n){var i,r=t;return jQuery.each(n,function(n,t){var u=parseInt(jQuery(t).attr("tabindex"));u>r&&(i=t,r=u)}),i},u=function(n,t){jQuery(t).focus();n.preventDefault();jQuery(t).select&&!jQuery(t).is(":button")&&(jQuery(t).select(),n.preventDefault());return};jQuery(r).keydown(function(s){var c=s.which?s.which:s.keyCode,b,l,h,y,a,p,v,w;if(c===n.Enter||c===n.Tab){if(cts.helper.CheckHelper.isButton(this)&&c===n.Enter){jQuery(this).click();jQuery(this).blur();s.preventDefault();return}if(jQuery(this).attr("cts-submit")&&c===n.Enter&&(b=jQuery(this).attr("cts-submit"),!cts.helper.CheckHelper.isNull(b)))return;l=jQuery(this).parents("[cts-tabgroup=true]:eq(0)");l.length===0&&(l=jQuery(this).parents("body:eq(0)"));h=l.find(r).filter(f);y=parseInt(jQuery(this).attr("tabindex"));s.shiftKey?(p=t,jQuery.each(h,function(n,t){var i=parseInt(jQuery(t).attr("tabindex"));p<i&&i<y&&(a=t,p=i)}),a===undefined&&(a=o(h)),u(s,a)):(w=i,jQuery.each(h,function(n,t){var i=parseInt(jQuery(t).attr("tabindex"));y<i&&i<w&&(v=t,w=i)}),v===undefined&&(v=e(h)),u(s,v))}})}}});cts.lang.Class.declare("cts.helper.StorageHelper",{_static:{getValue:function(n){return JSON.parse(localStorage.getItem(n))},setValue:function(n,t){localStorage.setItem(n,JSON.stringify(t))},delValue:function(n){localStorage.removeItem(n)}}});cts.lang.Class.declare("cts.helper.VariableHelper",{_static:{GLOBAL:"global",getValue:function(n,t){cts.helper.CheckHelper.isNull(n)&&(n=cts.helper.VariableHelper.GLOBAL);var i=cts.helper.StorageHelper.getValue(n);return cts.helper.CheckHelper.isNull(i)&&(i={}),i[t]},setValue:function(n,t,i){cts.helper.CheckHelper.isNull(n)&&(n=cts.helper.VariableHelper.GLOBAL);var r=cts.helper.StorageHelper.getValue(n);cts.helper.CheckHelper.isNull(r)&&(r={});r[t]=i;cts.helper.StorageHelper.setValue(n,r)},delValue:function(n,t){cts.helper.DataCheckHelper.isNull(n)&&(n=cts.helper.VariableHelper.GLOBAL);var i=cts.helper.StorageHelper.getValue(n);cts.helper.DataCheckHelper.isNull(i)&&(i={});delete i[t];cts.helper.StorageHelper.setValue(n,i)}}});cts.lang.Class.declare("cts.helper.OptionHelper",{_static:{EDT_OPT_DEF:{plugins:["advlist autolink lists link image charmap print preview hr anchor pagebreak","searchreplace wordcount visualblocks visualchars code fullscreen","insertdatetime media nonbreaking save table contextmenu directionality","emoticons template paste textcolor colorpicker textpattern"],menubar:!1,toolbar1:"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | visualblocks",toolbar2:"print | link image | table insertdatetime charmap | forecolor backcolor emoticons | code preview fullscreen",relative_urls:!1,resize:!1,external_filemanager_path:"/cts/res/lib-ext/ctsfilemanager/",external_plugins:{ctsfilemanager:"/cts/res/lib-ext/ctsfilemanager/plugin.min.js"}},GRD_OPT_DEF:{order:[],tabIndex:-1,autoWidth:!1,searching:!1,lengthChange:!1,scrollCollapse:!0,paging:!1,info:!1,ordering:!1,classes:{sSortAsc:"sort-asc sorting_asc",sSortDesc:"sort-desc sorting_desc",sSortable:"sort sorting",sScrollHead:"header dataTables_scrollHead",sScrollBody:"row-fix row dataTables_scrollBody",sInfo:"pager-info dataTables_info",sPaging:"pager dataTables_paginate paging_"},scrollX:"100%",pageLength:20},editorBase:function(){var n={filemanager_title:cts.helper.ResourceHelper.getName("CTS.COM.UCS.FILEMANAGER.Title")};return jQuery.extend(n,cts.helper.OptionHelper.EDT_OPT_DEF)},gridBase:function(n){var t="100%",i;return n&&n.width&&(t=parseInt(n.width)),i={scrollXInner:t,language:{emptyTable:cts.helper.ResourceHelper.getMessage("I.MSG.00001")}},jQuery.extend(i,cts.helper.OptionHelper.GRD_OPT_DEF)}}});cts.lang.Class.declare("cts.helper.GridHelper",{_static:{hasDataChanged:function(n){var t,i;for(t in n.ListData)if(i=n.ListData[t],i.HasChanged)return!0;return!1},getListData:function(n,t){var r={ListData:[]},u,i,f;for(u in n.ListData)i=n.ListData[u],i.HasChanged&&(t&&jQuery.isFunction(t)?(f=t(i),r.ListData.push(f)):r.ListData.push(i));return r},getPagerData:function(n){var t={Offset:0,Limit:10};return n.Limit&&(t.Limit=n.Limit),n.Page&&(t.Offset=(n.Page-1)*n.Limit),n.Sortable&&(t.OrderBy=n.OrderBy,t.AscDesc=n.AscDesc),t},genRowNo:function(n,t){if(!cts.helper.CheckHelper.isNull(n))return n;var i=cts.helper.DataHelper.getMaxValue(t,"RowNo");return cts.helper.CheckHelper.isNull(i)?1:i+1}}});cts.lang.Class.declare("cts.helper.DialogHelper",{_static:{showDialog:function(n){var r=cts.helper.CheckHelper.isAngularApp(),t,i;if(r)return t=angular.element(document).injector(),i=t.get("$modal"),i.open({templateUrl:n.templateUrl,controller:n.controller,resolve:{param:function(){return n.param}}})},showDialogSuccess:function(n){var i=cts.helper.CheckHelper.isAngularApp();if(i){var r=angular.element(document).injector(),u=r.get("$modal"),t=function(n,t,i,r){n.data={};n.init=function(){$pc(function(){n.data.Messages=r.Messages})};n.close=function(){$pc(function(){i.close()})};t.dismiss=function(){n.close()};n.$on("modalLoaded",function(){n.init()})};return t.$inject=["$scope","$modalStack","$modalInstance","param"],u.open({templateUrl:"/cts/com/html/ucs/dialog-success.html",controller:t,resolve:{param:function(){return{Messages:n}}}})}},showDialogError:function(n){var i=cts.helper.CheckHelper.isAngularApp();if(i){var r=angular.element(document).injector(),u=r.get("$modal"),t=function(n,t,i,r){n.data={};n.init=function(){$pc(function(){$.isArray(r.Messages)||(r.Messages=[r.Messages]);n.data.Messages=r.Messages})};n.close=function(){$pc(function(){i.close()})};t.dismiss=function(){n.close()};n.$on("modalLoaded",function(){n.init()})};return t.$inject=["$scope","$modalStack","$modalInstance","param"],u.open({templateUrl:"/cts/com/html/ucs/dialog-error.html",controller:t,resolve:{param:function(){return{Messages:n}}}})}},showDialogConfirm:function(n,t,i){var u=cts.helper.CheckHelper.isAngularApp();if(u){var f=angular.element(document).injector(),e=f.get("$modal"),r=function(n,t,i,r){n.data={};n.init=function(){$pc(function(){n.data.Message=r.Message})};n.yes=function(){$pc(function(){$.isFunction(r.FnYes)&&r.FnYes();n.close()})};n.no=function(){$pc(function(){$.isFunction(r.FnNo)&&r.FnNo();n.close()})};n.close=function(){$pc(function(){i.close()})};t.dismiss=function(){return};n.$on("modalLoaded",function(){n.init()})};return r.$inject=["$scope","$modalStack","$modalInstance","param"],e.open({size:"sm",templateUrl:"/cts/com/html/ucs/dialog-confirm.html",controller:r,resolve:{param:function(){return{Message:n,FnYes:t,FnNo:i}}}})}},showDialogArea:function(n){var i=cts.helper.CheckHelper.isAngularApp();if(i){var r=angular.element(document).injector(),u=r.get("$modal"),t=function(n,t,i,r){n.data={};n.init=function(){$pc(function(){n.data.Content=r.Content})};n.close=function(){$pc(function(){i.close({data:n.data.Content})})};t.dismiss=function(){return};n.$on("modalLoaded",function(){n.init()})};return t.$inject=["$scope","$modalStack","$modalInstance","param"],u.open({templateUrl:"/cts/com/html/ucs/dialog-area.html",controller:t,resolve:{param:function(){return n}}})}},showDialogEditor:function(n){var i=cts.helper.CheckHelper.isAngularApp();if(i){var r=angular.element(document).injector(),u=r.get("$modal"),t=function(n,t,i,r){n.data={};n.edtOptions={};n.edtOptions=$optionHelper.editorBase();n.init=function(){$pc(function(){n.data.Content=r.Content;r.Options&&(n.edtOptions=r.Options)})};n.close=function(){$pc(function(){i.close({data:n.data.Content})})};t.dismiss=function(){return};n.$on("modalLoaded",function(){n.init()})};return t.$inject=["$scope","$modalStack","$modalInstance","param"],u.open({templateUrl:"/cts/com/html/ucs/dialog-editor.html",controller:t,resolve:{param:function(){return n}}})}},showDialogMeta:function(n){var i=cts.helper.CheckHelper.isAngularApp();if(i){var r=angular.element(document).injector(),u=r.get("$modal"),t=function(n,t,i,r){n.data={};n.init=function(){$pc(function(){n.data.MetaTitle=r.MetaTitle;n.data.MetaDesc=r.MetaDesc;n.data.MetaKeys=r.MetaKeys;$ti("txtMetaTitle")})};n.close=function(){$pc(function(){i.close({data:n.data})})};t.dismiss=function(){return};n.$on("modalLoaded",function(){n.init()})};return t.$inject=["$scope","$modalStack","$modalInstance","param"],u.open({templateUrl:"/cts/com/html/ucs/dialog-meta.html",controller:t,resolve:{param:function(){return n}}})}},showDialogUpload:function(n){var i=cts.helper.CheckHelper.isAngularApp();if(i){var r=angular.element(document).injector(),u=r.get("$modal"),t=function(n,t,i,r){n.data={};n.tblResult={};n.tblResult.Options=$optionHelper.gridBase({width:586});n.init=function(){$pc({action:"InitLayout",url:"/cts/web/upload-file",data:{LocaleCd:r.LocaleCd,FileCd:r.FileCd,FileGroupCd:r.FileGroupCd,HasGen:r.HasGen},success:function(t){n.data=t;n.filter();$ti("txtFileAlias")}})};n.filter=function(){$pc({action:"Filter",url:"/cts/web/upload-file",data:{LocaleCd:n.data.LocaleCd,FileCd:n.data.FileCd},success:function(t){n.tblResult.ListData=t.ListData}})};n.uploadFileConfirm=function(){var t=function(){$pc(function(){n.uploadFile()})};$gridHelper.hasDataChanged(n.tblResult)?$dialogHelper.showDialogConfirm($ms("I.MSG.00002"),t):t()};n.uploadFile=function(){$pc({action:"Upload",url:"/cts/web/upload-file",data:function(){var t={};return $checkHelper.isNull(n.data.FileInfo)&&(n.data.FileInfo={}),t.LocaleCd=n.data.LocaleCd,t.FileCd=n.data.FileCd,t.FileGroupCd=n.data.FileGroupCd,t.SortKey=n.data.SortKey,t.FileInfo={FileStream:n.data.FileInfo.FileStream,FileName:n.data.FileInfo.FileName,Size:n.data.FileInfo.Size,Ext:n.data.FileInfo.Ext},$checkHelper.isNull(n.data.FileAlias)||(t.FileInfo.FileName=n.data.FileAlias),t},success:function(){n.clear();n.filter()}})};n.clear=function(){$pc(function(){n.data.FileInfo={};n.data.SortKey="";n.data.FileAlias="";angular.element("#filInfo").val(null)})};n.saveBatch=function(){$pc({action:"SaveBatch",url:"/cts/web/upload-file",data:function(){var t=function(t){return{LocaleCd:n.data.LocaleCd,FileCd:n.data.FileCd,FileNo:t.FileNo,SortKey:t.SortKey,FileAlias:t.FileAlias}};return $gridHelper.getListData(n.tblResult,t)},success:function(){n.filter()}})};n.deleteBatch=function(){$pc({action:"DeleteBatch",url:"/cts/web/upload-file",data:function(){var t=function(t){return{LocaleCd:n.data.LocaleCd,FileCd:n.data.FileCd,FileNo:t.FileNo}};return $gridHelper.getListData(n.tblResult,t)},success:function(){n.filter()}})};n.tblResultChange=function(n,t){$pc(function(){t.HasChanged=!0})};n.close=function(){var t=function(){$pc(function(){i.close({data:n.data.FileCd,hasGen:n.data.HasGen})})};$gridHelper.hasDataChanged(n.tblResult)?$dialogHelper.showDialogConfirm($ms("I.MSG.00002"),t):t()};t.dismiss=function(){return};n.$on("modalLoaded",function(){n.init()})};return t.$inject=["$scope","$modalStack","$modalInstance","param"],u.open({animation:!1,templateUrl:"/cts/com/html/ucs/dialog-upload.html",controller:t,resolve:{param:function(){return n}}})}}}});angular.module("cts.angular",["ngRoute","ngAnimate","ngResource","ngSanitize","ngTouch","ui.router","ui.utils","ui.tinymce","ui.bootstrap.tpls","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tabs","ui.bootstrap.contextMenu","mgcrea.ngStrap.typeahead","mgcrea.ngStrap.datepicker","mgcrea.ngStrap.select","datatables","treeControl"]).directive("ctsLoaded",["$timeout",function(n){var t={};return t.restrict="A",t.compile=function(){return function(t,i,r){n(function(){t.$emit(r.ctsLoaded)})}},t}]).directive("ctsRepeatLoaded",["$timeout",function(n){var t={};return t.restrict="A",t.compile=function(){return function(t,i,r){t.$last&&n(function(){t.$emit(r.ctsRepeatLoaded)})}},t}]).config(["$datepickerProvider",function(n){angular.extend(n.defaults,{autoclose:!0})}]).run(["paginationConfig",function(n){n.maxSize=5;n.previousText=cts.helper.PageHelper.decodeHtml("&nbsp;");n.nextText=cts.helper.PageHelper.decodeHtml("&nbsp;");n.firstText=cts.helper.PageHelper.decodeHtml("&nbsp;");n.lastText=cts.helper.PageHelper.decodeHtml("&nbsp;")}]).run(["$templateCache",function(n){n.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li class="first" ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}<\/a><\/li>\n  <li class="previous" ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}<\/a><\/li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}<\/a><\/li>\n  <li class="next"  ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}<\/a><\/li>\n  <li class="last" ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}<\/a><\/li>\n<\/ul>')}]).run(["$rootScope",function(n){n.$={};n.$nm=cts.helper.ResourceHelper.getName;n.$res={Icons:{Add:"/cts/res/img/icons/add.png",Back:"/cts/res/img/icons/back.png",Close:"/cts/res/img/icons/close.png",Copy:"/cts/res/img/icons/copy.png",Delete:"/cts/res/img/icons/delete.png",DeleteBatch:"/cts/res/img/icons/delete-batch.png",Edit:"/cts/res/img/icons/edit.png",Area:"/cts/res/img/icons/area.png",Editor:"/cts/res/img/icons/editor.png",Folder:"/cts/res/img/icons/folder.png",Link:"/cts/res/img/icons/link.png",Menu:"/cts/res/img/icons/menu.png",Refresh:"/cts/res/img/icons/refresh.png",Save:"/cts/res/img/icons/save.png",SaveBatch:"/cts/res/img/icons/save-batch.png",Search:"/cts/res/img/icons/search.png",Select:"/cts/res/img/icons/select.png",Submit:"/cts/res/img/icons/submit.png",ShowHide:"/cts/res/img/icons/show-hide.png",UploadImage:"/cts/res/img/icons/upload-image.png",MetaInfo:"/cts/res/img/icons/meta-info.png"}}}]);CTS_COM_HTML_CCS_PATH="/cts/com/html/ccs/";angular.module("cts.ccs",[]).directive("ctsArea",function(){var n={};return n.restrict="E",n.replace=!0,n.templateUrl=CTS_COM_HTML_CCS_PATH+"area.html",n.scope={id:"@","class":"@",tabindex:"@",model:"=",disabled:"=",onchange:"&",onblur:"&"},n.compile=function(){return function(n,t){var i=t.find("textarea");i.bind("focus",function(){i.select()});cts.helper.PageHelper.removeAttrs(t,["id","tabindex","model","disabled","onchange","onblur"])}},n}).directive("ctsButton",function(){var n={};return n.restrict="E",n.replace=!0,n.templateUrl=CTS_COM_HTML_CCS_PATH+"button.html",n.scope={id:"@","class":"@",tabindex:"@",text:"@",icon:"@",disabled:"=",onclick:"&"},n.compile=function(){return function(n,t){cts.helper.PageHelper.removeAttrs(t,["id","tabindex","text","icon","disabled","onclick"])}},n}).directive("ctsCheck",function(){var n={};return n.restrict="E",n.replace=!0,n.templateUrl=CTS_COM_HTML_CCS_PATH+"check.html",n.scope={id:"@","class":"@",tabindex:"@",model:"=",disabled:"=",tooltip:"=",onchange:"&"},n.compile=function(){return function(n,t){var r=t.find("input"),i;n.tooltip&&(i=n.tooltip,typeof n.tooltip=="string"&&(i={title:n.tooltip}),r.tooltip(i));cts.helper.PageHelper.removeAttrs(t,["id","tabindex","model","disabled","onchange"])}},n}).directive("ctsDate",function(){var n={};return n.restrict="E",n.replace=!0,n.templateUrl=CTS_COM_HTML_CCS_PATH+"date.html",n.scope={id:"@","class":"@",tabindex:"@",placeholder:"@",format:"@",uiKeypress:"@",model:"=",disabled:"=",onchange:"&",onblur:"&"},n.compile=function(){return function(n,t){var i=t.find("input");i.bind("focus",function(){i.select()});cts.helper.PageHelper.removeAttrs(t,["id","tabindex","placeholder","format","model","disabled","onchange","onblur"])}},n}).directive("ctsEditor",function(){var n={};return n.restrict="E",n.replace=!0,n.templateUrl=CTS_COM_HTML_CCS_PATH+"editor.html",n.scope={id:"@","class":"@",model:"=",options:"="},n.compile=function(){return function(n,t){cts.helper.PageHelper.removeAttrs(t,["id","model","options"])}},n}).directive("ctsFile",function(){var n={};return n.restrict="E",n.replace=!0,n.templateUrl=CTS_COM_HTML_CCS_PATH+"file.html",n.scope={id:"@","class":"@",tabindex:"@",placeholder:"@",model:"=",disabled:"=",onchange:"&",onblur:"&"},n.compile=function(){return function(n,t){var i=t.find("input");i.bind("change",function(t){var i=t.target.files[0],u=new FileReader,r=i.name,e=i.size,f="";/[.]/.exec(r)&&(f=/[^.]+$/.exec(r));u.onload=function(t){n.$apply(function(){n.model={FileStream:t.target.result,FileName:r,Size:e,Ext:f.toString()}})};u.readAsDataURL(i)});cts.helper.PageHelper.removeAttrs(t,["id","tabindex","placeholder","model","disabled","onchange","onblur"])}},n}).directive("ctsFormPane",function(){var n={};return n.restrict="E",n.replace=!0,n.transclude=!0,n.templateUrl=CTS_COM_HTML_CCS_PATH+"form-pane.html",n.scope={"class":"@",onload:"&"},n.compile=function(){return function(n,t){cts.helper.PageHelper.removeAttrs(t,["onload"])}},n}).directive("ctsGridHeader",function(){var n={};return n.restrict="A",n.replace=!0,n.templateUrl=CTS_COM_HTML_CCS_PATH+"grid-header.html",n.scope={"class":"@",text:"@",orderBy:"@",sortModel:"=",onclick:"&",_evtClick:"&",_chkSortState:"&"},n.compile=function(){return function(n,t){n._evtClick=function(){var i={},t;n.orderBy&&(t={},t[n.orderBy]=n.sortModel[n.orderBy]==="asc"?"desc":n.sortModel[n.orderBy]==="desc"?"":"asc",n.sortModel=t,i.orderBy=n.orderBy,i.ascDesc=t[n.orderBy]);n.onclick({data:i})};n._chkSortState=function(t){return n.orderBy?(n.sortModel[n.orderBy]||(n.sortModel[n.orderBy]=""),n.sortModel[n.orderBy]===t):!1};cts.helper.PageHelper.removeAttrs(t,["text","orderBy","sortable","sortModel","onclick"])}},n}).directive("ctsGridPane",function(){var n={};return n.restrict="E",n.replace=!0,n.transclude=!0,n.templateUrl=CTS_COM_HTML_CCS_PATH+"grid-pane.html",n.scope={"class":"@",onload:"&"},n.compile=function(){return function(n,t){cts.helper.PageHelper.removeAttrs(t,["onload"])}},n}).directive("ctsImage",function(){var n={};return n.restrict="E",n.replace=!0,n.templateUrl=CTS_COM_HTML_CCS_PATH+"image.html",n.scope={id:"@","class":"@",alt:"@",tabindex:"@",border:"@",transparent:"@",src:"=",disabled:"=",onclick:"&"},n.compile=function(){return function(n,t){cts.helper.PageHelper.removeAttrs(t,["id","src","alt","tabindex","border","transparent","disabled","onclick"])}},n}).directive("ctsLabel",function(){var n={};return n.restrict="E",n.replace=!0,n.templateUrl=CTS_COM_HTML_CCS_PATH+"label.html",n.scope={id:"@","class":"@",text:"@"},n.compile=function(){return function(n,t){cts.helper.PageHelper.removeAttrs(t,["id","text"])}},n}).directive("ctsNumber",["$filter",function(n){var t={};return t.restrict="E",t.replace=!0,t.templateUrl=CTS_COM_HTML_CCS_PATH+"number.html",t.scope={id:"@","class":"@",tabindex:"@",placeholder:"@",uiKeypress:"@",model:"=",option:"=",disabled:"=",onchange:"&",onblur:"&",_increase:"&",_decrease:"&"},t.compile=function(){return function(t,i){var h=!0,f=i.find("input"),c=n("number"),o=cts.helper.DataHelper.toNumber,r=angular.extend({step:1,scale:0,min:-9999,max:9999,float:!1,negative:!0},t.option),e,s,u;r.min=o(r.min,-9999);r.max=o(r.max,9999);r.step=o(r.step,1);r.scale=o(r.scale,0);e=Math.pow(10,8);s=/^\d*$/;r.float?(s=/^\d*\.?\d*$/,r.negative&&(s=/^-?\d*\.?\d*$/)):r.negative&&(s=/^-?\d*$/);u=function(n){h=!1;t.model=n;t._change()};f.bind("focus",function(){h=!0;f.val(t.model);f.select()});f.bind("blur",function(){cts.helper.CheckHelper.isNull(t.model)?u(undefined):t.model==="."||t.model==="-"?u(undefined):u(o(t.model));t.$apply();f.val(c(t.model,r.scale))});t.$watch("model",function(n,t){if(n&&h)if(s.test(n)){var i=o(n);(i<r.min||i>r.max)&&u(t)}else u(t);else h=!0});t._increase=function(){cts.helper.CheckHelper.isNull(t.model)&&u(0);var n=(Math.round(t.model*e)+Math.round(r.step*e))/e;n<=r.max&&u(n);f.focus()};t._decrease=function(){cts.helper.CheckHelper.isNull(t.model)&&u(0);var n=(Math.round(t.model*e)-Math.round(r.step*e))/e;n>=r.min&&u(n);f.focus()};t._change=function(){if(t.onchange)t.onchange({data:t.model,option:r})};cts.helper.PageHelper.removeAttrs(i,["id","tabindex","placeholder","model","option","disabled","onchange","onblur"])}},t}]).directive("ctsPager",function(){var n={};return n.restrict="E",n.replace=!0,n.transclude=!1,n.templateUrl=CTS_COM_HTML_CCS_PATH+"pager.html",n.scope={"class":"@",boundary:"@",direction:"@",model:"=",onchange:"&"},n.compile=function(){return function(n,t){cts.helper.PageHelper.removeAttrs(t,["boundary","direction","model","onchange"])}},n}).directive("ctsPassword",function(){var n={};return n.restrict="E",n.replace=!0,n.templateUrl=CTS_COM_HTML_CCS_PATH+"password.html",n.scope={id:"@","class":"@",tabindex:"@",uiKeypress:"@",model:"=",disabled:"=",onchange:"&",onblur:"&"},n.compile=function(){return function(n,t){var i=t.find("input");i.bind("focus",function(){i.select()});cts.helper.PageHelper.removeAttrs(t,["id","tabindex","model","disabled","onchange","onblur"])}},n}).directive("ctsSelect",function(){var n={};return n.restrict="E",n.replace=!0,n.templateUrl=CTS_COM_HTML_CCS_PATH+"select.html",n.scope={id:"@","class":"@",tabindex:"@",placeholder:"@",model:"=",options:"=",disabled:"=",onchange:"&"},n.compile=function(){return function(n,t){cts.helper.PageHelper.removeAttrs(t,["id","tabindex","placeholder","model","options","disabled","onchange"])}},n}).directive("ctsText",["$filter",function(n){var t={};return t.restrict="E",t.replace=!0,t.templateUrl=CTS_COM_HTML_CCS_PATH+"text.html",t.scope={id:"@","class":"@",tabindex:"@",placeholder:"@",format:"@",uiKeypress:"@",model:"=",disabled:"=",tooltip:"=",onchange:"&",onblur:"&"},t.compile=function(){return function(t,i){var r=i.find("input"),f=n("format"),u;r.bind("focus",function(){r.val(t.model);r.select()});r.bind("blur",function(){t.format&&r.val(f(t.format,t.model))});t.tooltip&&(u=t.tooltip,typeof t.tooltip=="string"&&(u={title:t.tooltip}),r.tooltip(u));cts.helper.PageHelper.removeAttrs(i,["id","tabindex","placeholder","format","model","disabled","onchange","onblur"])}},t}]).directive("ctsTitle",function(){var n={};return n.restrict="E",n.replace=!0,n.transclude=!0,n.templateUrl=CTS_COM_HTML_CCS_PATH+"title.html",n.scope={"class":"@",text:"@"},n.compile=function(){return function(n,t){cts.helper.PageHelper.removeAttrs(t,["text"])}},n}).directive("ctsToolbarItem",function(){var n={};return n.restrict="E",n.replace=!0,n.templateUrl=CTS_COM_HTML_CCS_PATH+"toolbar-item.html",n.scope={"class":"@",alt:"@",src:"=",onclick:"&"},n.compile=function(){return function(n,t){cts.helper.PageHelper.removeAttrs(t,["src","alt","onclick"])}},n}).directive("ctsToolbar",function(){var n={};return n.restrict="E",n.replace=!0,n.transclude=!0,n.templateUrl=CTS_COM_HTML_CCS_PATH+"toolbar.html",n.scope={"class":"@"},n.compile=function(){return function(){}},n}).directive("ctsTypeahead",["$filter",function(n){var t={};return t.restrict="E",t.replace=!0,t.templateUrl=CTS_COM_HTML_CCS_PATH+"typeahead.html",t.scope={id:"@","class":"@",tabindex:"@",placeholder:"@",format:"@",uiKeypress:"@",model:"=",options:"=",disabled:"=",onchange:"&",onblur:"&"},t.compile=function(){return function(t,i){var r=i.find("input"),u=n("format");r.bind("focus",function(){r.val(t.model);r.select()});r.bind("blur",function(){t.format&&r.val(u(t.format,t.model))});cts.helper.PageHelper.removeAttrs(i,["id","tabindex","placeholder","format","model","options","disabled","onchange","onblur"])}},t}]);angular.module("cts.ucs.admin",["cts.ucs.admin.view-company-infos","cts.ucs.admin.view-parameters"]);angular.module("cts.ucs.admin.view-company-infos",[]).controller("ViewCompanyInfosCtrl",["$scope","$state","$stateParams","$window",function(n){n.data={};n.tblResult={};n.data.HasAuth=!1;n.tblResult.Page=1;n.tblResult.Options=$optionHelper.gridBase({width:930});n.init=function(){$pc({action:"InitLayout",url:"/cts/web/company-infos",success:function(t){n.$parent.showViewMain(!0);n.data=t;n.tblResult.Limit=999;n.filter()}})};n.filter=function(){$pc({action:"Filter",url:"/cts/web/company-infos",data:function(){var t=$gridHelper.getPagerData(n.tblResult);return t.LocaleCd="",t.IgnoreDeleteFlag=!0,t},success:function(t){n.tblResult.Total=t.Total;n.tblResult.ListData=t.ListData}})};n.saveBatch=function(){$pc({action:"SaveBatch",url:"/cts/web/company-infos",data:function(){var t=function(n){return{LocaleCd:n.LocaleCd,InfoCd:n.InfoCd,InfoValue:n.InfoValue}};return $gridHelper.getListData(n.tblResult,t)},success:function(){n.filter()}})};n.tblResultChange=function(n,t){$pc(function(){t.HasChanged=!0})};n.uploadImage=function(n){$pc(function(){n.HasChanged=!0;var t=$dialogHelper.showDialogUpload({LocaleCd:n.LocaleCd,FileCd:n.InfoValue,HasGen:n.HasGen,FileGroupCd:"stg."+n.InfoCd});t.result.then(function(t){n.InfoValue=t.data;n.HasGen=t.hasGen})})};n.editArea=function(n){$pc(function(){n.HasChanged=!0;var t=$dialogHelper.showDialogArea({Content:n.InfoValue});t.result.then(function(t){n.InfoValue=t.data})})};n.editContent=function(n){$pc(function(){n.HasChanged=!0;var t=$dialogHelper.showDialogEditor({Content:n.InfoValue});t.result.then(function(t){n.InfoValue=t.data})})};n.$parent.showViewMain(!1);n.init()}]);angular.module("cts.ucs.admin.view-parameters",[]).controller("ViewParametersCtrl",["$scope","$state","$stateParams","$window",function(n){n.data={};n.tblResult={};n.data.HasAuth=!1;n.tblResult.Page=1;n.tblResult.Options=$optionHelper.gridBase({width:930});n.init=function(){$pc({action:"InitLayout",url:"/cts/web/parameters",success:function(t){n.$parent.showViewMain(!0);n.data=t;n.tblResult.Limit=999;n.filter()}})};n.filter=function(){$pc({action:"Filter",url:"/cts/web/parameters",data:function(){var t=$gridHelper.getPagerData(n.tblResult);return t.IgnoreDeleteFlag=!0,t},success:function(t){n.tblResult.Total=t.Total;n.tblResult.ListData=t.ListData}})};n.saveBatch=function(){$pc({action:"SaveBatch",url:"/cts/web/parameters",data:function(){var t=function(n){return{ParamCd:n.ParamCd,ParamValue:n.ParamValue}};return $gridHelper.getListData(n.tblResult,t)},success:function(){n.filter()}})};n.tblResultChange=function(n,t){$pc(function(){t.HasChanged=!0})};n.$parent.showViewMain(!1);n.init()}])