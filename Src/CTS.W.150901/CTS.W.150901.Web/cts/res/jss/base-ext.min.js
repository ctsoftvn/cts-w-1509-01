/*! DataTables 1.10.1
 * ©2008-2014 SpryMedia Ltd - datatables.net/license
 */
function uiUploader(n){"use strict";function r(n){for(var i=0;i<n.length;i++)t.files.push(n[i])}function u(){return t.files}function i(n){t.options=n;for(var i=0;i<t.files.length;i++){if(t.activeUploads==t.options.concurrency)break;t.files[i].active||s(t.files[i],t.options.url)}}function f(n){t.files.splice(t.files.indexOf(n),1)}function e(){t.files.splice(0,t.files.length)}function o(n){var i=["n/a","bytes","KiB","MiB","GiB","TB","PB","EiB","ZiB","YiB"],t=+Math.floor(Math.log(n)/Math.log(1024));return(n/Math.pow(1024,t)).toFixed(t?1:0)+" "+i[isNaN(n)?0:t+1]}function s(n,r){var u,f,e,s="";if(t.activeUploads+=1,n.active=!0,u=new window.XMLHttpRequest,f=new window.FormData,u.open("POST",r),u.upload.onloadstart=function(){},u.upload.onprogress=function(i){if(i.lengthComputable){n.loaded=i.loaded;n.humanSize=o(i.loaded);t.options.onProgress(n)}},u.onload=function(){t.activeUploads-=1;i(t.options);t.options.onCompleted(n)},u.onerror=function(){},s)for(e in s)s.hasOwnProperty(e)&&f.append(e,s[e]);return f.append("file",n,n.name),u.send(f),u}var t=this;return t.files=[],t.options={},t.activeUploads=0,n.info("uiUploader loaded"),{addFiles:r,getFiles:u,files:t.files,startUpload:i,removeFile:f,removeAll:e}}(function(n,t,i){(function(n){"use strict";typeof define=="function"&&define.amd?define("datatables",["jquery"],n):typeof exports=="object"?n(require("jquery")):jQuery&&!jQuery.fn.dataTable&&n(jQuery)})(function(r){"use strict";function st(n){var f="a aa ai ao as b fn i m o s ",t,i,u={};r.each(n,function(r){t=r.match(/^([^A-Z]+?)([A-Z])/);t&&f.indexOf(t[1]+" ")!==-1&&(i=r.replace(t[0],t[2].toLowerCase()),u[i]=r,t[1]==="o"&&st(n[r]))});n._hungarianMap=u}function nt(n,t,u){n._hungarianMap||st(n);var f;r.each(t,function(e){f=n._hungarianMap[e];f!==i&&(u||t[f]===i)&&(f.charAt(0)==="o"?(t[f]||(t[f]={}),r.extend(!0,t[f],t[e]),nt(n[f],t[f],u)):t[f]=t[e])})}function ir(n){var i=u.defaults.oLanguage,r=n.sZeroRecords,t;!n.sEmptyTable&&r&&i.sEmptyTable==="No data available in table"&&k(n,n,"sZeroRecords","sEmptyTable");!n.sLoadingRecords&&r&&i.sLoadingRecords==="Loading..."&&k(n,n,"sZeroRecords","sLoadingRecords");n.sInfoThousands&&(n.sThousands=n.sInfoThousands);t=n.sDecimal;t&&ce(t)}function vu(n){var t,i,r;if(v(n,"ordering","bSort"),v(n,"orderMulti","bSortMulti"),v(n,"orderClasses","bSortClasses"),v(n,"orderCellsTop","bSortCellsTop"),v(n,"order","aaSorting"),v(n,"orderFixed","aaSortingFixed"),v(n,"paging","bPaginate"),v(n,"pagingType","sPaginationType"),v(n,"pageLength","iDisplayLength"),v(n,"searching","bFilter"),t=n.aoSearchCols,t)for(i=0,r=t.length;i<r;i++)t[i]&&nt(u.models.oSearch,t[i])}function yu(n){v(n,"orderable","bSortable");v(n,"orderData","aDataSort");v(n,"orderSequence","asSorting");v(n,"orderDataType","sortDataType")}function pu(n){var t=n.oBrowser,i=r("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(r("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(r('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body"),u=i.find(".test");t.bScrollOversize=u[0].offsetWidth===100;t.bScrollbarLeft=u.offset().left!==1;i.remove()}function wu(n,t,r,u,f,e){var o=u,s,h=!1;for(r!==i&&(s=r,h=!0);o!==f;)n.hasOwnProperty(o)&&(s=h?t(s,n[o],o,n):n[o],h=!0,o+=e);return s}function rr(n,i){var f=u.defaults.column,e=n.aoColumns.length,s=r.extend({},u.models.oColumn,f,{nTh:i?i:t.createElement("th"),sTitle:f.sTitle?f.sTitle:i?i.innerHTML:"",aDataSort:f.aDataSort?f.aDataSort:[e],mData:f.mData?f.mData:e,idx:e}),o;n.aoColumns.push(s);o=n.aoPreSearchCols;o[e]=r.extend({},u.models.oSearch,o[e]);ii(n,e,null)}function ii(n,t,f){var e=n.aoColumns[t],o=n.oClasses,l=r(e.nTh),a,h,c;e.sWidthOrig||(e.sWidthOrig=l.attr("width")||null,a=(l.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/),a&&(e.sWidthOrig=a[1]));f!==i&&f!==null&&(yu(f),nt(u.defaults.column,f),f.mDataProp===i||f.mData||(f.mData=f.mDataProp),f.sType&&(e._sManualType=f.sType),f.className&&!f.sClass&&(f.sClass=f.className),r.extend(e,f),k(e,f,"sWidth","sWidthOrig"),typeof f.iDataSort=="number"&&(e.aDataSort=[f.iDataSort]),k(e,f,"aDataSort"));var s=e.mData,p=yt(s),y=e.mRender?yt(e.mRender):null,v=function(n){return typeof n=="string"&&n.indexOf("@")!==-1};e._bAttrSrc=r.isPlainObject(s)&&(v(s.sort)||v(s.type)||v(s.filter));e.fnGetData=function(n,t,r){var u=p(n,t,i,r);return y&&t?y(u,t,n,r):u};e.fnSetData=function(n,t,i){return or(s)(n,t,i)};n.oFeatures.bSort||(e.bSortable=!1,l.addClass(o.sSortableNone));h=r.inArray("asc",e.asSorting)!==-1;c=r.inArray("desc",e.asSorting)!==-1;e.bSortable&&(h||c)?h&&!c?(e.sSortingClass=o.sSortableAsc,e.sSortingClassJUI=o.sSortJUIAscAllowed):!h&&c?(e.sSortingClass=o.sSortableDesc,e.sSortingClassJUI=o.sSortJUIDescAllowed):(e.sSortingClass=o.sSortable,e.sSortingClassJUI=o.sSortJUI):(e.sSortingClass=o.sSortableNone,e.sSortingClassJUI="")}function ht(n){var i,t,u,r;if(n.oFeatures.bAutoWidth!==!1)for(i=n.aoColumns,pr(n),t=0,u=i.length;t<u;t++)i[t].nTh.style.width=i[t].sWidth;r=n.oScroll;(r.sY!==""||r.sX!=="")&&kt(n);s(n,null,"column-sizing",[n])}function ri(n,t){var i=at(n,"bVisible");return typeof i[t]=="number"?i[t]:null}function ct(n,t){var u=at(n,"bVisible"),i=r.inArray(t,u);return i!==-1?i:null}function lt(n){return at(n,"bVisible").length}function at(n,t){var i=[];return r.map(n.aoColumns,function(n,r){n[t]&&i.push(r)}),i}function ur(n){for(var h=n.aoColumns,y=n.aoData,c=u.ext.type.detect,o,a,r,v,t,e,s,f=0,l=h.length;f<l;f++)if(t=h[f],s=[],!t.sType&&t._sManualType)t.sType=t._sManualType;else if(!t.sType){for(o=0,a=c.length;o<a;o++){for(r=0,v=y.length;r<v;r++)if(s[r]===i&&(s[r]=p(n,r,f,"type")),e=c[o](s[r],n),!e||e==="html")break;if(e){t.sType=e;break}}t.sType||(t.sType="string")}}function bu(n,t,u,f){var s,a,o,v,c,y,h,l=n.aoColumns,e;if(t)for(s=t.length-1;s>=0;s--)for(h=t[s],e=h.targets!==i?h.targets:h.aTargets,r.isArray(e)||(e=[e]),o=0,v=e.length;o<v;o++)if(typeof e[o]=="number"&&e[o]>=0){while(l.length<=e[o])rr(n);f(e[o],h)}else if(typeof e[o]=="number"&&e[o]<0)f(l.length+e[o],h);else if(typeof e[o]=="string")for(c=0,y=l.length;c<y;c++)(e[o]=="_all"||r(l[c].nTh).hasClass(e[o]))&&f(c,h);if(u)for(s=0,a=u.length;s<a;s++)f(s,u[s])}function tt(n,t,i,f){var o=n.aoData.length,h=r.extend(!0,{},u.models.oRow,{src:i?"dom":"data"}),s,e,c;for(h._aData=t,n.aoData.push(h),s=n.aoColumns,e=0,c=s.length;e<c;e++)i&&fr(n,o,e,p(n,o,e)),s[e].sType=null;return n.aiDisplayMaster.push(o),(i||!n.oFeatures.bDeferRender)&&hr(n,o,i,f),o}function ui(n,t){var i;return t instanceof r||(t=r(t)),t.map(function(t,r){return i=si(n,r),tt(n,i.data,r,i.cells)})}function be(n,t){return t._DT_RowIndex!==i?t._DT_RowIndex:null}function ke(n,t,i){return r.inArray(i,n.aoData[t].anCells)}function p(n,t,r,u){var h=n.iDraw,e=n.aoColumns[r],s=n.aoData[t]._aData,o=e.sDefaultContent,f=e.fnGetData(s,u,{settings:n,row:t,col:r});if(f===i)return n.iDrawError!=h&&o===null&&(ot(n,0,"Requested unknown parameter "+(typeof e.mData=="function"?"{function}":"'"+e.mData+"'")+" for row "+t,4),n.iDrawError=h),o;if((f===s||f===null)&&o!==null)f=o;else if(typeof f=="function")return f.call(s);return f===null&&u=="display"?"":f}function fr(n,t,i,r){var u=n.aoColumns[i],f=n.aoData[t]._aData;u.fnSetData(f,r,{settings:n,row:t,col:i})}function er(n){return r.map(n.match(/(\\.|[^\.])+/g),function(n){return n.replace(/\\./g,".")})}function yt(n){var t,u;return r.isPlainObject(n)?(t={},r.each(n,function(n,i){i&&(t[n]=yt(i))}),function(n,r,u,f){var e=t[r]||t._;return e!==i?e(n,r,u,f):n}):n===null?function(n){return n}:typeof n=="function"?function(t,i,r,u){return n(t,i,r,u)}:typeof n=="string"&&(n.indexOf(".")!==-1||n.indexOf("[")!==-1||n.indexOf("(")!==-1)?(u=function(n,t,r){var o,l,s,a,f,e,v,h,y,c;if(r!=="")for(f=er(r),e=0,v=f.length;e<v;e++){if(o=f[e].match(vt),l=f[e].match(ft),o){for(f[e]=f[e].replace(vt,""),f[e]!==""&&(n=n[f[e]]),s=[],f.splice(0,e+1),a=f.join("."),h=0,y=n.length;h<y;h++)s.push(u(n[h],t,a));c=o[0].substring(1,o[0].length-1);n=c===""?s:s.join(c);break}else if(l){f[e]=f[e].replace(ft,"");n=n[f[e]]();continue}if(n===null||n[f[e]]===i)return i;n=n[f[e]]}return n},function(t,i){return u(t,i,n)}):function(t){return t[n]}}function or(n){if(r.isPlainObject(n))return or(n._);if(n===null)return function(){};if(typeof n=="function")return function(t,i,r){n(t,"set",i,r)};if(typeof n=="string"&&(n.indexOf(".")!==-1||n.indexOf("[")!==-1||n.indexOf("(")!==-1)){var t=function(n,r,u){for(var o,y,f=er(u),s,h=f[f.length-1],l,a,c,v,e=0,p=f.length-1;e<p;e++){if(l=f[e].match(vt),a=f[e].match(ft),l){for(f[e]=f[e].replace(vt,""),n[f[e]]=[],s=f.slice(),s.splice(0,e+1),v=s.join("."),o=0,y=r.length;o<y;o++)c={},t(c,r[o],v),n[f[e]].push(c);return}a&&(f[e]=f[e].replace(ft,""),n=n[f[e]](r));(n[f[e]]===null||n[f[e]]===i)&&(n[f[e]]={});n=n[f[e]]}h.match(ft)?n=n[h.replace(ft,"")](r):n[h.replace(vt,"")]=r};return function(i,r){return t(i,r,n)}}return function(t,i){t[n]=i}}function sr(n){return b(n.aoData,"_aData")}function fi(n){n.aoData.length=0;n.aiDisplayMaster.length=0;n.aiDisplay.length=0}function ei(n,t,r){for(var f=-1,u=0,e=n.length;u<e;u++)n[u]==t?f=u:n[u]>t&&n[u]--;f!=-1&&r===i&&n.splice(f,1)}function oi(n,t,r,u){var e=n.aoData[t],f,s,o,h,c;if(r!=="dom"&&(r&&r!=="auto"||e.src!=="dom")){if(o=e.anCells,o)for(f=0,s=o.length;f<s;f++){for(h=o[f];h.childNodes.length;)h.removeChild(h.firstChild);o[f].innerHTML=p(n,t,f,"display")}}else e._aData=si(n,e).data;if(e._aSortData=null,e._aFilterData=null,c=n.aoColumns,u!==i)c[u].sType=null;else for(f=0,s=c.length;f<s;f++)c[f].sType=null;cr(e)}function si(n,t){var s=[],e=[],i=t.firstChild,h,u,f,a=0,c,p=n.aoColumns,l=function(n,t,i){var r,u;typeof n=="string"&&(r=n.indexOf("@"),r!==-1&&(u=n.substring(r+1),f["@"+u]=i.getAttribute(u)))},v=function(n){u=p[a];c=r.trim(n.innerHTML);u&&u._bAttrSrc?(f={display:c},l(u.mData.sort,f,n),l(u.mData.type,f,n),l(u.mData.filter,f,n),s.push(f)):s.push(c);a++},o,y;if(i)while(i)h=i.nodeName.toUpperCase(),(h=="TD"||h=="TH")&&(v(i),e.push(i)),i=i.nextSibling;else for(e=t.anCells,o=0,y=e.length;o<y;o++)v(e[o]);return{data:s,cells:e}}function hr(n,i,r,u){var h=n.aoData[i],l=h._aData,a=[],c,o,f,e,v;if(h.nTr===null){for(c=r||t.createElement("tr"),h.nTr=c,h.anCells=a,c._DT_RowIndex=i,cr(h),e=0,v=n.aoColumns.length;e<v;e++)f=n.aoColumns[e],o=r?u[e]:t.createElement(f.sCellType),a.push(o),(!r||f.mRender||f.mData!==e)&&(o.innerHTML=p(n,i,e,"display")),f.sClass&&(o.className+=" "+f.sClass),f.bVisible&&!r?c.appendChild(o):!f.bVisible&&r&&o.parentNode.removeChild(o),f.fnCreatedCell&&f.fnCreatedCell.call(n.oInstance,o,p(n,i,e),l,i,e);s(n,"aoRowCreatedCallback",null,[c,l,i])}h.nTr.setAttribute("role","row")}function cr(n){var i=n.nTr,t=n._aData,u;i&&(t.DT_RowId&&(i.id=t.DT_RowId),t.DT_RowClass&&(u=t.DT_RowClass.split(" "),n.__rowc=n.__rowc?tr(n.__rowc.concat(u)):u,r(i).removeClass(n.__rowc.join(" ")).addClass(t.DT_RowClass)),t.DT_RowData&&r(i).data(t.DT_RowData))}function ku(n){var i,e,u,l,t,f=n.nTHead,a=n.nTFoot,o=r("th, td",f).length===0,s=n.oClasses,h=n.aoColumns,c;for(o&&(l=r("<tr/>").appendTo(f)),i=0,e=h.length;i<e;i++)t=h[i],u=r(t.nTh).addClass(t.sClass),o&&u.appendTo(l),n.oFeatures.bSort&&(u.addClass(t.sSortingClass),t.bSortable!==!1&&(u.attr("tabindex",n.iTabIndex).attr("aria-controls",n.sTableId),kr(n,t.nTh,i))),t.sTitle!=u.html()&&u.html(t.sTitle),nu(n,"header")(n,u,t,s);if(o&&wt(n.aoHeader,f),r(f).find(">tr").attr("role","row"),r(f).find(">tr>th, >tr>td").addClass(s.sHeaderTH),r(a).find(">tr>th, >tr>td").addClass(s.sFooterTH),a!==null)for(c=n.aoFooter[0],i=0,e=c.length;i<e;i++)t=h[i],t.nTf=c[i].cell,t.sClass&&r(t.nTf).addClass(t.sClass)}function pt(n,t,u){var f,a,e,y,v,p,c,o=[],l=[],w=n.aoColumns.length,s,h;if(t){for(u===i&&(u=!1),f=0,a=t.length;f<a;f++){for(o[f]=t[f].slice(),o[f].nTr=t[f].nTr,e=w-1;e>=0;e--)n.aoColumns[e].bVisible||u||o[f].splice(e,1);l.push([])}for(f=0,a=o.length;f<a;f++){if(c=o[f].nTr,c)while(p=c.firstChild)c.removeChild(p);for(e=0,y=o[f].length;e<y;e++)if(s=1,h=1,l[f][e]===i){for(c.appendChild(o[f][e].cell),l[f][e]=1;o[f+s]!==i&&o[f][e].cell==o[f+s][e].cell;)l[f+s][e]=1,s++;while(o[f][e+h]!==i&&o[f][e].cell==o[f][e+h].cell){for(v=0;v<s;v++)l[f+v][e+h]=1;h++}r(o[f][e].cell).attr("rowspan",s).attr("colspan",h)}}}}function it(n){var ut=s(n,"aoPreDrawCallback","preDraw",[n]),c,l,it,rt,f,nt,t,a,v,p,tt;if(r.inArray(!1,ut)!==-1){w(n,!1);return}var b=[],k=0,d=n.asStripeClasses,g=d.length,ft=n.aoOpenRows.length,e=n.oLanguage,u=n.iInitDisplayStart,o=y(n)=="ssp",h=n.aiDisplay;if(n.bDrawing=!0,u!==i&&u!==-1&&(n._iDisplayStart=o?u:u>=n.fnRecordsDisplay()?0:u,n.iInitDisplayStart=-1),c=n._iDisplayStart,l=n.fnDisplayEnd(),n.bDeferLoading)n.bDeferLoading=!1,n.iDraw++,w(n,!1);else if(o){if(!n.bDestroying&&!gu(n))return}else n.iDraw++;if(h.length!==0)for(it=o?0:c,rt=o?n.aoData.length:l,f=it;f<rt;f++)nt=h[f],t=n.aoData[nt],t.nTr===null&&hr(n,nt),a=t.nTr,g!==0&&(v=d[k%g],t._sRowStripe!=v&&(r(a).removeClass(t._sRowStripe).addClass(v),t._sRowStripe=v)),s(n,"aoRowCallback",null,[a,t._aData,k,f]),b.push(a),k++;else p=e.sZeroRecords,n.iDraw==1&&y(n)=="ajax"?p=e.sLoadingRecords:e.sEmptyTable&&n.fnRecordsTotal()===0&&(p=e.sEmptyTable),b[0]=r("<tr/>",{"class":g?d[0]:""}).append(r("<td />",{valign:"top",colSpan:lt(n),"class":n.oClasses.sRowEmpty}).html(p))[0];s(n,"aoHeaderCallback","header",[r(n.nTHead).children("tr")[0],sr(n),c,l,h]);s(n,"aoFooterCallback","footer",[r(n.nTFoot).children("tr")[0],sr(n),c,l,h]);tt=r(n.nTBody);tt.children().detach();tt.append(r(b));s(n,"aoDrawCallback","draw",[n]);n.bSorted=!1;n.bFiltered=!1;n.bDrawing=!1}function rt(n,t){var i=n.oFeatures,r=i.bSort,u=i.bFilter;r&&te(n);u?bt(n,n.oPreviousSearch):n.aiDisplay=n.aiDisplayMaster.slice();t!==!0&&(n._iDisplayStart=0);n._drawHold=t;it(n);n._drawHold=!1}function du(n){var v=n.oClasses,g=r(n.nTable),k=r("<div/>").insertBefore(g),h=n.oFeatures,o=r("<div/>",{id:n.sTableId+"_wrapper","class":v.sWrapper+(n.nTFoot?"":" "+v.sNoFooter)}),c,f,t,s,y,i,l,e,p,w,a,d,b;for(n.nHolding=k[0],n.nTableWrapper=o[0],n.nTableReinsertBefore=n.nTable.nextSibling,c=n.sDom.split(""),e=0;e<c.length;e++){if(f=null,t=c[e],t=="<"){if(s=r("<div/>")[0],y=c[e+1],y=="'"||y=='"'){for(i="",l=2;c[e+l]!=y;)i+=c[e+l],l++;i=="H"?i=v.sJUIHeader:i=="F"&&(i=v.sJUIFooter);i.indexOf(".")!=-1?(p=i.split("."),s.id=p[0].substr(1,p[0].length-1),s.className=p[1]):i.charAt(0)=="#"?s.id=i.substr(1,i.length-1):s.className=i;e+=l}o.append(s);o=r(s)}else if(t==">")o=o.parent();else if(t=="l"&&h.bPaginate&&h.bLengthChange)f=vf(n);else if(t=="f"&&h.bFilter)f=rf(n);else if(t=="r"&&h.bProcessing)f=pf(n);else if(t=="t")f=wf(n);else if(t=="i"&&h.bInfo)f=cf(n);else if(t=="p"&&h.bPaginate)f=yf(n);else if(u.ext.feature.length!==0)for(w=u.ext.feature,a=0,d=w.length;a<d;a++)if(t==w[a].cFeature){f=w[a].fnInit(n);break}f&&(b=n.aanFeatures,b[t]||(b[t]=[]),b[t].push(f),o.append(f))}k.replaceWith(o)}function wt(n,t){var c=r(t).children("tr"),l,u,i,o,s,h,a,v,f,e,y,p=function(n,t,i){for(var r=n[t];r[i];)i++;return i};for(n.splice(0,n.length),i=0,h=c.length;i<h;i++)n.push([]);for(i=0,h=c.length;i<h;i++)for(l=c[i],v=0,u=l.firstChild;u;){if(u.nodeName.toUpperCase()=="TD"||u.nodeName.toUpperCase()=="TH")for(f=u.getAttribute("colspan")*1,e=u.getAttribute("rowspan")*1,f=!f||f===0||f===1?1:f,e=!e||e===0||e===1?1:e,a=p(n,i,v),y=f===1?!0:!1,s=0;s<f;s++)for(o=0;o<e;o++)n[i+o][a+s]={cell:u,unique:y},n[i+o].nTr=l;u=u.nextSibling}}function hi(n,t,i){var f=[],u,e,r,o;for(i||(i=n.aoHeader,t&&(i=[],wt(i,t))),u=0,e=i.length;u<e;u++)for(r=0,o=i[u].length;r<o;r++)!i[u][r].unique||f[r]&&n.bSortCellsTop||(f[r]=i[u][r].cell);return f}function ci(n,t,i){var f,l,e,u,h,o,c;s(n,"aoServerParams","serverParams",[t]);t&&r.isArray(t)&&(f={},l=/(.*?)\[\]$/,r.each(t,function(n,t){var r=t.name.match(l),i;r?(i=r[0],f[i]||(f[i]=[]),f[i].push(t.value)):f[t.name]=t.value}),t=f);u=n.ajax;h=n.oInstance;r.isPlainObject(u)&&u.data&&(e=u.data,o=r.isFunction(e)?e(t):e,t=r.isFunction(e)&&o?o:r.extend(!0,t,o),delete u.data);c={data:t,success:function(t){var r=t.error||t.sError;r&&n.oApi._fnLog(n,0,r);n.json=t;s(n,null,"xhr",[n,t]);i(t)},dataType:"json",cache:!1,type:n.sServerMethod,error:function(t,i){var r=n.oApi._fnLog;i=="parsererror"?r(n,0,"Invalid JSON response",1):t.readyState===4&&r(n,0,"Ajax error",7);w(n,!1)}};n.oAjaxData=t;s(n,null,"preXhr",[n,t]);n.fnServerData?n.fnServerData.call(h,n.sAjaxSource,r.map(t,function(n,t){return{name:t,value:n}}),i,n):n.sAjaxSource||typeof u=="string"?n.jqXHR=r.ajax(r.extend(c,{url:u||n.sAjaxSource})):r.isFunction(u)?n.jqXHR=u.call(h,t,i,n):(n.jqXHR=r.ajax(r.extend(c,u)),u.data=e)}function gu(n){return n.bAjaxDataGet?(n.iDraw++,w(n,!0),ci(n,nf(n),function(t){tf(n,t)}),!1):!0}function nf(n){var c=n.aoColumns,y=c.length,e=n.oFeatures,h=n.oPreviousSearch,d=n.aoPreSearchCols,i,l=[],a,f,o,p=et(n),w=n._iDisplayStart,k=e.bPaginate!==!1?n._iDisplayLength:-1,t=function(n,t){l.push({name:n,value:t})},s,v;for(t("sEcho",n.iDraw),t("iColumns",y),t("sColumns",b(c,"sName").join(",")),t("iDisplayStart",w),t("iDisplayLength",k),s={draw:n.iDraw,columns:[],order:[],start:w,length:k,search:{value:h.sSearch,regex:h.bRegex}},i=0;i<y;i++)f=c[i],o=d[i],a=typeof f.mData=="function"?"function":f.mData,s.columns.push({data:a,name:f.sName,searchable:f.bSearchable,orderable:f.bSortable,search:{value:o.sSearch,regex:o.bRegex}}),t("mDataProp_"+i,a),e.bFilter&&(t("sSearch_"+i,o.sSearch),t("bRegex_"+i,o.bRegex),t("bSearchable_"+i,f.bSearchable)),e.bSort&&t("bSortable_"+i,f.bSortable);return(e.bFilter&&(t("sSearch",h.sSearch),t("bRegex",h.bRegex)),e.bSort&&(r.each(p,function(n,i){s.order.push({column:i.col,dir:i.dir});t("iSortCol_"+n,i.col);t("sSortDir_"+n,i.dir)}),t("iSortingCols",p.length)),v=u.ext.legacy.ajax,v===null)?n.sAjaxSource?l:s:v?l:s}function tf(n,t){var u=function(n,r){return t[n]!==i?t[n]:t[r]},f=u("sEcho","draw"),s=u("iTotalRecords","recordsTotal"),h=u("iTotalDisplayRecords","recordsFiltered"),e,r,o;if(f){if(f*1<n.iDraw)return;n.iDraw=f*1}for(fi(n),n._iRecordsTotal=parseInt(s,10),n._iRecordsDisplay=parseInt(h,10),e=li(n,t),r=0,o=e.length;r<o;r++)tt(n,e[r]);n.aiDisplay=n.aiDisplayMaster.slice();n.bAjaxDataGet=!1;it(n);n._bInitComplete||yi(n,t);n.bAjaxDataGet=!0;w(n,!1)}function li(n,t){var u=r.isPlainObject(n.ajax)&&n.ajax.dataSrc!==i?n.ajax.dataSrc:n.sAjaxDataProp;return u==="data"?t.aaData||t[u]:u!==""?yt(u)(t):t}function rf(n){var f=n.oClasses,e=n.sTableId,o=n.oLanguage,i=n.oPreviousSearch,s=n.aanFeatures,h='<input type="search" class="'+f.sFilterInput+'"/>',u=o.sSearch;u=u.match(/_INPUT_/)?u.replace("_INPUT_",h):u+h;var c=r("<div/>",{id:s.f?null:e+"_filter","class":f.sFilter}).append(r("<label/>").append(u)),l=function(){var r=s.f,t=this.value?this.value:"";t!=i.sSearch&&(bt(n,{sSearch:t,bRegex:i.bRegex,bSmart:i.bSmart,bCaseInsensitive:i.bCaseInsensitive}),n._iDisplayStart=0,it(n))},a=r("input",c).val(i.sSearch).attr("placeholder",o.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",y(n)==="ssp"?wr(l,400):l).bind("keypress.DT",function(n){if(n.keyCode==13)return!1}).attr("aria-controls",e);r(n.nTable).on("search.dt.DT",function(r,u){if(n===u)try{a[0]!==t.activeElement&&a.val(i.sSearch)}catch(f){}});return c[0]}function bt(n,t,r){var e=n.oPreviousSearch,f=n.aoPreSearchCols,o=function(n){e.sSearch=n.sSearch;e.bRegex=n.bRegex;e.bSmart=n.bSmart;e.bCaseInsensitive=n.bCaseInsensitive},h=function(n){return n.bEscapeRegex!==i?!n.bEscapeRegex:n.bRegex},u;if(ur(n),y(n)!="ssp"){for(ef(n,t.sSearch,r,h(t),t.bSmart,t.bCaseInsensitive),o(t),u=0;u<f.length;u++)ff(n,f[u].sSearch,u,h(f[u]),f[u].bSmart,f[u].bCaseInsensitive);uf(n)}else o(t);n.bFiltered=!0;s(n,null,"search",[n])}function uf(n){for(var o,i,h,s=u.ext.search,t=n.aiDisplay,f,r,e=0,c=s.length;e<c;e++){for(o=[],i=0,h=t.length;i<h;i++)r=t[i],f=n.aoData[r],s[e](n,f._aFilterData,r,f._aData,i)&&o.push(r);t.length=0;t.push.apply(t,o)}}function ff(n,t,i,r,u,f){var s,o,h,e;if(t!=="")for(o=n.aiDisplay,h=lr(t,r,u,f),e=o.length-1;e>=0;e--)s=n.aoData[o[e]]._aFilterData[i],h.test(s)||o.splice(e,1)}function ef(n,t,i,r,f,e){var a=lr(t,r,f,e),h=n.oPreviousSearch.sSearch,c=n.aiDisplayMaster,s,l,o;if(u.ext.search.length!==0&&(i=!0),l=of(n),t.length<=0)n.aiDisplay=c.slice();else for((l||i||h.length>t.length||t.indexOf(h)!==0||n.bSorted)&&(n.aiDisplay=c.slice()),s=n.aiDisplay,o=s.length-1;o>=0;o--)a.test(n.aoData[s[o]]._sFilterRow)||s.splice(o,1)}function lr(n,t,i,u){if(n=t?n:ar(n),i){var f=r.map(n.match(/"[^"]+"|[^ ]+/g)||"",function(n){return n.charAt(0)==='"'?n.match(/^"(.*)"$/)[1]:n});n="^(?=.*?"+f.join(")(?=.*?")+").*$"}return new RegExp(n,u?"i":"")}function ar(n){return n.replace(ye,"\\$1")}function of(n){for(var s=n.aoColumns,f,r,c,e,t,o,l=u.ext.type.search,a=!1,i=0,h=n.aoData.length;i<h;i++)if(o=n.aoData[i],!o._aFilterData){for(e=[],r=0,c=s.length;r<c;r++)f=s[r],f.bSearchable?(t=p(n,i,r,"filter"),t=l[f.sType]?l[f.sType](t):t!==null?t:""):t="",t&&(t.indexOf&&t.indexOf("&")!==-1&&(ai.innerHTML=t,t=de?ai.textContent:ai.innerText),t.replace&&(t=t.replace(/[\r\n]/g,"")),e.push(t));o._aFilterData=e;o._sFilterRow=e.join("  ");a=!0}return a}function sf(n){return{search:n.sSearch,smart:n.bSmart,regex:n.bRegex,caseInsensitive:n.bCaseInsensitive}}function hf(n){return{sSearch:n.search,bSmart:n.smart,bRegex:n.regex,bCaseInsensitive:n.caseInsensitive}}function cf(n){var t=n.sTableId,i=n.aanFeatures.i,u=r("<div/>",{"class":n.oClasses.sInfo,id:i?null:t+"_info"});return i||(n.aoDrawCallback.push({fn:lf,sName:"information"}),u.attr("role","status").attr("aria-live","polite"),r(n.nTable).attr("aria-describedby",t+"_info")),u[0]}function lf(n){var e=n.aanFeatures.i,f;if(e.length!==0){var i=n.oLanguage,s=n._iDisplayStart+1,h=n.fnDisplayEnd(),o=n.fnRecordsTotal(),u=n.fnRecordsDisplay(),t=u?i.sInfo:i.sInfoEmpty;u!==o&&(t+=" "+i.sInfoFiltered);t+=i.sInfoPostFix;t=af(n,t);f=i.fnInfoCallback;f!==null&&(t=f.call(n.oInstance,n,s,h,o,u,t));r(e).html(t)}}function af(n,t){var i=n.fnFormatNumber,u=n._iDisplayStart+1,r=n._iDisplayLength,f=n.fnRecordsDisplay(),e=r===-1;return t.replace(/_START_/g,i.call(n,u)).replace(/_END_/g,i.call(n,n.fnDisplayEnd())).replace(/_MAX_/g,i.call(n,n.fnRecordsTotal())).replace(/_TOTAL_/g,i.call(n,f)).replace(/_PAGE_/g,i.call(n,e?1:Math.ceil(u/r))).replace(/_PAGES_/g,i.call(n,e?1:Math.ceil(f/r)))}function vi(n){var t,u,e=n.iInitDisplayStart,f=n.aoColumns,i,s=n.oFeatures,r;if(!n.bInitialised){setTimeout(function(){vi(n)},200);return}for(du(n),ku(n),pt(n,n.aoHeader),pt(n,n.aoFooter),w(n,!0),s.bAutoWidth&&pr(n),t=0,u=f.length;t<u;t++)i=f[t],i.sWidth&&(i.nTh.style.width=o(i.sWidth));rt(n);r=y(n);r!="ssp"&&(r=="ajax"?ci(n,[],function(i){var r=li(n,i);for(t=0;t<r.length;t++)tt(n,r[t]);n.iInitDisplayStart=e;rt(n);w(n,!1);yi(n,i)},n):(w(n,!1),yi(n)))}function yi(n,t){n._bInitComplete=!0;t&&ht(n);s(n,"aoInitComplete","init",[n,t])}function vr(n,t){var i=parseInt(t,10);n._iDisplayLength=i;gr(n);s(n,null,"length",[n,i])}function vf(n){for(var t,e=n.oClasses,f=n.sTableId,i=n.aLengthMenu,o=r.isArray(i[0]),s=o?i[0]:i,c=o?i[1]:i,h=r("<select/>",{name:f+"_length","aria-controls":f,"class":e.sLengthSelect}),u=0,l=s.length;u<l;u++)h[0][u]=new Option(c[u],s[u]);return t=r("<div><label/><\/div>").addClass(e.sLength),n.aanFeatures.l||(t[0].id=f+"_length"),t.children().append(n.oLanguage.sLengthMenu.replace("_MENU_",h[0].outerHTML)),r("select",t).val(n._iDisplayLength).bind("change.DT",function(){vr(n,r(this).val());it(n)}),r(n.nTable).bind("length.dt.DT",function(i,u,f){n===u&&r("select",t).val(f)}),t[0]}function yf(n){var e=n.sPaginationType,t=u.ext.pager[e],o=typeof t=="function",s=function(n){it(n)},i=r("<div/>").addClass(n.oClasses.sPaging+e)[0],f=n.aanFeatures;return o||t.fnInit(n,i,s),f.p||(i.id=n.sTableId+"_paginate",n.aoDrawCallback.push({fn:function(n){if(o)for(var l=n._iDisplayStart,r=n._iDisplayLength,a=n.fnRecordsDisplay(),u=r===-1,e=u?0:Math.ceil(l/r),h=u?1:Math.ceil(a/r),v=t(e,h),i=0,c=f.p.length;i<c;i++)nu(n,"pageButton")(n,f.p[i],i,v,e,h);else t.fnUpdate(n,s)},sName:"pagination"})),i}function yr(n,t,i){var r=n._iDisplayStart,u=n._iDisplayLength,f=n.fnRecordsDisplay(),e;return f===0||u===-1?r=0:typeof t=="number"?(r=t*u,r>f&&(r=0)):t=="first"?r=0:t=="previous"?(r=u>=0?r-u:0,r<0&&(r=0)):t=="next"?r+u<f&&(r+=u):t=="last"?r=Math.floor((f-1)/u)*u:ot(n,0,"Unknown paging action: "+t,5),e=n._iDisplayStart!==r,n._iDisplayStart=r,e&&(s(n,null,"page",[n]),i&&it(n)),e}function pf(n){return r("<div/>",{id:n.aanFeatures.r?null:n.sTableId+"_processing","class":n.oClasses.sProcessing}).html(n.oLanguage.sProcessing).insertBefore(n.nTable)[0]}function w(n,t){n.oFeatures.bProcessing&&r(n.aanFeatures.r).css("display",t?"block":"none");s(n,null,"processing",[n,t])}function wf(n){var t=r(n.nTable),i,l;if(t.attr("role","grid"),i=n.oScroll,i.sX===""&&i.sY==="")return n.nTable;var u=i.sX,b=i.sY,f=n.oClasses,h=t.children("caption"),v=h.length?h[0]._captionSide:null,k=r(t[0].cloneNode(!1)),d=r(t[0].cloneNode(!1)),s=t.children("tfoot"),e="<div/>",c=function(n){return n?o(n):null};i.sX&&t.attr("width")==="100%"&&t.removeAttr("width");s.length||(s=null);l=r(e,{"class":f.sScrollWrapper}).append(r(e,{"class":f.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:u?c(u):"100%"}).append(r(e,{"class":f.sScrollHeadInner}).css({"box-sizing":"content-box",width:i.sXInner||"100%"}).append(k.removeAttr("id").css("margin-left",0).append(t.children("thead")))).append(v==="top"?h:null)).append(r(e,{"class":f.sScrollBody}).css({overflow:"auto",height:c(b),width:c(u)}).append(t));s&&l.append(r(e,{"class":f.sScrollFoot}).css({overflow:"hidden",border:0,width:u?c(u):"100%"}).append(r(e,{"class":f.sScrollFootInner}).append(d.removeAttr("id").css("margin-left",0).append(t.children("tfoot")))).append(v==="bottom"?h:null));var a=l.children(),y=a[0],p=a[1],w=s?a[2]:null;return u&&r(p).scroll(function(){var n=this.scrollLeft;y.scrollLeft=n;s&&(w.scrollLeft=n)}),n.nScrollHead=y,n.nScrollBody=p,n.nScrollFoot=w,n.aoDrawCallback.push({fn:kt,sName:"scrolling"}),l[0]}function kt(n){var c=n.oScroll,b=c.sX,nt=c.sXInner,k=c.sY,f=c.iBarWidth,tt=r(n.nScrollHead),gt=tt[0].style,ct=tt.children("div"),lt=ct[0].style,ni=ct.children("table"),i=n.nScrollBody,e=r(i),l=i.style,ti=r(n.nScrollFoot),it=ti.children("div"),ii=it.children("table"),rt=r(n.nTHead),t=r(n.nTable),y=t[0],h=y.style,s=n.nTFoot?r(n.nTFoot):null,at=n.oBrowser,ut=at.bScrollOversize,vt,yt,p,a,g,pt,ft=[],et=[],wt=[],bt,v,u,kt=function(n){var t=n.style;t.paddingTop="0";t.paddingBottom="0";t.borderTopWidth="0";t.borderBottomWidth="0";t.height=0},dt,w,st,ht;t.children("thead, tfoot").remove();g=rt.clone().prependTo(t);vt=rt.find("tr");p=g.find("tr");g.find("th, td").removeAttr("tabindex");s&&(pt=s.clone().prependTo(t),yt=s.find("tr"),a=pt.find("tr"));b||(l.width="100%",tt[0].style.width="100%");r.each(hi(n,g),function(t,i){bt=ri(n,t);i.style.width=n.aoColumns[bt].sWidth});s&&d(function(n){n.style.width=""},a);c.bCollapse&&k!==""&&(l.height=e[0].offsetHeight+rt[0].offsetHeight+"px");u=t.outerWidth();b===""?(h.width="100%",ut&&(t.find("tbody").height()>i.offsetHeight||e.css("overflow-y")=="scroll")&&(h.width=o(t.outerWidth()-f))):nt!==""?h.width=o(nt):u==e.width()&&e.height()<t.height()?(h.width=o(u-f),t.outerWidth()>u-f&&(h.width=o(u))):h.width=o(u);u=t.outerWidth();d(kt,p);d(function(n){wt.push(n.innerHTML);ft.push(o(r(n).css("width")))},p);d(function(n,t){n.style.width=ft[t]},vt);r(p).height(0);s&&(d(kt,a),d(function(n){et.push(o(r(n).css("width")))},a),d(function(n,t){n.style.width=et[t]},yt),r(a).height(0));d(function(n,t){n.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+wt[t]+"<\/div>";n.style.width=ft[t]},p);s&&d(function(n,t){n.innerHTML="";n.style.width=et[t]},a);t.outerWidth()<u?(v=i.scrollHeight>i.offsetHeight||e.css("overflow-y")=="scroll"?u+f:u,ut&&(i.scrollHeight>i.offsetHeight||e.css("overflow-y")=="scroll")&&(h.width=o(v-f)),(b===""||nt!=="")&&ot(n,1,"Possible column misalignment",6)):v="100%";l.width=o(v);gt.width=o(v);s&&(n.nScrollFoot.style.width=o(v));k||ut&&(l.height=o(y.offsetHeight+f));k&&c.bCollapse&&(l.height=o(k),dt=b&&y.offsetWidth>i.offsetWidth?f:0,y.offsetHeight<i.offsetHeight&&(l.height=o(y.offsetHeight+dt)));w=t.outerWidth();ni[0].style.width=o(w);lt.width=o(w);st=t.height()>i.clientHeight||e.css("overflow-y")=="scroll";ht="padding"+(at.bScrollbarLeft?"Left":"Right");lt[ht]=st?f+"px":"0px";s&&(ii[0].style.width=o(w),it[0].style.width=o(w),it[0].style[ht]=st?f+"px":"0px");e.scroll();(n.bSorted||n.bFiltered)&&!n._drawHold&&(i.scrollTop=0)}function d(n,t,i){for(var e=0,u=0,o=t.length,r,f;u<o;){for(r=t[u].firstChild,f=i?i[u].firstChild:null;r;)r.nodeType===1&&(i?n(r,f,e):n(r,e),e++),r=r.nextSibling,f=i?f.nextSibling:null;u++}}function pr(t){for(var c=t.nTable,s=t.aoColumns,p=t.oScroll,g=p.sY,l=p.sX,nt=p.sXInner,w=s.length,e=at(t,"bVisible"),h=r("th",t.nTHead),a=c.getAttribute("width"),v=c.parentNode,tt=!1,u,b,k,d,f,it,y,i=0;i<e.length;i++)u=s[e[i]],u.sWidth!==null&&(u.sWidth=bf(u.sWidthOrig,v),tt=!0);if(tt||l||g||w!=lt(t)||w!=h.length){for(f=r(c).clone().empty().css("visibility","hidden").removeAttr("id").append(r(t.nTHead).clone(!1)).append(r(t.nTFoot).clone(!1)).append(r("<tbody><tr/><\/tbody>")),f.find("tfoot th, tfoot td").css("width",""),it=f.find("tbody tr"),h=hi(t,f.find("thead")[0]),i=0;i<e.length;i++)u=s[e[i]],h[i].style.width=u.sWidthOrig!==null&&u.sWidthOrig!==""?o(u.sWidthOrig):"";if(t.aoData.length)for(i=0;i<e.length;i++)b=e[i],u=s[b],r(df(t,b)).clone(!1).append(u.sContentPadding).appendTo(it);if(f.appendTo(v),l&&nt?f.width(nt):l?(f.css("width","auto"),f.width()<v.offsetWidth&&f.width(v.offsetWidth)):g?f.width(v.offsetWidth):a&&f.width(a),kf(t,f[0]),l){for(y=0,i=0;i<e.length;i++)u=s[e[i]],d=r(h[i]).outerWidth(),y+=u.sWidthOrig===null?d:parseInt(u.sWidth,10)+d-r(h[i]).width();f.width(o(y));c.style.width=o(y)}for(i=0;i<e.length;i++)u=s[e[i]],k=r(h[i]).width(),k&&(u.sWidth=o(k));c.style.width=o(f.css("width"));f.remove()}else for(i=0;i<w;i++)s[i].sWidth=o(h.eq(i).width());a&&(c.style.width=o(a));(a||l)&&!t._reszEvt&&(r(n).bind("resize.DT-"+t.sInstance,wr(function(){ht(t)})),t._reszEvt=!0)}function wr(n,t){var u=t||200,r,f;return function(){var e=this,t=+new Date,o=arguments;r&&t<r+u?(clearTimeout(f),f=setTimeout(function(){r=i;n.apply(e,o)},u)):r?(r=t,n.apply(e,o)):r=t}}function bf(n,i){if(!n)return 0;var u=r("<div/>").css("width",o(n)).appendTo(i||t.body),f=u[0].offsetWidth;return u.remove(),f}function kf(n,t){var i=n.oScroll,u;(i.sX||i.sY)&&(u=i.sX?0:i.iBarWidth,t.style.width=o(r(t).outerWidth()-u))}function df(n,t){var i=gf(n,t),u;return i<0?null:(u=n.aoData[i],u.nTr?u.anCells[t]:r("<td/>").html(p(n,i,t,"display"))[0])}function gf(n,t){for(var i,u=-1,f=-1,r=0,e=n.aoData.length;r<e;r++)i=p(n,r,t,"display")+"",i=i.replace(ge,""),i.length>u&&(u=i.length,f=r);return f}function o(n){return n===null?"0px":typeof n=="number"?n<0?"0px":n+"px":n.match(/\d$/)?n+"px":n}function ne(){var n;if(!u.__scrollbarWidth){var t=r("<p/>").css({width:"100%",height:200,padding:0})[0],i=r("<div/>").css({position:"absolute",top:0,left:0,width:200,height:150,padding:0,overflow:"hidden",visibility:"hidden"}).append(t).appendTo("body"),f=t.offsetWidth;i.css("overflow","scroll");n=t.offsetWidth;f===n&&(n=i[0].clientWidth);i.remove();u.__scrollbarWidth=f-n}return u.__scrollbarWidth}function et(n){var f,e,a,v=[],y=n.aoColumns,s,h,c,l,t=n.aaSortingFixed,p=r.isPlainObject(t),i=[],o=function(n){n.length&&!r.isArray(n[0])?i.push(n):i.push.apply(i,n)};for(r.isArray(t)&&o(t),p&&t.pre&&o(t.pre),o(n.aaSorting),p&&t.post&&o(t.post),f=0;f<i.length;f++)for(l=i[f][0],s=y[l].aDataSort,e=0,a=s.length;e<a;e++)h=s[e],c=y[h].sType||"string",v.push({src:l,col:h,dir:i[f][1],index:i[f][2],type:c,formatter:u.ext.type.order[c+"-pre"]});return v}function te(n){var t,s,h,r=[],c=u.ext.type.order,f=n.aoData,a=n.aoColumns,l=0,o,e=n.aiDisplayMaster,i;for(ur(n),i=et(n),t=0,s=i.length;t<s;t++)o=i[t],o.formatter&&l++,re(n,o.col);if(y(n)!="ssp"&&i.length!==0){for(t=0,h=e.length;t<h;t++)r[e[t]]=t;l===i.length?e.sort(function(n,t){for(var u,e,s,h,c=i.length,l=f[n]._aSortData,a=f[t]._aSortData,o=0;o<c;o++)if(h=i[o],u=l[h.col],e=a[h.col],s=u<e?-1:u>e?1:0,s!==0)return h.dir==="asc"?s:-s;return u=r[n],e=r[t],u<e?-1:u>e?1:0}):e.sort(function(n,t){for(var e,o,h,u,l,a=i.length,v=f[n]._aSortData,y=f[t]._aSortData,s=0;s<a;s++)if(u=i[s],e=v[u.col],o=y[u.col],l=c[u.type+"-"+u.dir]||c["string-"+u.dir],h=l(e,o),h!==0)return h;return e=r[n],o=r[t],e<o?-1:e>o?1:0})}n.bSorted=!0}function ie(n){for(var u,f,s=n.aoColumns,t=et(n),h=n.oLanguage.oAria,i=0,l=s.length;i<l;i++){var r=s[i],e=r.asSorting,c=r.sTitle.replace(/<.*?>/g,""),o=r.nTh;o.removeAttribute("aria-sort");r.bSortable?(t.length>0&&t[0].col==i?(o.setAttribute("aria-sort",t[0].dir=="asc"?"ascending":"descending"),f=e[t[0].index+1]||e[0]):f=e[0],u=c+(f==="asc"?h.sSortAscending:h.sSortDescending)):u=c;o.setAttribute("aria-label",u)}}function br(n,t,u,f){var l=n.aoColumns[t],e=n.aaSorting,o=l.asSorting,s,c=function(n){var t=n._idx;return t===i&&(t=r.inArray(n[1],o)),t+1>=o.length?0:t+1},h;typeof e[0]=="number"&&(e=n.aaSorting=[e]);u&&n.oFeatures.bSortMulti?(h=r.inArray(t,b(e,"0")),h!==-1?(s=c(e[h]),e[h][1]=o[s],e[h]._idx=s):(e.push([t,o[0],0]),e[e.length-1]._idx=0)):e.length&&e[0][0]==t?(s=c(e[0]),e.length=1,e[0][1]=o[s],e[0]._idx=s):(e.length=0,e.push([t,o[0]]),e[0]._idx=0);rt(n);typeof f=="function"&&f(n)}function kr(n,t,i,r){var u=n.aoColumns[i];dr(t,{},function(t){u.bSortable!==!1&&(n.oFeatures.bProcessing?(w(n,!0),setTimeout(function(){br(n,i,t.shiftKey,r);y(n)!=="ssp"&&w(n,!1)},0)):br(n,i,t.shiftKey,r))})}function pi(n){var e=n.aLastSort,o=n.oClasses.sSortColumn,f=et(n),s=n.oFeatures,t,i,u;if(s.bSort&&s.bSortClasses){for(t=0,i=e.length;t<i;t++)u=e[t].src,r(b(n.aoData,"anCells",u)).removeClass(o+(t<2?t+1:3));for(t=0,i=f.length;t<i;t++)u=f[t].src,r(b(n.aoData,"anCells",u)).addClass(o+(t<2?t+1:3))}n.aLastSort=f}function re(n,t){var s=n.aoColumns[t],f=u.ext.order[s.sSortDataType],h,r,e,o,i,c;for(f&&(h=f.call(n.oInstance,n,t,ct(n,t))),o=u.ext.type.order[s.sType+"-pre"],i=0,c=n.aoData.length;i<c;i++)r=n.aoData[i],r._aSortData||(r._aSortData=[]),(!r._aSortData[t]||f)&&(e=f?h[i]:p(n,i,t,"sort"),r._aSortData[t]=o?o(e):e)}function wi(n){if(n.oFeatures.bStateSave&&!n.bDestroying){var t={time:+new Date,start:n._iDisplayStart,length:n._iDisplayLength,order:r.extend(!0,[],n.aaSorting),search:sf(n.oPreviousSearch),columns:r.map(n.aoColumns,function(t,i){return{visible:t.bVisible,search:sf(n.aoPreSearchCols[i])}})};s(n,"aoStateSaveParams","stateSaveParams",[n,t]);n.oSavedState=t;n.fnStateSaveCallback.call(n.oInstance,n,t)}}function ue(n){var i,o,u=n.aoColumns,t,h,f,e;if(n.oFeatures.bStateSave&&(t=n.fnStateLoadCallback.call(n.oInstance,n),t&&t.time)&&(h=s(n,"aoStateLoadParams","stateLoadParams",[n,t]),r.inArray(!1,h)===-1)&&(f=n.iStateDuration,!(f>0)||!(t.time<+new Date-f*1e3))&&u.length===t.columns.length){for(n.oLoadedState=r.extend(!0,{},t),n._iDisplayStart=t.start,n.iInitDisplayStart=t.start,n._iDisplayLength=t.length,n.aaSorting=[],r.each(t.order,function(t,i){n.aaSorting.push(i[0]>=u.length?[0,i[1]]:i)}),r.extend(n.oPreviousSearch,hf(t.search)),i=0,o=t.columns.length;i<o;i++)e=t.columns[i],u[i].bVisible=e.visible,r.extend(n.aoPreSearchCols[i],hf(e.search));s(n,"aoStateLoaded","stateLoaded",[n,t])}}function bi(n){var t=u.settings,i=r.inArray(n,b(t,"nTable"));return i!==-1?t[i]:null}function ot(t,i,r,f){if(r="DataTables warning: "+(t!==null?"table id="+t.sTableId+" - ":"")+r,f&&(r+=". For more information about this error, please see http://datatables.net/tn/"+f),i)n.console&&console.log&&console.log(r);else{var e=u.ext,o=e.sErrMode||e.errMode;if(o=="alert")alert(r);else throw new Error(r);}}function k(n,t,u,f){if(r.isArray(u)){r.each(u,function(i,u){r.isArray(u)?k(n,t,u[0],u[1]):k(n,t,u)});return}f===i&&(f=u);t[u]!==i&&(n[f]=t[u])}function fe(n,t,i){var f;for(var u in t)t.hasOwnProperty(u)&&(f=t[u],r.isPlainObject(f)?(r.isPlainObject(n[u])||(n[u]={}),r.extend(!0,n[u],f)):n[u]=i&&u!=="data"&&u!=="aaData"&&r.isArray(f)?f.slice():f);return n}function dr(n,t,i){r(n).bind("click.DT",t,function(t){n.blur();i(t)}).bind("keypress.DT",t,function(n){n.which===13&&(n.preventDefault(),i(n))}).bind("selectstart.DT",function(){return!1})}function a(n,t,i,r){i&&n[t].push({fn:i,sName:r})}function s(n,t,i,u){var f=[];return t&&(f=r.map(n[t].slice().reverse(),function(t){return t.fn.apply(n.oInstance,u)})),i!==null&&r(n.nTable).trigger(i+".dt",u),f}function gr(n){var t=n._iDisplayStart,i=n.fnDisplayEnd(),r=n._iDisplayLength;i===n.fnRecordsDisplay()&&(t=i-r);(r===-1||t<0)&&(t=0);n._iDisplayStart=t}function nu(n,t){var i=n.renderer,f=u.ext.renderer[t];return r.isPlainObject(i)&&i[t]?f[i[t]]||f._:typeof i=="string"?f[i]||f._:f._}function y(n){return n.oFeatures.bServerSide?"ssp":n.ajax||n.sAjaxSource?"ajax":"dom"}function su(n,t){var i=[],r=ou.numbers_length,u=Math.floor(r/2);return t<=r?i=ut(0,t):n<=u?(i=ut(0,r-2),i.push("ellipsis"),i.push(t-1)):n>=t-1-u?(i=ut(t-(r-2),t),i.splice(0,0,"ellipsis"),i.splice(0,0,0)):(i=ut(n-1,n+2),i.push("ellipsis"),i.push(t-1),i.splice(0,0,"ellipsis"),i.splice(0,0,0)),i.DT_el="span",i}function ce(n){r.each({num:function(t){return gt(t,n)},"num-fmt":function(t){return gt(t,n,gi)},"html-num":function(t){return gt(t,n,ni)},"html-num-fmt":function(t){return gt(t,n,ni,gi)}},function(t,i){l.type.order[t+n+"-pre"]=i})}function le(n){return function(){var t=[bi(this[u.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return u.ext.internal[n].apply(this,t)}}var u,l,e,f,h,di={},hu=/[\r\n]/g,ni=/<.*?>/g,ae=/^[\w\+\-]/,ve=/[\w\+\-]$/,ye=new RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),gi=/[',$£€¥%\u2009\u202F]/g,g=function(n){return!n||n===!0||n==="-"?!0:!1},cu=function(n){var t=parseInt(n,10);return!isNaN(t)&&isFinite(n)?t:null},lu=function(n,t){return di[t]||(di[t]=new RegExp(ar(t),"g")),typeof n=="string"?n.replace(/\./g,"").replace(di[t],"."):n},nr=function(n,t,i){var r=typeof n=="string";return t&&r&&(n=lu(n,t)),i&&r&&(n=n.replace(gi,"")),g(n)||!isNaN(parseFloat(n))&&isFinite(n)},pe=function(n){return g(n)||typeof n=="string"},au=function(n,t,i){if(g(n))return!0;var r=pe(n);return r?nr(we(n),t,i)?!0:null:null},b=function(n,t,r){var f=[],u=0,e=n.length;if(r!==i)for(;u<e;u++)n[u]&&n[u][t]&&f.push(n[u][t][r]);else for(;u<e;u++)n[u]&&f.push(n[u][t]);return f},ti=function(n,t,r,u){var e=[],f=0,o=t.length;if(u!==i)for(;f<o;f++)e.push(n[t[f]][r][u]);else for(;f<o;f++)e.push(n[t[f]][r]);return e},ut=function(n,t){var f=[],u,r;for(t===i?(t=0,u=n):(u=t,t=n),r=t;r<u;r++)f.push(r);return f},we=function(n){return n.replace(ni,"")},tr=function(n){var r=[],u,t,e=n.length,i,f=0;n:for(t=0;t<e;t++){for(u=n[t],i=0;i<f;i++)if(r[i]===u)continue n;r.push(u);f++}return r},v=function(n,t,r){n[t]!==i&&(n[r]=n[t])},vt=/\[.*?\]$/,ft=/\(\)$/,ai=r("<div>")[0],de=ai.textContent!==i,ge=/<.*?>/g,oe,tu,he,ou,gt;u=function(n){var f;this.$=function(n,t){return this.api(!0).$(n,t)};this._=function(n,t){return this.api(!0).rows(n,t).data()};this.api=function(n){return n?new e(bi(this[l.iApiIndex])):new e(this)};this.fnAddData=function(n,t){var u=this.api(!0),f=r.isArray(n)&&(r.isArray(n[0])||r.isPlainObject(n[0]))?u.rows.add(n):u.row.add(n);return(t===i||t)&&u.draw(),f.flatten().toArray()};this.fnAdjustColumnSizing=function(n){var t=this.api(!0).columns.adjust(),r=t.settings()[0],u=r.oScroll;n===i||n?t.draw(!1):(u.sX!==""||u.sY!=="")&&kt(r)};this.fnClearTable=function(n){var t=this.api(!0).clear();(n===i||n)&&t.draw()};this.fnClose=function(n){this.api(!0).row(n).child.hide()};this.fnDeleteRow=function(n,t,r){var f=this.api(!0),u=f.rows(n),e=u.settings()[0],o=e.aoData[u[0][0]];return u.remove(),t&&t.call(this,e,o),(r===i||r)&&f.draw(),o};this.fnDestroy=function(n){this.api(!0).destroy(n)};this.fnDraw=function(n){this.api(!0).draw(!n)};this.fnFilter=function(n,t,r,u,f,e){var o=this.api(!0);t===null||t===i?o.search(n,r,u,e):o.column(t).search(n,r,u,e);o.draw()};this.fnGetData=function(n,t){var r=this.api(!0),u;return n!==i?(u=n.nodeName?n.nodeName.toLowerCase():"",t!==i||u=="td"||u=="th"?r.cell(n,t).data():r.row(n).data()||null):r.data().toArray()};this.fnGetNodes=function(n){var t=this.api(!0);return n!==i?t.row(n).node():t.rows().nodes().flatten().toArray()};this.fnGetPosition=function(n){var r=this.api(!0),i=n.nodeName.toUpperCase(),t;return i=="TR"?r.row(n).index():i=="TD"||i=="TH"?(t=r.cell(n).index(),[t.row,t.columnVisible,t.column]):null};this.fnIsOpen=function(n){return this.api(!0).row(n).child.isShown()};this.fnOpen=function(n,t,i){return this.api(!0).row(n).child(t,i).show().child()[0]};this.fnPageChange=function(n,t){var r=this.api(!0).page(n);(t===i||t)&&r.draw(!1)};this.fnSetColumnVis=function(n,t,r){var u=this.api(!0).column(n).visible(t);(r===i||r)&&u.columns.adjust().draw()};this.fnSettings=function(){return bi(this[l.iApiIndex])};this.fnSort=function(n){this.api(!0).order(n).draw()};this.fnSortListener=function(n,t,i){this.api(!0).order.listener(n,t,i)};this.fnUpdate=function(n,t,r,u,f){var e=this.api(!0);return r===i||r===null?e.row(t).data(n):e.cell(t,r).data(n),(f===i||f)&&e.columns.adjust(),(u===i||u)&&e.draw(),0};this.fnVersionCheck=l.fnVersionCheck;var t=this,o=n===i,h=this.length;o&&(n={});this.oApi=this.internal=l.internal;for(f in u.ext.internal)f&&(this[f]=le(f));return this.each(function(){var e=h>1?fe({},n,!0):n,c=0,p,d=this.getAttribute("id"),yt=!1,l=u.defaults,v,pt,bt,f,w,lt,ut,ft,g,it,at,rt,st,vt,kt,ht,ct,b;if(this.nodeName.toLowerCase()!="table"){ot(null,0,"Non-table node initialisation ("+this.nodeName+")",2);return}for(vu(l),yu(l.column),nt(l,l,!0),nt(l.column,l.column,!0),nt(l,e),v=u.settings,c=0,p=v.length;c<p;c++){if(v[c].nTable==this){if(pt=e.bRetrieve!==i?e.bRetrieve:l.bRetrieve,bt=e.bDestroy!==i?e.bDestroy:l.bDestroy,o||pt)return v[c].oInstance;if(bt){v[c].oInstance.fnDestroy();break}else{ot(v[c],0,"Cannot reinitialise DataTable",3);return}}if(v[c].sTableId==this.id){v.splice(c,1);break}}if((d===null||d==="")&&(d="DataTables_Table_"+u.ext._unique++,this.id=d),f=r.extend(!0,{},u.models.oSettings,{nTable:this,oApi:t.internal,oInit:e,sDestroyWidth:r(this)[0].style.width,sInstance:d,sTableId:d}),v.push(f),f.oInstance=t.length===1?t:r(this).dataTable(),vu(e),e.oLanguage&&ir(e.oLanguage),e.aLengthMenu&&!e.iDisplayLength&&(e.iDisplayLength=r.isArray(e.aLengthMenu[0])?e.aLengthMenu[0][0]:e.aLengthMenu[0]),e=fe(r.extend(!0,{},l),e),k(f.oFeatures,e,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),k(f,e,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),k(f.oScroll,e,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),k(f.oLanguage,e,"fnInfoCallback"),a(f,"aoDrawCallback",e.fnDrawCallback,"user"),a(f,"aoServerParams",e.fnServerParams,"user"),a(f,"aoStateSaveParams",e.fnStateSaveParams,"user"),a(f,"aoStateLoadParams",e.fnStateLoadParams,"user"),a(f,"aoStateLoaded",e.fnStateLoaded,"user"),a(f,"aoRowCallback",e.fnRowCallback,"user"),a(f,"aoRowCreatedCallback",e.fnCreatedRow,"user"),a(f,"aoHeaderCallback",e.fnHeaderCallback,"user"),a(f,"aoFooterCallback",e.fnFooterCallback,"user"),a(f,"aoInitComplete",e.fnInitComplete,"user"),a(f,"aoPreDrawCallback",e.fnPreDrawCallback,"user"),w=f.oClasses,e.bJQueryUI?(r.extend(w,u.ext.oJUIClasses,e.oClasses),e.sDom===l.sDom&&l.sDom==="lfrtip"&&(f.sDom='<"H"lfr>t<"F"ip>'),f.renderer?r.isPlainObject(f.renderer)&&!f.renderer.header&&(f.renderer.header="jqueryui"):f.renderer="jqueryui"):r.extend(w,u.ext.classes,e.oClasses),r(this).addClass(w.sTable),(f.oScroll.sX!==""||f.oScroll.sY!=="")&&(f.oScroll.iBarWidth=ne()),f.oScroll.sX===!0&&(f.oScroll.sX="100%"),f.iInitDisplayStart===i&&(f.iInitDisplayStart=e.iDisplayStart,f._iDisplayStart=e.iDisplayStart),e.iDeferLoading!==null&&(f.bDeferLoading=!0,lt=r.isArray(e.iDeferLoading),f._iRecordsDisplay=lt?e.iDeferLoading[0]:e.iDeferLoading,f._iRecordsTotal=lt?e.iDeferLoading[1]:e.iDeferLoading),e.oLanguage.sUrl!==""?(f.oLanguage.sUrl=e.oLanguage.sUrl,r.getJSON(f.oLanguage.sUrl,null,function(n){ir(n);nt(l.oLanguage,n);r.extend(!0,f.oLanguage,e.oLanguage,n);vi(f)}),yt=!0):r.extend(!0,f.oLanguage,e.oLanguage),e.asStripeClasses===null&&(f.asStripeClasses=[w.sStripeOdd,w.sStripeEven]),ut=f.asStripeClasses,ft=r("tbody tr:eq(0)",this),r.inArray(!0,r.map(ut,function(n){return ft.hasClass(n)}))!==-1&&(r("tbody tr",this).removeClass(ut.join(" ")),f.asDestroyStripes=ut.slice()),g=[],at=this.getElementsByTagName("thead"),at.length!==0&&(wt(f.aoHeader,at[0]),g=hi(f)),e.aoColumns===null)for(it=[],c=0,p=g.length;c<p;c++)it.push(null);else it=e.aoColumns;for(c=0,p=it.length;c<p;c++)rr(f,g?g[c]:null);if(bu(f,e.aoColumnDefs,it,function(n,t){ii(f,n,t)}),ft.length&&(rt=function(n,t){return n.getAttribute("data-"+t)?t:null},r.each(si(f,ft[0]).cells,function(n,t){var e=f.aoColumns[n],r,u;e.mData===n&&(r=rt(t,"sort")||rt(t,"order"),u=rt(t,"filter")||rt(t,"search"),(r!==null||u!==null)&&(e.mData={_:n+".display",sort:r!==null?n+".@data-"+r:i,type:r!==null?n+".@data-"+r:i,filter:u!==null?n+".@data-"+u:i},ii(f,n)))})),st=f.oFeatures,e.bStateSave&&(st.bStateSave=!0,ue(f,e),a(f,"aoDrawCallback",wi,"state_save")),e.aaSorting===i)for(vt=f.aaSorting,c=0,p=vt.length;c<p;c++)vt[c][1]=f.aoColumns[c].asSorting[0];if(pi(f),st.bSort&&a(f,"aoDrawCallback",function(){if(f.bSorted){var n=et(f),t={};r.each(n,function(n,i){t[i.src]=i.dir});s(f,null,"order",[f,n,t]);ie(f)}}),a(f,"aoDrawCallback",function(){(f.bSorted||y(f)==="ssp"||st.bDeferRender)&&pi(f)},"sc"),pu(f),kt=r(this).children("caption").each(function(){this._captionSide=r(this).css("caption-side")}),ht=r(this).children("thead"),ht.length===0&&(ht=r("<thead/>").appendTo(this)),f.nTHead=ht[0],ct=r(this).children("tbody"),ct.length===0&&(ct=r("<tbody/>").appendTo(this)),f.nTBody=ct[0],b=r(this).children("tfoot"),b.length===0&&kt.length>0&&(f.oScroll.sX!==""||f.oScroll.sY!=="")&&(b=r("<tfoot/>").appendTo(this)),b.length===0||b.children().length===0?r(this).addClass(w.sNoFooter):b.length>0&&(f.nTFoot=b[0],wt(f.aoFooter,f.nTFoot)),e.aaData)for(c=0;c<e.aaData.length;c++)tt(f,e.aaData[c]);else(f.bDeferLoading||y(f)=="dom")&&ui(f,r(f.nTBody).children("tr"));f.aiDisplay=f.aiDisplayMaster.slice();f.bInitialised=!0;yt===!1&&vi(f)}),t=null,this};var ee=[],c=Array.prototype,no=function(n){var t,i,f=u.settings,e=r.map(f,function(n){return n.nTable});if(n){if(n.nTable&&n.oApi)return[n];if(n.nodeName&&n.nodeName.toLowerCase()==="table")return t=r.inArray(n,e),t!==-1?[f[t]]:null;if(n&&typeof n.settings=="function")return n.settings().toArray();typeof n=="string"?i=r(n):n instanceof r&&(i=n)}else return[];if(i)return i.map(function(){return t=r.inArray(this,e),t!==-1?f[t]:null}).toArray()};e=function(n,t){var i,f,u,o;if(!this instanceof e)throw"DT API must be constructed as a new object";if(i=[],f=function(n){var t=no(n);t&&i.push.apply(i,t)},r.isArray(n))for(u=0,o=n.length;u<o;u++)f(n[u]);else f(n);this.context=tr(i);t&&this.push.apply(this,t.toArray?t.toArray():t);this.selector={rows:null,cols:null,opts:null};e.extend(this,this,ee)};u.Api=e;e.prototype={concat:c.concat,context:[],each:function(n){for(var t=0,i=this.length;t<i;t++)n.call(this,this[t],t,this);return this},eq:function(n){var t=this.context;return t.length>n?new e(t[n],this[n]):null},filter:function(n){var i=[],t,r;if(c.filter)i=c.filter.call(this,n,this);else for(t=0,r=this.length;t<r;t++)n.call(this,this[t],t,this)&&i.push(this[t]);return new e(this.context,i)},flatten:function(){var n=[];return new e(this.context,n.concat.apply(n,this.toArray()))},join:c.join,indexOf:c.indexOf||function(n,t){for(var i=t||0,r=this.length;i<r;i++)if(this[i]===n)return i;return-1},iterator:function(n,t,r){var o=[],f,u,p,h,w,s=this.context,b,v,c,l=this.selector,y,a;for(typeof n=="string"&&(r=t,t=n,n=!1),u=0,p=s.length;u<p;u++)if(t==="table")f=r(s[u],u),f!==i&&o.push(f);else if(t==="columns"||t==="rows")f=r(s[u],this[u],u),f!==i&&o.push(f);else if(t==="column"||t==="column-rows"||t==="row"||t==="cell")for(v=this[u],t==="column-rows"&&(b=fu(s[u],l.opts)),h=0,w=v.length;h<w;h++)c=v[h],f=t==="cell"?r(s[u],c.row,c.column,u,h):r(s[u],c,u,h,b),f!==i&&o.push(f);return o.length?(y=new e(s,n?o.concat.apply([],o):o),a=y.selector,a.rows=l.rows,a.cols=l.cols,a.opts=l.opts,y):this},lastIndexOf:c.lastIndexOf||function(){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(n){var i=[],t,r;if(c.map)i=c.map.call(this,n,this);else for(t=0,r=this.length;t<r;t++)i.push(n.call(this,this[t],t));return new e(this.context,i)},pluck:function(n){return this.map(function(t){return t[n]})},pop:c.pop,push:c.push,reduce:c.reduce||function(n,t){return wu(this,n,t,0,this.length,1)},reduceRight:c.reduceRight||function(n,t){return wu(this,n,t,this.length-1,-1,-1)},reverse:c.reverse,selector:null,shift:c.shift,sort:c.sort,splice:c.splice,toArray:function(){return c.slice.call(this)},to$:function(){return r(this)},toJQuery:function(){return r(this)},unique:function(){return new e(this.context,tr(this))},unshift:c.unshift};e.extend=function(n,t,i){if(t&&(t instanceof e||t.__dt_wrapper))for(var u,s=function(n,t,i){return function(){var r=t.apply(n,arguments);return e.extend(r,r,i.methodExt),r}},f=0,o=i.length;f<o;f++)u=i[f],t[u.name]=typeof u.val=="function"?s(n,u.val,u):r.isPlainObject(u.val)?{}:u.val,t[u.name].__dt_wrapper=!0,e.extend(n,t[u.name],u.propExt)};e.register=f=function(n,t){var f,a,u;if(r.isArray(n)){for(f=0,a=n.length;f<a;f++)e.register(n[f],t);return}for(var o=n.split("."),h=ee,c,l,v=function(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i].name===t)return n[i];return null},i=0,s=o.length;i<s;i++)l=o[i].indexOf("()")!==-1,c=l?o[i].replace("()",""):o[i],u=v(h,c),u||(u={name:c,val:{},methodExt:[],propExt:[]},h.push(u)),i===s-1?u.val=t:h=l?u.methodExt:u.propExt};e.registerPlural=h=function(n,t,u){e.register(n,u);e.register(t,function(){var n=u.apply(this,arguments);return n===this?this:n instanceof e?n.length?r.isArray(n[0])?new e(n.context,n[0]):n[0]:i:n})};oe=function(n,t){if(typeof n=="number")return[t[n]];var i=r.map(t,function(n){return n.nTable});return r(i).filter(n).map(function(){var n=r.inArray(this,i);return t[n]}).toArray()};f("tables()",function(n){return n?new e(oe(n,this.context)):this});f("table()",function(n){var t=this.tables(n),i=t.context;return i.length?new e(i[0]):t});h("tables().nodes()","table().node()",function(){return this.iterator("table",function(n){return n.nTable})});h("tables().body()","table().body()",function(){return this.iterator("table",function(n){return n.nTBody})});h("tables().header()","table().header()",function(){return this.iterator("table",function(n){return n.nTHead})});h("tables().footer()","table().footer()",function(){return this.iterator("table",function(n){return n.nTFoot})});h("tables().containers()","table().container()",function(){return this.iterator("table",function(n){return n.nTableWrapper})});f("draw()",function(n){return this.iterator("table",function(t){rt(t,n===!1)})});f("page()",function(n){return n===i?this.page.info().page:this.iterator("table",function(t){yr(t,n)})});f("page.info()",function(){if(this.context.length===0)return i;var n=this.context[0],r=n._iDisplayStart,t=n._iDisplayLength,u=n.fnRecordsDisplay(),f=t===-1;return{page:f?0:Math.floor(r/t),pages:f?1:Math.ceil(u/t),start:r,end:n.fnDisplayEnd(),length:t,recordsTotal:n.fnRecordsTotal(),recordsDisplay:u}});f("page.len()",function(n){return n===i?this.context.length!==0?this.context[0]._iDisplayLength:i:this.iterator("table",function(t){vr(t,n)})});tu=function(n,t,i){if(y(n)=="ssp"?rt(n,t):(w(n,!0),ci(n,[],function(i){var u,r,f;for(fi(n),u=li(n,i),r=0,f=u.length;r<f;r++)tt(n,u[r]);rt(n,t);w(n,!1)})),i){var r=new e(n);r.one("draw",function(){i(r.ajax.json())})}};f("ajax.json()",function(){var n=this.context;if(n.length>0)return n[0].json});f("ajax.params()",function(){var n=this.context;if(n.length>0)return n[0].oAjaxData});f("ajax.reload()",function(n,t){return this.iterator("table",function(i){tu(i,t===!1,n)})});f("ajax.url()",function(n){var t=this.context;return n===i?t.length===0?i:(t=t[0],t.ajax?r.isPlainObject(t.ajax)?t.ajax.url:t.ajax:t.sAjaxSource):this.iterator("table",function(t){r.isPlainObject(t.ajax)?t.ajax.url=n:t.ajax=n})});f("ajax.url().load()",function(n,t){return this.iterator("table",function(i){tu(i,t===!1,n)})});var iu=function(n,t){var s=[],o,e,u,h,f,c;for(n&&typeof n!="string"&&n.length!==i||(n=[n]),u=0,h=n.length;u<h;u++)for(e=n[u]&&n[u].split?n[u].split(","):[n[u]],f=0,c=e.length;f<c;f++)o=t(typeof e[f]=="string"?r.trim(e[f]):e[f]),o&&o.length&&s.push.apply(s,o);return s},ru=function(n){return n||(n={}),n.filter&&!n.search&&(n.search=n.filter),{search:n.search||"none",order:n.order||"current",page:n.page||"all"}},uu=function(n){for(var t=0,i=n.length;t<i;t++)if(n[t].length>0)return n[0]=n[t],n.length=1,n.context=[n.context[t]],n;return n.length=0,n},fu=function(n,t){var i,e,h,f=[],o=n.aiDisplay,c=n.aiDisplayMaster,u=t.search,s=t.order,l=t.page;if(y(n)=="ssp")return u==="removed"?[]:ut(0,c.length);if(l=="current")for(i=n._iDisplayStart,e=n.fnDisplayEnd();i<e;i++)f.push(o[i]);else if(s=="current"||s=="applied")f=u=="none"?c.slice():u=="applied"?o.slice():r.map(c,function(n){return r.inArray(n,o)===-1?n:null});else if(s=="index"||s=="original")for(i=0,e=n.aoData.length;i<e;i++)u=="none"?f.push(i):(h=r.inArray(i,o),(h===-1&&u=="removed"||h>=0&&u=="applied")&&f.push(i));return f},to=function(n,t,i){return iu(t,function(t){var u=cu(t),f,e,o,s;if(u!==null&&!i)return[u];if(f=fu(n,i),u!==null&&r.inArray(u,f)!==-1)return[u];if(!t)return f;for(e=[],o=0,s=f.length;o<s;o++)e.push(n.aoData[f[o]].nTr);return t.nodeName&&r.inArray(t,e)!==-1?[t._DT_RowIndex]:r(e).filter(t).map(function(){return this._DT_RowIndex}).toArray()})};f("rows()",function(n,t){n===i?n="":r.isPlainObject(n)&&(t=n,n="");t=ru(t);var u=this.iterator("table",function(i){return to(i,n,t)});return u.selector.rows=n,u.selector.opts=t,u});f("rows().nodes()",function(){return this.iterator("row",function(n,t){return n.aoData[t].nTr||i})});f("rows().data()",function(){return this.iterator(!0,"rows",function(n,t){return ti(n.aoData,t,"_aData")})});h("rows().cache()","row().cache()",function(n){return this.iterator("row",function(t,i){var r=t.aoData[i];return n==="search"?r._aFilterData:r._aSortData})});h("rows().invalidate()","row().invalidate()",function(n){return this.iterator("row",function(t,i){oi(t,i,n)})});h("rows().indexes()","row().index()",function(){return this.iterator("row",function(n,t){return t})});h("rows().remove()","row().remove()",function(){var n=this;return this.iterator("row",function(t,i,u){var e=t.aoData,f,o,s;for(e.splice(i,1),f=0,o=e.length;f<o;f++)e[f].nTr!==null&&(e[f].nTr._DT_RowIndex=f);s=r.inArray(i,t.aiDisplay);ei(t.aiDisplayMaster,i);ei(t.aiDisplay,i);ei(n[u],i,!1);gr(t)})});f("rows.add()",function(n){var i=this.iterator("table",function(t){for(var i,u=[],r=0,f=n.length;r<f;r++)i=n[r],i.nodeName&&i.nodeName.toUpperCase()==="TR"?u.push(ui(t,i)[0]):u.push(tt(t,i));return u}),t=this.rows(-1);return t.pop(),t.push.apply(t,i.toArray()),t});f("row()",function(n,t){return uu(this.rows(n,t))});f("row().data()",function(n){var t=this.context;return n===i?t.length&&this.length?t[0].aoData[this[0]]._aData:i:(t[0].aoData[this[0]]._aData=n,oi(t[0],this[0],"data"),this)});f("row().node()",function(){var n=this.context;return n.length&&this.length?n[0].aoData[this[0]].nTr||null:null});f("row.add()",function(n){n instanceof r&&n.length&&(n=n[0]);var t=this.iterator("table",function(t){return n.nodeName&&n.nodeName.toUpperCase()==="TR"?ui(t,n)[0]:tt(t,n)});return this.row(t[0])});var io=function(n,t,i,u){var e=[],o=function(t,i){if(t.nodeName&&t.nodeName.toLowerCase()==="tr")e.push(t);else{var u=r("<tr><td/><\/tr>").addClass(i);r("td",u).addClass(i).html(t)[0].colSpan=lt(n);e.push(u[0])}},f,s;if(r.isArray(i)||i instanceof r)for(f=0,s=i.length;f<s;f++)o(i[f],u);else o(i,u);t._details&&t._details.remove();t._details=r(e);t._detailsShow&&t._details.insertAfter(t.nTr)},eu=function(n){var r=n.context,t;r.length&&n.length&&(t=r[0].aoData[n[0]],t._details&&(t._details.remove(),t._detailsShow=i,t._details=i))},se=function(n,t){var r=n.context,i;r.length&&n.length&&(i=r[0].aoData[n[0]],i._details&&(i._detailsShow=t,t?i._details.insertAfter(i.nTr):i._details.detach(),ro(r[0])))},ro=function(n){var i=new e(n),r=".dt.DT_details",u="draw"+r,f="column-visibility"+r,o="destroy"+r,t=n.aoData;if(i.off(u+" "+f+" "+o),b(t,"_details").length>0){i.on(u,function(r,u){n===u&&i.rows({page:"current"}).eq(0).each(function(n){var i=t[n];i._detailsShow&&i._details.insertAfter(i.nTr)})});i.on(f,function(i,r){var f,e,u,o;if(n===r)for(e=lt(r),u=0,o=t.length;u<o;u++)f=t[u],f._details&&f._details.children("td[colspan]").attr("colspan",e)});i.on(o,function(i,r){if(n===r)for(var u=0,f=t.length;u<f;u++)t[u]._details&&eu(t[u])})}},dt="row().child",ki=dt+"()";f(ki,function(n,t){var r=this.context;return n===i?r.length&&this.length?r[0].aoData[this[0]]._details:i:(n===!0?this.child.show():n===!1?eu(this):r.length&&this.length&&io(r[0],r[0].aoData[this[0]],n,t),this)});f([dt+".show()",ki+".show()"],function(){return se(this,!0),this});f([dt+".hide()",ki+".hide()"],function(){return se(this,!1),this});f([dt+".remove()",ki+".remove()"],function(){return eu(this),this});f(dt+".isShown()",function(){var n=this.context;return n.length&&this.length?n[0].aoData[this[0]]._detailsShow||!1:!1});var uo=/^(.*):(name|visIdx|visible)$/,fo=function(n,t){var i=n.aoColumns,f=b(i,"sName"),u=b(i,"nTh");return iu(t,function(t){var o=cu(t),e,s,h;if(t==="")return ut(i.length);if(o!==null)return[o>=0?o:i.length+o];if(e=typeof t=="string"?t.match(uo):"",e)switch(e[2]){case"visIdx":case"visible":return(s=parseInt(e[1],10),s<0)?(h=r.map(i,function(n,t){return n.bVisible?t:null}),[h[h.length+s]]):[ri(n,s)];case"name":return r.map(f,function(n,t){return n===e[1]?t:null})}else return r(u).filter(t).map(function(){return r.inArray(this,u)}).toArray()})},eo=function(n,t,u){var l=n.aoColumns,e=l[t],o=n.aoData,h,f,a,c,v;if(u===i)return e.bVisible;if(e.bVisible!==u){if(u)for(v=r.inArray(!0,b(l,"bVisible"),t+1),f=0,a=o.length;f<a;f++)c=o[f].nTr,h=o[f].anCells,c&&c.insertBefore(h[t],h[v]||null);else r(b(n.aoData,"anCells",t)).detach();e.bVisible=u;pt(n,n.aoHeader);pt(n,n.aoFooter);ht(n);(n.oScroll.sX||n.oScroll.sY)&&kt(n);s(n,null,"column-visibility",[n,t,u]);wi(n)}};return f("columns()",function(n,t){n===i?n="":r.isPlainObject(n)&&(t=n,n="");t=ru(t);var u=this.iterator("table",function(i){return fo(i,n,t)});return u.selector.cols=n,u.selector.opts=t,u}),h("columns().header()","column().header()",function(){return this.iterator("column",function(n,t){return n.aoColumns[t].nTh})}),h("columns().footer()","column().footer()",function(){return this.iterator("column",function(n,t){return n.aoColumns[t].nTf})}),h("columns().data()","column().data()",function(){return this.iterator("column-rows",function(n,t,i,r,u){for(var e=[],f=0,o=u.length;f<o;f++)e.push(p(n,u[f],t,""));return e})}),h("columns().cache()","column().cache()",function(n){return this.iterator("column-rows",function(t,i,r,u,f){return ti(t.aoData,f,n==="search"?"_aFilterData":"_aSortData",i)})}),h("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(n,t,i,r,u){return ti(n.aoData,u,"anCells",t)})}),h("columns().visible()","column().visible()",function(n){return this.iterator("column",function(t,r){return n===i?t.aoColumns[r].bVisible:eo(t,r,n)})}),h("columns().indexes()","column().index()",function(n){return this.iterator("column",function(t,i){return n==="visible"?ct(t,i):i})}),f("columns.adjust()",function(){return this.iterator("table",function(n){ht(n)})}),f("column.index()",function(n,t){if(this.context.length!==0){var i=this.context[0];if(n==="fromVisible"||n==="toData")return ri(i,t);if(n==="fromData"||n==="toVisible")return ct(i,t)}}),f("column()",function(n,t){return uu(this.columns(n,t))}),he=function(n,t,u){var c=n.aoData,s=fu(n,u),a=ti(c,s,"anCells"),v=r([].concat.apply([],a)),f,y=n.aoColumns.length,h,e,l,o;return iu(t,function(n){if(n===null||n===i){for(h=[],e=0,l=s.length;e<l;e++)for(f=s[e],o=0;o<y;o++)h.push({row:f,column:o});return h}return r.isPlainObject(n)?[n]:v.filter(n).map(function(n,t){return f=t.parentNode._DT_RowIndex,{row:f,column:r.inArray(t,c[f].anCells)}}).toArray()})},f("cells()",function(n,t,u){if(r.isPlainObject(n)&&(typeof n.row!==i?(u=t,t=null):(u=n,n=null)),r.isPlainObject(t)&&(u=t,t=null),t===null||t===i)return this.iterator("table",function(t){return he(t,n,ru(u))});var s=this.columns(t,u),h=this.rows(n,u),o,f,c,e,l,a=this.iterator("table",function(n,t){for(o=[],f=0,c=h[t].length;f<c;f++)for(e=0,l=s[t].length;e<l;e++)o.push({row:h[t][f],column:s[t][e]});return o});return r.extend(a.selector,{cols:t,rows:n,opts:u}),a}),h("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(n,t,i){return n.aoData[t].anCells[i]})}),f("cells().data()",function(){return this.iterator("cell",function(n,t,i){return p(n,t,i)})}),h("cells().cache()","cell().cache()",function(n){return n=n==="search"?"_aFilterData":"_aSortData",this.iterator("cell",function(t,i,r){return t.aoData[i][n][r]})}),h("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(n,t,i){return{row:t,column:i,columnVisible:ct(n,i)}})}),f(["cells().invalidate()","cell().invalidate()"],function(n){var t=this.selector;return this.rows(t.rows,t.opts).invalidate(n),this}),f("cell()",function(n,t,i){return uu(this.cells(n,t,i))}),f("cell().data()",function(n){var r=this.context,t=this[0];return n===i?r.length&&t.length?p(r[0],t[0].row,t[0].column):i:(fr(r[0],t[0].row,t[0].column,n),oi(r[0],t[0].row,"data",t[0].column),this)}),f("order()",function(n,t){var u=this.context;return n===i?u.length!==0?u[0].aaSorting:i:(typeof n=="number"?n=[[n,t]]:r.isArray(n[0])||(n=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=n.slice()}))}),f("order.listener()",function(n,t,i){return this.iterator("table",function(r){kr(r,n,t,i)})}),f(["columns().order()","column().order()"],function(n){var t=this;return this.iterator("table",function(i,u){var f=[];r.each(t[u],function(t,i){f.push([i,n])});i.aaSorting=f})}),f("search()",function(n,t,u,f){var e=this.context;return n===i?e.length!==0?e[0].oPreviousSearch.sSearch:i:this.iterator("table",function(i){i.oFeatures.bFilter&&bt(i,r.extend({},i.oPreviousSearch,{sSearch:n+"",bRegex:t===null?!1:t,bSmart:u===null?!0:u,bCaseInsensitive:f===null?!0:f}),1)})}),f(["columns().search()","column().search()"],function(n,t,u,f){return this.iterator("column",function(e,o){var s=e.aoPreSearchCols;if(n===i)return s[o].sSearch;e.oFeatures.bFilter&&(r.extend(s[o],{sSearch:n+"",bRegex:t===null?!1:t,bSmart:u===null?!0:u,bCaseInsensitive:f===null?!0:f}),bt(e,e.oPreviousSearch,1))})}),f("state()",function(){return this.context.length?this.context[0].oSavedState:null}),f("state.clear()",function(){return this.iterator("table",function(n){n.fnStateSaveCallback.call(n.oInstance,n,{})})}),f("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),f("state.save()",function(){return this.iterator("table",function(n){wi(n)})}),u.versionCheck=u.fnVersionCheck=function(n){for(var e=u.version.split("."),f=n.split("."),i,r,t=0,o=f.length;t<o;t++)if(i=parseInt(e[t],10)||0,r=parseInt(f[t],10)||0,i!==r)return i>r;return!0},u.isDataTable=u.fnIsDataTable=function(n){var t=r(n).get(0),i=!1;return r.each(u.settings,function(n,r){(r.nTable===t||r.nScrollHead===t||r.nScrollFoot===t)&&(i=!0)}),i},u.tables=u.fnTables=function(n){return jQuery.map(u.settings,function(t){if(!n||n&&r(t.nTable).is(":visible"))return t.nTable})},u.camelToHungarian=nt,f("$()",function(n,t){var u=this.rows(t).nodes(),i=r(u);return r([].concat(i.filter(n).toArray(),i.find(n).toArray()))}),r.each(["on","one","off"],function(n,t){f(t+"()",function(){var n=Array.prototype.slice.call(arguments),i;return n[0].match(/\.dt\b/)||(n[0]+=".dt"),i=r(this.tables().nodes()),i[t].apply(i,n),this})}),f("clear()",function(){return this.iterator("table",function(n){fi(n)})}),f("settings()",function(){return new e(this.context,this.context)}),f("data()",function(){return this.iterator("table",function(n){return b(n.aoData,"_aData")}).flatten()}),f("destroy()",function(t){return t=t||!1,this.iterator("table",function(i){var p=i.nTableWrapper.parentNode,f=i.oClasses,c=i.nTable,k=i.nTBody,h=i.nTHead,l=i.nTFoot,o=r(c),a=r(k),w=r(i.nTableWrapper),b=r.map(i.aoData,function(n){return n.nTr}),v,y;i.bDestroying=!0;s(i,"aoDestroyCallback","destroy",[i]);t||new e(i).columns().visible(!0);w.unbind(".DT").find(":not(tbody *)").unbind(".DT");r(n).unbind(".DT-"+i.sInstance);c!=h.parentNode&&(o.children("thead").detach(),o.append(h));l&&c!=l.parentNode&&(o.children("tfoot").detach(),o.append(l));o.detach();w.detach();i.aaSorting=[];i.aaSortingFixed=[];pi(i);r(b).removeClass(i.asStripeClasses.join(" "));r("th, td",h).removeClass(f.sSortable+" "+f.sSortableAsc+" "+f.sSortableDesc+" "+f.sSortableNone);i.bJUI&&(r("th span."+f.sSortIcon+", td span."+f.sSortIcon,h).detach(),r("th, td",h).each(function(){var n=r("div."+f.sSortJUIWrapper,this);r(this).append(n.contents());n.detach()}));!t&&p&&p.insertBefore(c,i.nTableReinsertBefore);a.children().detach();a.append(b);o.css("width",i.sDestroyWidth).removeClass(f.sTable);v=i.asDestroyStripes.length;v&&a.children().each(function(n){r(this).addClass(i.asDestroyStripes[n%v])});y=r.inArray(i,u.settings);y!==-1&&u.settings.splice(y,1)})}),u.version="1.10.1",u.settings=[],u.models={},u.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},u.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null},u.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},u.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(n){return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(n){try{return JSON.parse((n.iStateDuration===-1?sessionStorage:localStorage).getItem("DataTables_"+n.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(n,t){try{(n.iStateDuration===-1?sessionStorage:localStorage).setItem("DataTables_"+n.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(i){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:r.extend({},u.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null},st(u.defaults),u.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},st(u.defaults.column),u.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:i,oAjaxData:i,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return y(this)=="ssp"?this._iRecordsTotal*1:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return y(this)=="ssp"?this._iRecordsDisplay*1:this.aiDisplay.length},fnDisplayEnd:function(){var n=this._iDisplayLength,t=this._iDisplayStart,r=t+n,i=this.aiDisplay.length,u=this.oFeatures,f=u.bPaginate;return u.bServerSide?f===!1||n===-1?t+i:Math.min(t+n,this._iRecordsDisplay):!f||r>i||n===-1?i:r},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{}},u.ext=l={classes:{},errMode:"alert",feature:[],search:[],internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:u.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:u.version},r.extend(l,{afnFiltering:l.search,aTypes:l.type.detect,ofnSearch:l.type.search,oSort:l.type.order,afnSortData:l.order,aoFeatures:l.feature,oApi:l.internal,oStdClasses:l.classes,oPagination:l.pager}),r.extend(u.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""}),function(){var i="";var n=i+"ui-state-default",t=i+"css_right ui-icon ui-icon-",f=i+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";r.extend(u.ext.oJUIClasses,u.ext.classes,{sPageButton:"fg-button ui-button "+n,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:n+" sorting_asc",sSortDesc:n+" sorting_desc",sSortable:n+" sorting",sSortableAsc:n+" sorting_asc_disabled",sSortableDesc:n+" sorting_desc_disabled",sSortableNone:n+" sorting_disabled",sSortJUIAsc:t+"triangle-1-n",sSortJUIDesc:t+"triangle-1-s",sSortJUI:t+"carat-2-n-s",sSortJUIAscAllowed:t+"carat-1-n",sSortJUIDescAllowed:t+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+n,sScrollFoot:"dataTables_scrollFoot "+n,sHeaderTH:n,sFooterTH:n,sJUIHeader:f+" ui-corner-tl ui-corner-tr",sJUIFooter:f+" ui-corner-bl ui-corner-br"})}(),ou=u.ext.pager,r.extend(ou,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},simple_numbers:function(n,t){return["previous",su(n,t),"next"]},full_numbers:function(n,t){return["first","previous",su(n,t),"next","last"]},_numbers:su,numbers_length:7}),r.extend(!0,u.ext.renderer,{pageButton:{_:function(n,i,u,f,e,o){var c=n.oClasses,l=n.oLanguage.oPaginate,s,h,v=0,y=function(t,i){for(var w,f,k=function(t){yr(n,t.data.action,!0)},b,a=0,p=i.length;a<p;a++)if(f=i[a],r.isArray(f))b=r("<"+(f.DT_el||"div")+"/>").appendTo(t),y(b,f);else{s="";h="";switch(f){case"ellipsis":t.append("<span>&hellip;<\/span>");break;case"first":s=l.sFirst;h=f+(e>0?"":" "+c.sPageButtonDisabled);break;case"previous":s=l.sPrevious;h=f+(e>0?"":" "+c.sPageButtonDisabled);break;case"next":s=l.sNext;h=f+(e<o-1?"":" "+c.sPageButtonDisabled);break;case"last":s=l.sLast;h=f+(e<o-1?"":" "+c.sPageButtonDisabled);break;default:s=f+1;h=e===f?c.sPageButtonActive:""}s&&(w=r("<a>",{"class":c.sPageButton+" "+h,"aria-controls":n.sTableId,"data-dt-idx":v,tabindex:n.iTabIndex,id:u===0&&typeof f=="string"?n.sTableId+"_"+f:null}).html(s).appendTo(t),dr(w,{action:f},k),v++)}},a;try{a=r(t.activeElement).data("dt-idx");y(r(i).empty(),f);a!==null&&r(i).find("[data-dt-idx="+a+"]").focus()}catch(p){}}}}),gt=function(n,t,i,r){return!n||n==="-"?-Infinity:(t&&(n=lu(n,t)),n.replace&&(i&&(n=n.replace(i,"")),r&&(n=n.replace(r,""))),n*1)},r.extend(l.type.order,{"date-pre":function(n){return Date.parse(n)||0},"html-pre":function(n){return g(n)?"":n.replace?n.replace(/<.*?>/g,"").toLowerCase():n+""},"string-pre":function(n){return g(n)?"":typeof n=="string"?n.toLowerCase():n.toString?n.toString():""},"string-asc":function(n,t){return n<t?-1:n>t?1:0},"string-desc":function(n,t){return n<t?1:n>t?-1:0}}),ce(""),r.extend(u.ext.type.detect,[function(n,t){var i=t.oLanguage.sDecimal;return nr(n,i)?"num"+i:null},function(n){if(n&&(!ae.test(n)||!ve.test(n)))return null;var t=Date.parse(n);return t!==null&&!isNaN(t)||g(n)?"date":null},function(n,t){var i=t.oLanguage.sDecimal;return nr(n,i,!0)?"num-fmt"+i:null},function(n,t){var i=t.oLanguage.sDecimal;return au(n,i)?"html-num"+i:null},function(n,t){var i=t.oLanguage.sDecimal;return au(n,i,!0)?"html-num-fmt"+i:null},function(n){return g(n)||typeof n=="string"&&n.indexOf("<")!==-1?"html":null}]),r.extend(u.ext.type.search,{html:function(n){return g(n)?n:typeof n=="string"?n.replace(hu," ").replace(ni,""):""},string:function(n){return g(n)?n:typeof n=="string"?n.replace(hu," "):n}}),r.extend(!0,u.ext.renderer,{header:{_:function(n,t,i,u){r(n.nTable).on("order.dt.DT",function(r,f,e,o){if(n===f){var s=i.idx;t.removeClass(i.sSortingClass+" "+u.sSortAsc+" "+u.sSortDesc).addClass(o[s]=="asc"?u.sSortAsc:o[s]=="desc"?u.sSortDesc:i.sSortingClass)}})},jqueryui:function(n,t,i,u){var f=i.idx;r("<div/>").addClass(u.sSortJUIWrapper).append(t.contents()).append(r("<span/>").addClass(u.sSortIcon+" "+i.sSortingClassJUI)).appendTo(t);r(n.nTable).on("order.dt.DT",function(r,e,o,s){n===e&&(t.removeClass(u.sSortAsc+" "+u.sSortDesc).addClass(s[f]=="asc"?u.sSortAsc:s[f]=="desc"?u.sSortDesc:i.sSortingClass),t.find("span."+u.sSortIcon).removeClass(u.sSortJUIAsc+" "+u.sSortJUIDesc+" "+u.sSortJUI+" "+u.sSortJUIAscAllowed+" "+u.sSortJUIDescAllowed).addClass(s[f]=="asc"?u.sSortJUIAsc:s[f]=="desc"?u.sSortJUIDesc:i.sSortingClassJUI))})}}}),u.render={number:function(n,t,i,r){return{display:function(u){var o=u<0?"-":"",f,e;return u=Math.abs(parseFloat(u)),f=parseInt(u,10),e=i?t+(u-f).toFixed(i).substring(2):"",o+(r||"")+f.toString().replace(/\B(?=(\d{3})+(?!\d))/g,n)+e}}}},r.extend(u.ext.internal,{_fnExternApiFunc:le,_fnBuildAjax:ci,_fnAjaxUpdate:gu,_fnAjaxParameters:nf,_fnAjaxUpdateDraw:tf,_fnAjaxDataSrc:li,_fnAddColumn:rr,_fnColumnOptions:ii,_fnAdjustColumnSizing:ht,_fnVisibleToColumnIndex:ri,_fnColumnIndexToVisible:ct,_fnVisbleColumns:lt,_fnGetColumns:at,_fnColumnTypes:ur,_fnApplyColumnDefs:bu,_fnHungarianMap:st,_fnCamelToHungarian:nt,_fnLanguageCompat:ir,_fnBrowserDetect:pu,_fnAddData:tt,_fnAddTr:ui,_fnNodeToDataIndex:be,_fnNodeToColumnIndex:ke,_fnGetCellData:p,_fnSetCellData:fr,_fnSplitObjNotation:er,_fnGetObjectDataFn:yt,_fnSetObjectDataFn:or,_fnGetDataMaster:sr,_fnClearTable:fi,_fnDeleteIndex:ei,_fnInvalidateRow:oi,_fnGetRowElements:si,_fnCreateTr:hr,_fnBuildHead:ku,_fnDrawHead:pt,_fnDraw:it,_fnReDraw:rt,_fnAddOptionsHtml:du,_fnDetectHeader:wt,_fnGetUniqueThs:hi,_fnFeatureHtmlFilter:rf,_fnFilterComplete:bt,_fnFilterCustom:uf,_fnFilterColumn:ff,_fnFilter:ef,_fnFilterCreateSearch:lr,_fnEscapeRegex:ar,_fnFilterData:of,_fnFeatureHtmlInfo:cf,_fnUpdateInfo:lf,_fnInfoMacros:af,_fnInitialise:vi,_fnInitComplete:yi,_fnLengthChange:vr,_fnFeatureHtmlLength:vf,_fnFeatureHtmlPaginate:yf,_fnPageChange:yr,_fnFeatureHtmlProcessing:pf,_fnProcessingDisplay:w,_fnFeatureHtmlTable:wf,_fnScrollDraw:kt,_fnApplyToChildren:d,_fnCalculateColumnWidths:pr,_fnThrottle:wr,_fnConvertToWidth:bf,_fnScrollingWidthAdjust:kf,_fnGetWidestNode:df,_fnGetMaxLenString:gf,_fnStringToCss:o,_fnScrollBarWidth:ne,_fnSortFlatten:et,_fnSort:te,_fnSortAria:ie,_fnSortListener:br,_fnSortAttachListener:kr,_fnSortingClasses:pi,_fnSortData:re,_fnSaveState:wi,_fnLoadState:ue,_fnSettingsFromNode:bi,_fnLog:ot,_fnMap:k,_fnBindAction:dr,_fnCallbackReg:a,_fnCallbackFire:s,_fnLengthOverflow:gr,_fnRenderer:nu,_fnDataSource:y,_fnRowAttributes:cr,_fnCalculateEnd:function(){}}),r.fn.dataTable=u,r.fn.dataTableSettings=u.settings,r.fn.dataTableExt=u.ext,r.fn.DataTable=function(n){return r(this).dataTable(n).api()},r.each(u,function(n,t){r.fn.DataTable[n]=t}),r.fn.dataTable})})(window,document);
/**
 * State-based routing for AngularJS
 * @version v0.2.13
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
typeof module!="undefined"&&typeof exports!="undefined"&&module.exports===exports&&(module.exports="ui.router"),function(n,t,i){"use strict";function w(n,t){return r(new(r(function(){},{prototype:n})),t)}function k(n){return f(arguments,function(t){t!==n&&f(t,function(t,i){n.hasOwnProperty(i)||(n[i]=t)})}),n}function bt(n,t){var r=[];for(var i in n.path){if(n.path[i]!==t.path[i])break;r.push(n.path[i])}return r}function p(n){if(Object.keys)return Object.keys(n);var i=[];return t.forEach(n,function(n,t){i.push(t)}),i}function h(n,t){if(Array.prototype.indexOf)return n.indexOf(t,Number(arguments[2])||0);var r=n.length>>>0,i=Number(arguments[2])||0;for(i=i<0?Math.ceil(i):Math.floor(i),i<0&&(i+=r);i<r;i++)if(i in n&&n[i]===t)return i;return-1}function it(n,t,i,u){var o=bt(i,u),f,c={},l=[],s,e;for(s in o)if(o[s].params&&(f=p(o[s].params),f.length))for(e in f)h(l,f[e])>=0||(l.push(f[e]),c[f[e]]=n[f[e]]);return r({},c,t)}function d(n,t,i){var f,r,u;if(!i){i=[];for(f in n)i.push(f)}for(r=0;r<i.length;r++)if(u=i[r],n[u]!=t[u])return!1;return!0}function g(n,t){var i={};return f(n,function(n){i[n]=t[n]}),i}function b(n){var i={},r=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var t in n)h(r,t)==-1&&(i[t]=n[t]);return i}function nt(n,t){var r=l(n),i=r?[]:{};return f(n,function(n,u){t(n,u)&&(i[r?i.length:u]=n)}),i}function y(n,t){var i=l(n)?[]:{};return f(n,function(n,r){i[r]=t(n,r)}),i}function rt(n,t){var s=1,c=2,o={},l=[],a=o,y=r(n.when(o),{$$promises:o,$$values:o});this.study=function(o){function tt(n,i){if(g[i]!==c){if(d.push(i),g[i]===s){d.splice(0,h(d,i));throw new Error("Cyclic dependency: "+d.join(" -> "));}if(g[i]=s,e(n))w.push(i,[function(){return t.get(n)}],l);else{var r=t.annotate(n);f(r,function(n){n!==i&&o.hasOwnProperty(n)&&tt(o[n],n)});w.push(i,n,r)}d.pop();g[i]=c}}function it(n){return v(n)&&n.then&&n.$$promises}if(!v(o))throw new Error("'invocables' must be an object");var nt=p(o||{}),w=[],d=[],g={};return f(o,tt),o=d=g=null,function(e,o,s){function d(){--ft||(rt||k(c,o.$$values),h.$$values=c,h.$$promises=h.$$promises||!0,delete h.$$inheritedValues,g.resolve(c))}function tt(n){h.$$failure=n;g.reject(n)}function et(i,r,o){function v(n){l.reject(n);tt(n)}function y(){if(!u(h.$$failure))try{l.resolve(t.invoke(r,s,c));l.promise.then(function(n){c[i]=n;d()},v)}catch(n){v(n)}}var l=n.defer(),a=0;f(o,function(n){p.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(a++,p[n].then(function(t){c[n]=t;--a||y()},v))});a||y();p[i]=l.promise}var l,ut;if(it(e)&&s===i&&(s=o,o=e,e=null),e){if(!v(e))throw new Error("'locals' must be an object");}else e=a;if(o){if(!it(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()");}else o=y;var g=n.defer(),h=g.promise,p=h.$$promises={},c=r({},e),ft=1+w.length/3,rt=!1;if(u(o.$$failure))return tt(o.$$failure),h;for(o.$$inheritedValues&&k(c,b(o.$$inheritedValues,nt)),r(p,o.$$promises),o.$$values?(rt=k(c,b(o.$$values,nt)),h.$$inheritedValues=b(o.$$values,nt),d()):(o.$$inheritedValues&&(h.$$inheritedValues=b(o.$$inheritedValues,nt)),o.then(d,tt)),l=0,ut=w.length;l<ut;l+=3)e.hasOwnProperty(w[l])?d():et(w[l],w[l+1],w[l+2]);return h}};this.resolve=function(n,t,i,r){return this.study(n)(t,i,r)}}function ut(n,t,i){this.fromConfig=function(n,t,i){return u(n.template)?this.fromString(n.template,t):u(n.templateUrl)?this.fromUrl(n.templateUrl,t):u(n.templateProvider)?this.fromProvider(n.templateProvider,t,i):null};this.fromString=function(n,t){return o(n)?n(t):n};this.fromUrl=function(i,r){return o(i)&&(i=i(r)),i==null?null:n.get(i,{cache:t,headers:{Accept:"text/html"}}).then(function(n){return n.data})};this.fromProvider=function(n,t,r){return i.invoke(n,null,r||{params:t})}}function a(n,t,u){function nt(t,i,r,u){if(g.push(t),d[t])return d[t];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+n+"'");if(b[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+n+"'");return b[t]=new c.Param(t,i,r,u),b[t]}function tt(n,t,i){var r=["",""],u=n.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return u;switch(i){case!1:r=["(",")"];break;case!0:r=["?(",")?"];break;default:r=["("+i+"|",")?"]}return u+r[0]+t+r[1]}function it(i,r){var f,u,e,s,h;return f=i[2]||i[3],h=t.params[f],e=n.substring(o,i.index),u=r?i[4]:i[4]||(i[1]=="*"?".*":null),s=c.type(u||"string")||w(c.type("string"),{pattern:new RegExp(u)}),{id:f,regexp:u,segment:e,type:s,cfg:h}}var f,l,e,s,k;t=r({params:{}},v(t)?t:{});var a=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,rt=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,y="^",o=0,h,p=this.segments=[],d=u?u.params:{},b=this.params=u?u.params.$$new():new c.ParamSet,g=[];for(this.source=n;h=a.exec(n);){if(f=it(h,!1),f.segment.indexOf("?")>=0)break;l=nt(f.id,f.type,f.cfg,"path");y+=tt(f.segment,l.type.pattern.source,l.squash);p.push(f.segment);o=a.lastIndex}if(e=n.substring(o),s=e.indexOf("?"),s>=0){if(k=this.sourceSearch=e.substring(s),e=e.substring(0,s),this.sourcePath=n.substring(0,o+s),k.length>0)for(o=0;h=rt.exec(k);)f=it(h,!0),l=nt(f.id,f.type,f.cfg,"search"),o=a.lastIndex}else this.sourcePath=n,this.sourceSearch="";y+=tt(e)+(t.strict===!1?"/?":"")+"$";p.push(e);this.regexp=new RegExp(y,t.caseInsensitive?"i":i);this.prefix=p[0];this.$$paramNames=g}function s(n){r(this,n)}function ft(){function rt(n){return n!=null?n.toString().replace(/\//g,"%2F"):n}function ht(n){return n!=null?n.toString().replace(/%2F/g,"/"):n}function ct(n){return this.pattern.test(n)}function lt(){return{strict:g,caseInsensitive:d}}function ot(n){return o(n)||l(n)&&o(n[n.length-1])}function st(){while(it.length){var i=it.shift();if(i.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(n[i.name],b.invoke(i.def))}}function k(n){r(this,n||{})}c=this;var d=!1,g=!0,tt=!1;var n={},ut=!0,it=[],b,et={string:{encode:rt,decode:ht,is:ct,pattern:/[^/]*/},int:{encode:rt,decode:function(n){return parseInt(n,10)},is:function(n){return u(n)&&this.decode(n.toString())===n},pattern:/\d+/},bool:{encode:function(n){return n?1:0},decode:function(n){return parseInt(n,10)!==0},is:function(n){return n===!0||n===!1},pattern:/0|1/},date:{encode:function(n){return this.is(n)?[n.getFullYear(),("0"+(n.getMonth()+1)).slice(-2),("0"+n.getDate()).slice(-2)].join("-"):i},decode:function(n){if(this.is(n))return n;var t=this.capture.exec(n);return t?new Date(t[1],t[2]-1,t[3]):i},is:function(n){return n instanceof Date&&!isNaN(n.valueOf())},equals:function(n,t){return this.is(n)&&this.is(t)&&n.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^/]*/},any:{encode:t.identity,decode:t.identity,is:t.identity,equals:t.equals,pattern:/.*/}};ft.$$getDefaultValue=function(n){if(!ot(n.value))return n.value;if(!b)throw new Error("Injectable functions cannot be called at configuration time");return b.invoke(n.value)};this.caseInsensitive=function(n){return u(n)&&(d=n),d};this.strictMode=function(n){return u(n)&&(g=n),g};this.defaultSquashPolicy=function(n){if(!u(n))return tt;if(n!==!0&&n!==!1&&!e(n))throw new Error("Invalid squash policy: "+n+". Valid policies: false, true, arbitrary-string");return tt=n,n};this.compile=function(n,t){return new a(n,r(lt(),t))};this.isMatcher=function(n){if(!v(n))return!1;var t=!0;return f(a.prototype,function(i,r){o(i)&&(t=t&&u(n[r])&&o(n[r]))}),t};this.type=function(t,i,f){if(!u(i))return n[t];if(n.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return n[t]=new s(r({name:t},i)),f&&(it.push({name:t,def:f}),ut||st()),this};f(et,function(t,i){n[i]=new s(r({name:i},t))});n=w(n,{});this.$get=["$injector",function(t){return b=t,ut=!1,st(),f(et,function(t,i){n[i]||(n[i]=new s(t))}),this}];this.Param=function(t,f,o,c){function it(n){var t=v(n)?p(n):[],i=h(t,"value")===-1&&h(t,"type")===-1&&h(t,"squash")===-1&&h(t,"array")===-1;return i&&(n={value:n}),n.$$fn=ot(n.value)?n.value:function(){return n.value},n}function rt(i,r,u){if(i.type&&r)throw new Error("Param '"+t+"' has two type configurations.");return r?r:i.type?i.type instanceof s?i.type:new s(i.type):u==="config"?n.any:n.string}function ut(){var n={array:c==="search"?"auto":!1},i=t.match(/\[\]$/)?{array:!0}:{};return r(n,i,o).array}function ft(n,t){var i=n.squash;if(!t||i===!1)return!1;if(!u(i)||i==null)return tt;if(i===!0||e(i))return i;throw new Error("Invalid squash policy: '"+i+"'. Valid policies: false, true, or arbitrary string");}function et(n,t,r,u){var f,o,s=[{from:"",to:r||t?i:""},{from:null,to:r||t?i:""}];return f=l(n.replace)?n.replace:[],e(u)&&f.push({from:u,to:i}),o=y(f,function(n){return n.from}),nt(s,function(n){return h(o,n.from)===-1}).concat(f)}function st(){if(!b)throw new Error("Injectable functions cannot be called at configuration time");return b.invoke(o.$$fn)}function ht(n){function t(n){return function(t){return t.from===n}}function i(n){var i=y(nt(d.replace,t(n)),function(n){return n.to});return i.length?i[0]:n}return n=i(n),u(n)?d.type.decode(n):st()}function ct(){return"{Param:"+t+" "+f+" squash: '"+k+"' optional: "+w+"}"}var d=this,a;o=it(o);f=rt(o,f,c);a=ut();f=a?f.$asArray(a,c==="search"):f;f.name!=="string"||a||c!=="path"||o.value!==i||(o.value="");var w=o.value!==i,k=ft(o,w),g=et(o,a,w,k);r(this,{id:t,type:f,location:c,array:a,squash:k,replace:g,isOptional:w,value:ht,dynamic:i,config:o,toString:ct})};k.prototype={$$new:function(){return w(this,r(new k,{$$parent:this}))},$$keys:function(){for(var t=[],i=[],n=this,r=p(k.prototype);n;)i.push(n),n=n.$$parent;return i.reverse(),f(i,function(n){f(p(n),function(n){h(t,n)===-1&&h(r,n)===-1&&t.push(n)})}),t},$$values:function(n){var t={},i=this;return f(i.$$keys(),function(r){t[r]=i[r].value(n&&n[r])}),t},$$equals:function(n,t){var i=!0,r=this;return f(r.$$keys(),function(u){var f=n&&n[u],e=t&&t[u];r[u].type.equals(f,e)||(i=!1)}),i},$$validates:function(n){var t=!0,u,i,r,e=this;return f(this.$$keys(),function(f){r=e[f];i=n[f];u=!i&&r.isOptional;t=t&&(u||!!r.type.is(i))}),t},$$parent:i};this.ParamSet=k}function et(n,f){function p(n){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(n.source);return t!=null?t[1].replace(/\\(.)/g,"$1"):""}function w(n,t){return n.replace(/\$(\$|\d{1,2})/,function(n,i){return t[i==="$"?0:Number(i)]})}function v(n,t,i){if(!i)return!1;var r=n.invoke(t,t,{$match:i});return u(r)?r:!0}function y(r,u,f,o){function b(n,t,i){return v==="/"?n:t?v.slice(0,-1)+n:i?v.slice(1)+n:n}function p(n){function o(n){var t=n(f,r);return t?(e(t)&&r.replace().url(t),!0):!1}var u,c,t;if(!n||!n.defaultPrevented){if(u=l&&r.url()===l,l=i,u)return!0;for(c=s.length,t=0;t<c;t++)if(o(s[t]))return;h&&o(h)}}function w(){return c=c||u.$on("$locationChangeSuccess",p)}var v=o.baseHref(),y=r.url(),l;return a||w(),{sync:function(){p()},listen:function(){return w()},update:function(n){if(n){y=r.url();return}r.url()!==y&&(r.url(y),r.replace())},push:function(n,t,u){r.url(n.format(t||{}));l=u&&u.$$avoidResync?r.url():i;u&&u.replace&&r.replace()},href:function(i,u,f){var o,e,h,s;return i.validates(u)?(o=n.html5Mode(),t.isObject(o)&&(o=o.enabled),e=i.format(u),f=f||{},o||e===null||(e="#"+n.hashPrefix()+e),e=b(e,o,f.absolute),!f.absolute||!e)?e:(h=!o&&e?"/":"",s=r.port(),s=s===80||s===443?"":":"+s,[r.protocol(),"://",r.host(),s,h,e].join("")):null}}}var s=[],h=null,a=!1,c;this.rule=function(n){if(!o(n))throw new Error("'rule' must be a function");return s.push(n),this};this.otherwise=function(n){if(e(n)){var t=n;n=function(){return t}}else if(!o(n))throw new Error("'rule' must be a function");return h=n,this};this.when=function(n,t){var i,u=e(t),c,s,h;if(e(n)&&(n=f.compile(n)),!u&&!o(t)&&!l(t))throw new Error("invalid 'handler' in when()");c={matcher:function(n,t){return u&&(i=f.compile(t),t=["$match",function(n){return i.format(n)}]),r(function(i,r){return v(i,t,n.exec(r.path(),r.search()))},{prefix:e(n.prefix)?n.prefix:""})},regex:function(n,t){if(n.global||n.sticky)throw new Error("when() RegExp must not be global or sticky");return u&&(i=t,t=["$match",function(n){return w(i,n)}]),r(function(i,r){return v(i,t,n.exec(r.path()))},{prefix:p(n)})}};s={matcher:f.isMatcher(n),regex:n instanceof RegExp};for(h in s)if(s[h])return this.rule(c[h](n,t));throw new Error("invalid 'what' in when()");};this.deferIntercept=function(n){n===i&&(n=!0);a=n};this.$get=y;y.$inject=["$location","$rootScope","$injector","$browser"]}function ot(n,s){function ot(n){return n.indexOf(".")===0||n.indexOf("^")===0}function k(n,t){var s;if(!n)return i;var h=e(n),u=h?n:n.name,c=ot(u);if(c){if(!t)throw new Error("No reference point given for path '"+u+"'");t=k(t);for(var r=u.split("."),f=0,l=r.length,o=t;f<l;f++){if(r[f]===""&&f===0){o=t;continue}if(r[f]==="^"){if(!o.parent)throw new Error("Path '"+u+"' not valid for state '"+t.name+"'");o=o.parent;continue}break}r=r.slice(f).join(".");u=o.name+(o.name&&r?".":"")+r}return(s=tt[u],s&&(h||!h&&(s===n||s.self===n)))?s:i}function st(n,t){rt[n]||(rt[n]=[]);rt[n].push(t)}function ht(n){for(var t=rt[n]||[];t.length;)ut(t.shift())}function ut(t){var i,u,r;if(t=w(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}}),i=t.name,!e(i)||i.indexOf("@")>=0)throw new Error("State must have a valid name");if(tt.hasOwnProperty(i))throw new Error("State '"+i+"'' is already defined");if(u=i.indexOf(".")!==-1?i.substring(0,i.lastIndexOf(".")):e(t.parent)?t.parent:v(t.parent)&&e(t.parent.name)?t.parent.name:"",u&&!tt[u])return st(u,t.self);for(r in b)o(b[r])&&(t[r]=b[r](t,b.$delegates[r]));return tt[i]=t,!t[ft]&&t.url&&n.when(t.url,["$match","$stateParams",function(n,i){a.$current.navigable==t&&d(n,i)||a.transitionTo(t,n,{inherit:!0,location:!1})}]),ht(i),t}function ct(n){return n.indexOf("*")>-1}function lt(n){var t=n.split("."),i=a.$current.name.split("."),r,u;if(t[0]==="**"&&(i=i.slice(h(i,t[1])),i.unshift("**")),t[t.length-1]==="**"&&(i.splice(h(i,t[t.length-2])+1,Number.MAX_VALUE),i.push("**")),t.length!=i.length)return!1;for(r=0,u=t.length;r<u;r++)t[r]==="*"&&(i[r]="*");return i.join("")===t.join("")}function at(n,t){return e(n)&&!u(t)?b[n]:!o(t)||!e(n)?this:(b[n]&&!b.$delegates[n]&&(b.$delegates[n]=b[n]),b[n]=t,this)}function vt(n,t){return v(n)?t=n:t.name=n,ut(t),this}function et(n,s,h,c,v,b,rt){function ht(t,i,r,u){var e=n.$broadcast("$stateNotFound",t,i,r),f;return e.defaultPrevented?(rt.update(),et):e.retry?u.$retry?(rt.update(),ot):(f=a.transition=s.when(e.retry),f.then(function(){return f!==a.transition?ut:(t.options.$retry=!0,a.transitionTo(t.to,t.toParams,t.options))},function(){return et}),rt.update(),f):null}function at(n,i,r,u,e,a){var w=r?i:g(n.params.$$keys(),i),y={$stateParams:w},p;return e.resolve=v.resolve(n.resolve,y,e.resolve,n),p=[e.resolve.then(function(n){e.globals=n})],u&&p.push(u),f(n.views,function(i,r){var u=i.resolve&&i.resolve!==n.resolve?i.resolve:{};u.$template=[function(){return h.load(r,{view:i,locals:y,params:w,notify:a.notify})||""}];p.push(v.resolve(u,y,e.resolve,n).then(function(f){if(o(i.controllerProvider)||l(i.controllerProvider)){var s=t.extend({},u,y);f.$$controller=c.invoke(i.controllerProvider,null,s)}else f.$$controller=i.controller;f.$$state=n;f.$$controllerAs=i.controllerAs;e[r]=f}))}),s.all(p).then(function(){return e})}var ut=s.reject(new Error("transition superseded")),st=s.reject(new Error("transition prevented")),et=s.reject(new Error("transition aborted")),ot=s.reject(new Error("transition failed"));return nt.locals={resolve:null,globals:{$stateParams:{}}},a={params:{},current:nt.self,$current:nt,transition:null},a.reload=function(){return a.transitionTo(a.current,b,{reload:!0,inherit:!1,notify:!0})},a.go=function(n,t,i){return a.transitionTo(n,t,r({inherit:!0,relative:a.$current},i))},a.transitionTo=function(t,i,f){var d,vt,et,tt,ct;i=i||{};f=r({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var l=a.$current,p=a.params,lt=l.path,bt,e=k(t,f.relative);if(!u(e)){if(d={to:t,toParams:i,options:f},vt=ht(d,l.self,p,f),vt)return vt;if(t=d.to,i=d.toParams,f=d.options,e=k(t,f.relative),!u(e)){if(!f.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+f.relative+"'");}}if(e[ft])throw new Error("Cannot transition to abstract state '"+t+"'");if(f.inherit&&(i=it(b,i||{},a.$current,e)),!e.params.$$validates(i))return ot;i=e.params.$$values(i);t=e;var v=t.path,o=0,h=v[o],y=nt.locals,pt=[];if(!f.reload)while(h&&h===lt[o]&&h.ownParams.$$equals(i,p))y=pt[o]=h.locals,o++,h=v[o];if(yt(t,l,y,f))return t.self.reloadOnSearch!==!1&&rt.update(),a.transition=null,s.when(a.current);if(i=g(t.params.$$keys(),i||{}),f.notify&&n.$broadcast("$stateChangeStart",t.self,i,l.self,p).defaultPrevented)return rt.update(),st;for(et=s.when(y),tt=o;tt<v.length;tt++,h=v[tt])y=pt[tt]=w(y),et=at(h,i,h===t,et,y,f);return ct=a.transition=et.then(function(){var r,u,e;if(a.transition!==ct)return ut;for(r=lt.length-1;r>=o;r--)e=lt[r],e.self.onExit&&c.invoke(e.self.onExit,e.self,e.locals.globals),e.locals=null;for(r=o;r<v.length;r++)u=v[r],u.locals=pt[r],u.self.onEnter&&c.invoke(u.self.onEnter,u.self,u.locals.globals);return a.transition!==ct?ut:(a.$current=t,a.current=t.self,a.params=i,wt(a.params,b),a.transition=null,f.location&&t.navigable&&rt.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:f.location==="replace"}),f.notify&&n.$broadcast("$stateChangeSuccess",t.self,i,l.self,p),rt.update(!0),a.current)},function(r){return a.transition!==ct?ut:(a.transition=null,bt=n.$broadcast("$stateChangeError",t.self,i,l.self,p,r),bt.defaultPrevented||rt.update(),s.reject(r))})},a.is=function(n,t,f){f=r({relative:a.$current},f||{});var e=k(n,f.relative);return u(e)?a.$current!==e?!1:t?d(e.params.$$values(t),b):!0:i},a.includes=function(n,t,f){if(f=r({relative:a.$current},f||{}),e(n)&&ct(n)){if(!lt(n))return!1;n=a.$current.name}var o=k(n,f.relative);return u(o)?u(a.$current.includes[o.name])?t?d(o.params.$$values(t),b,p(t)):!0:!1:i},a.href=function(n,t,f){var e,o;return(f=r({lossy:!0,inherit:!0,absolute:!1,relative:a.$current},f||{}),e=k(n,f.relative),!u(e))?null:(f.inherit&&(t=it(b,t||{},a.$current,e)),o=e&&f.lossy?e.navigable:e,!o||o.url===i||o.url===null)?null:rt.href(o.url,g(e.params.$$keys(),t||{}),{absolute:f.absolute})},a.get=function(n,t){if(arguments.length===0)return y(p(tt),function(n){return tt[n].self});var i=k(n,t||a.$current);return i&&i.self?i.self:null},a}function yt(n,t,i,r){if(n===t&&(i===t.locals&&!r.reload||n.self.reloadOnSearch===!1))return!0}var nt,tt={},a,rt={},ft="abstract",b={parent:function(n){if(u(n.parent)&&n.parent)return k(n.parent);var t=/^(.+)\.[^.]+$/.exec(n.name);return t?k(t[1]):nt},data:function(n){return n.parent&&n.parent.data&&(n.data=n.self.data=r({},n.parent.data,n.data)),n.data},url:function(n){var t=n.url,i={params:n.params||{}};if(e(t))return t.charAt(0)=="^"?s.compile(t.substring(1),i):(n.parent.navigable||nt).url.concat(t,i);if(!t||s.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+n+"'");},navigable:function(n){return n.url?n:n.parent?n.parent.navigable:null},ownParams:function(n){var t=n.url&&n.url.params||new c.ParamSet;return f(n.params||{},function(n,i){t[i]||(t[i]=new c.Param(i,null,n,"config"))}),t},params:function(n){return n.parent&&n.parent.params?r(n.parent.params.$$new(),n.ownParams):new c.ParamSet},views:function(n){var t={};return f(u(n.views)?n.views:{"":n},function(i,r){r.indexOf("@")<0&&(r+="@"+n.parent.name);t[r]=i}),t},path:function(n){return n.parent?n.parent.path.concat(n):[]},includes:function(n){var t=n.parent?r({},n.parent.includes):{};return t[n.name]=!0,t},$delegates:{}};nt=ut({name:"",url:"^",views:null,abstract:!0});nt.navigable=null;this.decorator=at;this.state=vt;this.$get=et;et.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function st(){function n(n,t){return{load:function(i,u){var f;return u=r({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},u),u.view&&(f=t.fromConfig(u.view,u.params,u.locals)),f&&u.notify&&n.$broadcast("$viewContentLoading",u),f}}}this.$get=n;n.$inject=["$rootScope","$templateFactory"]}function kt(){var n=!1;this.useAnchorScroll=function(){n=!0};this.$get=["$anchorScroll","$timeout",function(t,i){return n?t:function(n){i(function(){n[0].scrollIntoView()},0,!1)}}]}function ht(n,i,r,u){function s(){return i.has?function(n){return i.has(n)?i.get(n):null}:function(n){try{return i.get(n)}catch(t){return null}}}function h(n,t){var r=function(){return{enter:function(n,t,i){t.after(n);i()},leave:function(n,t){n.remove();t()}}},i;return e?{enter:function(n,t,i){var r=e.enter(n,null,t,i);r&&r.then&&r.then(i)},leave:function(n,t){var i=e.leave(n,t);i&&i.then&&i.then(t)}}:f?(i=f&&f(t,n),{enter:function(n,t,r){i.enter(n,null,t);r()},leave:function(n,t){i.leave(n);t()}}):r()}var o=s(),f=o("$animator"),e=o("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(i,f,e){return function(i,f,o){function b(){c&&(c.remove(),c=null);s&&(s.$destroy(),s=null);l&&(p.leave(l,function(){c=null}),c=l,l=null)}function v(h){var c,v=lt(i,o,f,u),d=v&&n.$current&&n.$current.locals[v],k;(h||d!==y)&&(c=i.$new(),y=n.$current.locals[v],k=e(c,function(n){p.enter(n,f,function(){s&&s.$emit("$viewContentAnimationEnded");(t.isDefined(a)&&!a||i.$eval(a))&&r(n)});b()}),l=k,s=c,s.$emit("$viewContentLoaded"),s.$eval(w))}var c,l,s,y,w=o.onload||"",a=o.autoscroll,p=h(o,i);i.$on("$stateChangeSuccess",function(){v(!1)});i.$on("$viewContentLoading",function(){v(!1)});v(!0)}}}}function ct(n,t,i,r){return{restrict:"ECA",priority:-400,compile:function(u){var f=u.html();return function(u,e,o){var c=i.$current,l=lt(u,o,e,r),s=c&&c.locals[l],a,h;s&&(e.data("$uiView",{name:l,state:s.$$state}),e.html(s.$template?s.$template:f),a=n(e.contents()),s.$$controller&&(s.$scope=u,h=t(s.$$controller,s),s.$$controllerAs&&(u[s.$$controllerAs]=h),e.data("$ngControllerController",h),e.children().data("$ngControllerController",h)),a(u))}}}}function lt(n,t,i,r){var u=r(t.uiView||t.name||"")(n),f=i.inheritedData("$uiView");return u.indexOf("@")>=0?u:u+"@"+(f?f.state.name:"")}function dt(n,t){var r=n.match(/^\s*({[^}]*})\s*$/),i;if(r&&(n=t+"("+r[1]+")"),i=n.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!i||i.length!==4)throw new Error("Invalid state ref '"+n+"'");return{state:i[1],paramExpr:i[3]||null}}function at(n){var t=n.parent().inheritedData("$uiView");if(t&&t.state&&t.state.name)return t.state}function vt(n,i){var r=["location","inherit","reload"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(u,f,e,o){var s=dt(e.uiSref,n.current.name),h=null,w=at(f)||n.$current,c=null,b=f.prop("tagName")==="A",v=f[0].nodeName==="FORM",k=v?"action":"href",y=!0,l={relative:w,inherit:!0},p=u.$eval(e.uiSrefOpts)||{},a;(t.forEach(r,function(n){n in p&&(l[n]=p[n])}),a=function(i){if(i&&(h=t.copy(i)),y){c=n.href(s.state,h,l);var r=o[1]||o[0];if(r&&r.$$setStateInfo(s.state,h),c===null)return y=!1,!1;e.$set(k,c)}},s.paramExpr&&(u.$watch(s.paramExpr,function(n){n!==h&&a(n)},!0),h=t.copy(u.$eval(s.paramExpr))),a(),v)||f.bind("click",function(t){var e=t.which||t.button,r,u;e>1||t.ctrlKey||t.metaKey||t.shiftKey||f.attr("target")||(r=i(function(){n.go(s.state,h,l)}),t.preventDefault(),u=b&&!c?1:0,t.preventDefault=function(){u--<=0&&i.cancel(r)})})}}}function tt(n,t,i){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,r,u){function s(){h()?r.addClass(o):r.removeClass(o)}function h(){return typeof u.uiSrefActiveEq!="undefined"?f&&n.is(f.name,e):f&&n.includes(f.name,e)}var f,e,o;o=i(u.uiSrefActiveEq||u.uiSrefActive||"",!1)(t);this.$$setStateInfo=function(t,i){f=n.get(t,at(r));e=i;s()};t.$on("$stateChangeSuccess",s)}]}}function yt(n){var t=function(t){return n.is(t)};return t.$stateful=!0,t}function pt(n){var t=function(t){return n.includes(t)};return t.$stateful=!0,t}var u=t.isDefined,o=t.isFunction,e=t.isString,v=t.isObject,l=t.isArray,f=t.forEach,r=t.extend,wt=t.copy,c;t.module("ui.router.util",["ng"]);t.module("ui.router.router",["ui.router.util"]);t.module("ui.router.state",["ui.router.router","ui.router.util"]);t.module("ui.router",["ui.router.state"]);t.module("ui.router.compat",["ui.router"]);rt.$inject=["$q","$injector"];t.module("ui.router.util").service("$resolve",rt);ut.$inject=["$http","$templateCache","$injector"];t.module("ui.router.util").service("$templateFactory",ut);a.prototype.concat=function(n,t){var i={caseInsensitive:c.caseInsensitive(),strict:c.strictMode(),squash:c.defaultSquashPolicy()};return new a(this.sourcePath+n+this.sourceSearch,r(i,t),this)};a.prototype.toString=function(){return this.source};a.prototype.exec=function(n,t){function a(n){function t(n){return n.split("").reverse().join("")}function i(n){return n.replace(/\\-/,"-")}var r=t(n).split(/-(?!\\)/),u=y(r,t);return y(u,i).reverse()}var o=this.regexp.exec(n),f,u;if(!o)return null;t=t||{};var s=this.parameters(),l=s.length,c=this.segments.length-1,h={},i,e,r;if(c!==o.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;i<c;i++){for(r=s[i],f=this.params[r],u=o[i+1],e=0;e<f.replace;e++)f.replace[e].from===u&&(u=f.replace[e].to);u&&f.array===!0&&(u=a(u));h[r]=f.value(u)}for(;i<l;i++)r=s[i],h[r]=this.params[r].value(t[r]);return h};a.prototype.parameters=function(n){return u(n)?this.params[n]||null:this.$$paramNames};a.prototype.validates=function(n){return this.params.$$validates(n)};a.prototype.format=function(n){function g(n){return encodeURIComponent(n).replace(/-/g,function(n){return"%5C%"+n.charCodeAt(0).toString(16).toUpperCase()})}var s,w;n=n||{};var h=this.segments,c=this.parameters(),b=this.params;if(!this.validates(n))return null;for(var a=!1,k=h.length-1,d=c.length,i=h[0],r=0;r<d;r++){var nt=r<k,o=c[r],u=b[o],v=u.value(n[o]),p=u.isOptional&&u.type.equals(u.value(),v),f=p?u.squash:!1,t=u.type.encode(v);if(nt)s=h[r+1],f===!1?(t!=null&&(i+=l(t)?y(t,g).join("-"):encodeURIComponent(t)),i+=s):f===!0?(w=i.match(/\/$/)?/\/?(.*)/:/(.*)/,i+=s.match(w)[1]):e(f)&&(i+=f+s);else{if(t==null||p&&f!==!1)continue;l(t)||(t=[t]);t=y(t,encodeURIComponent).join("&"+o+"=");i+=(a?"&":"?")+(o+"="+t);a=!0}}return i};s.prototype.is=function(){return!0};s.prototype.encode=function(n){return n};s.prototype.decode=function(n){return n};s.prototype.equals=function(n,t){return n==t};s.prototype.$subPattern=function(){var n=this.pattern.toString();return n.substr(1,n.length-2)};s.prototype.pattern=/.*/;s.prototype.toString=function(){return"{Type:"+this.name+"}"};s.prototype.$asArray=function(n,t){function r(n,t){function r(n,t){return function(){return n[t].apply(n,arguments)}}function f(n){return l(n)?n:u(n)?[n]:[]}function o(n){switch(n.length){case 0:return i;case 1:return t==="auto"?n[0]:n;default:return n}}function s(n){return!n}function e(n,t){return function(i){i=f(i);var r=y(i,n);return t===!0?nt(r,s).length===0:o(r)}}function h(n){return function(t,i){var u=f(t),e=f(i),r;if(u.length!==e.length)return!1;for(r=0;r<u.length;r++)if(!n(u[r],e[r]))return!1;return!0}}this.encode=e(r(n,"encode"));this.decode=e(r(n,"decode"));this.is=e(r(n,"is"),!0);this.equals=h(r(n,"equals"));this.pattern=n.pattern;this.$arrayMode=t}if(!n)return this;if(n==="auto"&&!t)throw new Error("'auto' array mode is for query parameters only");return new r(this,n)};t.module("ui.router.util").provider("$urlMatcherFactory",ft);t.module("ui.router.util").run(["$urlMatcherFactory",function(){}]);et.$inject=["$locationProvider","$urlMatcherFactoryProvider"];t.module("ui.router.router").provider("$urlRouter",et);ot.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"];t.module("ui.router.state").value("$stateParams",{}).provider("$state",ot);st.$inject=[];t.module("ui.router.state").provider("$view",st);t.module("ui.router.state").provider("$uiViewScroll",kt);ht.$inject=["$state","$injector","$uiViewScroll","$interpolate"];ct.$inject=["$compile","$controller","$state","$interpolate"];t.module("ui.router.state").directive("uiView",ht);t.module("ui.router.state").directive("uiView",ct);vt.$inject=["$state","$timeout"];tt.$inject=["$state","$stateParams","$interpolate"];t.module("ui.router.state").directive("uiSref",vt).directive("uiSrefActive",tt).directive("uiSrefActiveEq",tt);yt.$inject=["$state"];pt.$inject=["$state"];t.module("ui.router.state").filter("isState",yt).filter("includedByState",pt)}(window,window.angular);
/**
 * angular-strap
 * @version v2.1.5 - 2014-12-23
 * @link http://mgcrea.github.io/angular-strap
 * @author Olivier Louvignes (olivier@mg-crea.com)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
(function(n,t,i){"use strict";angular.module("mgcrea.ngStrap",["mgcrea.ngStrap.modal","mgcrea.ngStrap.aside","mgcrea.ngStrap.alert","mgcrea.ngStrap.button","mgcrea.ngStrap.select","mgcrea.ngStrap.datepicker","mgcrea.ngStrap.timepicker","mgcrea.ngStrap.navbar","mgcrea.ngStrap.tooltip","mgcrea.ngStrap.popover","mgcrea.ngStrap.dropdown","mgcrea.ngStrap.typeahead","mgcrea.ngStrap.scrollspy","mgcrea.ngStrap.affix","mgcrea.ngStrap.tab","mgcrea.ngStrap.collapse"]);angular.module("mgcrea.ngStrap.affix",["mgcrea.ngStrap.helpers.dimensions","mgcrea.ngStrap.helpers.debounce"]).provider("$affix",function(){var n=this.defaults={offsetTop:"auto"};this.$get=["$window","debounce","dimensions",function(t,i,r){function e(e,o){function it(n,t,i){var r=g(),u=nt();return r<=w?"top":n!==null&&r+n<=t.top?"middle":a!==null&&t.top+i+p>=u-a?"bottom":"middle"}function g(){return c[0]===t?t.pageYOffset:c[0].scrollTop}function nt(){return c[0]===t?t.document.body.scrollHeight:c[0].scrollHeight}var h={},s=angular.extend({},n,o),c=s.target,tt="affix affix-top affix-bottom",y=!1,p=0,k=0,w=0,a=0,d=null,v=null,l=e.parent(),b;if(s.offsetParent)if(s.offsetParent.match(/^\d+$/))for(b=0;b<s.offsetParent*1-1;b++)l=l.parent();else l=angular.element(s.offsetParent);return h.init=function(){this.$parseOffsets();k=r.offset(e[0]).top+p;y=!e[0].style.width;c.on("scroll",this.checkPosition);c.on("click",this.checkPositionWithEventLoop);u.on("resize",this.$debouncedOnResize);this.checkPosition();this.checkPositionWithEventLoop()},h.destroy=function(){c.off("scroll",this.checkPosition);c.off("click",this.checkPositionWithEventLoop);u.off("resize",this.$debouncedOnResize)},h.checkPositionWithEventLoop=function(){setTimeout(h.checkPosition,1)},h.checkPosition=function(){var u=g(),t=r.offset(e[0]),i=r.height(e[0]),n=it(v,t,i);d!==n&&(d=n,e.removeClass(tt).addClass("affix"+(n!=="middle"?"-"+n:"")),n==="top"?(v=null,e.css("position",s.offsetParent?"":"relative"),y&&e.css("width",""),e.css("top","")):n==="bottom"?(v=s.offsetUnpin?-(s.offsetUnpin*1):t.top-u,y&&e.css("width",""),e.css("position",s.offsetParent?"":"relative"),e.css("top",s.offsetParent?"":f[0].offsetHeight-a-i-k+"px")):(v=null,y&&e.css("width",e[0].offsetWidth+"px"),e.css("position","fixed"),e.css("top",p+"px")))},h.$onResize=function(){h.$parseOffsets();h.checkPosition()},h.$debouncedOnResize=i(h.$onResize,50),h.$parseOffsets=function(){var n=e.css("position");e.css("position",s.offsetParent?"":"relative");s.offsetTop&&(s.offsetTop==="auto"&&(s.offsetTop="+0"),s.offsetTop.match(/^[-+]\d+$/)?(p=-s.offsetTop*1,w=s.offsetParent?r.offset(l[0]).top+s.offsetTop*1:r.offset(e[0]).top-r.css(e[0],"marginTop",!0)+s.offsetTop*1):w=s.offsetTop*1);s.offsetBottom&&(a=s.offsetParent&&s.offsetBottom.match(/^[-+]\d+$/)?nt()-(r.offset(l[0]).top+r.height(l[0]))+s.offsetBottom*1+1:s.offsetBottom*1);e.css("position",n)},h.init(),h}var f=angular.element(t.document.body),u=angular.element(t);return e}]}).directive("bsAffix",["$affix","$window",function(n,t){return{restrict:"EAC",require:"^?bsAffixTarget",link:function(i,r,u,f){var o={scope:i,offsetTop:"auto",target:f?f.$element:angular.element(t)},e;angular.forEach(["offsetTop","offsetBottom","offsetParent","offsetUnpin"],function(n){angular.isDefined(u[n])&&(o[n]=u[n])});e=n(r,o);i.$on("$destroy",function(){e&&e.destroy();o=null;e=null})}}}]).directive("bsAffixTarget",function(){return{controller:["$element",function(n){this.$element=n}]}});angular.module("mgcrea.ngStrap.alert",["mgcrea.ngStrap.modal"]).provider("$alert",function(){var n=this.defaults={animation:"am-fade",prefixClass:"alert",prefixEvent:"alert",placement:null,template:"alert/alert.tpl.html",container:!1,element:null,backdrop:!1,keyboard:!0,show:!0,duration:!1,type:!1,dismissable:!0};this.$get=["$modal","$timeout",function(t,i){function r(r){var u={},f=angular.extend({},n,r),e;return u=t(f),u.$scope.dismissable=!!f.dismissable,f.type&&(u.$scope.type=f.type),e=u.show,f.duration&&(u.show=function(){e();i(function(){u.hide()},f.duration*1e3)}),u}return r}]}).directive("bsAlert",["$window","$sce","$alert",function(n,t,i){var r=n.requestAnimationFrame||n.setTimeout;return{restrict:"EAC",scope:!0,link:function(n,r,u){var e={scope:n,element:r,show:!1},f;angular.forEach(["template","placement","keyboard","html","container","animation","duration","dismissable"],function(n){angular.isDefined(u[n])&&(e[n]=u[n])});angular.forEach(["title","content","type"],function(i){u[i]&&u.$observe(i,function(r){n[i]=t.trustAsHtml(r)})});u.bsAlert&&n.$watch(u.bsAlert,function(t){angular.isObject(t)?angular.extend(n,t):n.content=t},!0);f=i(e);r.on(u.trigger||"click",f.toggle);n.$on("$destroy",function(){f&&f.destroy();e=null;f=null})}}}]);angular.module("mgcrea.ngStrap.aside",["mgcrea.ngStrap.modal"]).provider("$aside",function(){var n=this.defaults={animation:"am-fade-and-slide-right",prefixClass:"aside",prefixEvent:"aside",placement:"right",template:"aside/aside.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$modal",function(t){function i(i){var r=angular.extend({},n,i);return t(r)}return i}]}).directive("bsAside",["$window","$sce","$aside",function(n,t,i){var r=n.requestAnimationFrame||n.setTimeout;return{restrict:"EAC",scope:!0,link:function(n,r,u){var e={scope:n,element:r,show:!1},f;angular.forEach(["template","contentTemplate","placement","backdrop","keyboard","html","container","animation"],function(n){angular.isDefined(u[n])&&(e[n]=u[n])});angular.forEach(["title","content"],function(i){u[i]&&u.$observe(i,function(r){n[i]=t.trustAsHtml(r)})});u.bsAside&&n.$watch(u.bsAside,function(t){angular.isObject(t)?angular.extend(n,t):n.content=t},!0);f=i(e);r.on(u.trigger||"click",f.toggle);n.$on("$destroy",function(){f&&f.destroy();e=null;f=null})}}}]);angular.module("mgcrea.ngStrap.button",[]).provider("$button",function(){var n=this.defaults={activeClass:"active",toggleEvent:"click"};this.$get=function(){return{defaults:n}}}).directive("bsCheckboxGroup",function(){return{restrict:"A",require:"ngModel",compile:function(n,t){n.attr("data-toggle","buttons");n.removeAttr("ng-model");var i=n[0].querySelectorAll('input[type="checkbox"]');angular.forEach(i,function(n){var i=angular.element(n);i.attr("bs-checkbox","");i.attr("ng-model",t.ngModel+"."+i.attr("value"))})}}}).directive("bsCheckbox",["$button","$$rAF",function(n,t){var r=n.defaults,i=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(n,u,f,e){var l=r,h=u[0].nodeName==="INPUT",a=h?u.parent():u,o=angular.isDefined(f.trueValue)?f.trueValue:!0,s,c;i.test(f.trueValue)&&(o=n.$eval(f.trueValue));s=angular.isDefined(f.falseValue)?f.falseValue:!1;i.test(f.falseValue)&&(s=n.$eval(f.falseValue));c=typeof o!="boolean"||typeof s!="boolean";c&&(e.$parsers.push(function(n){return n?o:s}),e.$formatters.push(function(n){return angular.equals(n,o)}),n.$watch(f.ngModel,function(){e.$render()}));e.$render=function(){var n=angular.equals(e.$modelValue,o);t(function(){h&&(u[0].checked=n);a.toggleClass(l.activeClass,n)})};u.bind(l.toggleEvent,function(){n.$apply(function(){h||e.$setViewValue(!a.hasClass("active"));c||e.$render()})})}}}]).directive("bsRadioGroup",function(){return{restrict:"A",require:"ngModel",compile:function(n,t){n.attr("data-toggle","buttons");n.removeAttr("ng-model");var i=n[0].querySelectorAll('input[type="radio"]');angular.forEach(i,function(n){angular.element(n).attr("bs-radio","");angular.element(n).attr("ng-model",t.ngModel)})}}}).directive("bsRadio",["$button","$$rAF",function(n,t){var i=n.defaults,r=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(n,u,f,e){var o=i,s=u[0].nodeName==="INPUT",c=s?u.parent():u,h=r.test(f.value)?n.$eval(f.value):f.value;e.$render=function(){var n=angular.equals(e.$modelValue,h);t(function(){s&&(u[0].checked=n);c.toggleClass(o.activeClass,n)})};u.bind(o.toggleEvent,function(){n.$apply(function(){e.$setViewValue(h);e.$render()})})}}}]);angular.module("mgcrea.ngStrap.collapse",[]).provider("$collapse",function(){var n=this.defaults={animation:"am-collapse",disallowToggle:!1,activeClass:"in",startCollapsed:!1},t=this.controller=function(t,i,r){var u=this;u.$options=angular.copy(n);angular.forEach(["animation","disallowToggle","activeClass","startCollapsed"],function(n){angular.isDefined(r[n])&&(u.$options[n]=r[n])});u.$toggles=[];u.$targets=[];u.$viewChangeListeners=[];u.$registerToggle=function(n){u.$toggles.push(n)};u.$registerTarget=function(n){u.$targets.push(n)};u.$unregisterToggle=function(n){var t=u.$toggles.indexOf(n);u.$toggles.splice(t,1)};u.$unregisterTarget=function(n){var i=u.$targets.indexOf(n),t=u.$targets.$active;u.$targets.splice(i,1);i<t?t--:i===t&&t===u.$targets.length&&t--;u.$setActive(t)};u.$targets.$active=u.$options.startCollapsed?-1:0;u.$setActive=t.$setActive=function(n){u.$targets.$active=u.$options.disallowToggle?n:u.$targets.$active===n?-1:n;u.$viewChangeListeners.forEach(function(n){n()})}};this.$get=function(){var i={};return i.defaults=n,i.controller=t,i}}).directive("bsCollapse",["$window","$animate","$collapse",function(n,t,i){var r=i.defaults;return{require:["?ngModel","bsCollapse"],controller:["$scope","$element","$attrs",i.controller],link:function(n,t,i,r){var f=r[0],u=r[1];f&&(u.$viewChangeListeners.push(function(){f.$setViewValue(u.$targets.$active)}),f.$formatters.push(function(n){return u.$targets.$active!==n*1&&u.$setActive(n*1),n}))}}}]).directive("bsCollapseToggle",function(){return{require:["^?ngModel","^bsCollapse"],link:function(n,t,i,r){var f=r[0],u=r[1];t.attr("data-toggle","collapse");u.$registerToggle(t);n.$on("$destroy",function(){u.$unregisterToggle(t)});t.on("click",function(){var r=i.bsCollapseToggle||u.$toggles.indexOf(t);u.$setActive(r*1);n.$apply()})}}}).directive("bsCollapseTarget",["$animate",function(n){return{require:["^?ngModel","^bsCollapse"],link:function(t,i,r,u){function e(){var t=f.$targets.indexOf(i),r=f.$targets.$active;n[t===r?"addClass":"removeClass"](i,f.$options.activeClass)}var o=u[0],f=u[1];i.addClass("collapse");f.$options.animation&&i.addClass(f.$options.animation);f.$registerTarget(i);t.$on("$destroy",function(){f.$unregisterTarget(i)});f.$viewChangeListeners.push(function(){e()});e()}}}]);angular.module("mgcrea.ngStrap.datepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.helpers.dateFormatter","mgcrea.ngStrap.tooltip"]).provider("$datepicker",function(){var n=this.defaults={animation:"am-fade",prefixClass:"datepicker",placement:"bottom-left",template:"datepicker/datepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!1,dateType:"date",dateFormat:"shortDate",modelDateFormat:null,dayFormat:"dd",monthFormat:"MMM",yearFormat:"yyyy",monthTitleFormat:"MMMM yyyy",yearTitleFormat:"yyyy",strictFormat:!1,autoclose:!1,minDate:-Infinity,maxDate:+Infinity,startView:0,minView:0,startWeek:0,daysOfWeekDisabled:"",iconLeft:"glyphicon glyphicon-chevron-left",iconRight:"glyphicon glyphicon-chevron-right"};this.$get=["$window","$document","$rootScope","$sce","$dateFormatter","datepickerViews","$tooltip","$timeout",function(t,i,r,u,f,e,o,s){function l(t,i,r){function nt(n){n.selected=u.$isSelected(n.date)}function p(){t[0].focus()}var u=o(t,angular.extend({},n,r)),g=r.scope,l=u.$options,f=u.$scope,y,v,a,w,b,k,d;return l.startView&&(l.startView-=l.minView),y=e(u),u.$views=y.views,v=y.viewDate,f.$mode=l.startView,f.$iconLeft=l.iconLeft,f.$iconRight=l.iconRight,a=u.$views[f.$mode],f.$select=function(n){u.select(n)},f.$selectPane=function(n){u.$selectPane(n)},f.$toggleMode=function(){u.setMode((f.$mode+1)%u.$views.length)},u.update=function(n){angular.isDate(n)&&!isNaN(n.getTime())&&(u.$date=n,a.update.call(a,n));u.$build(!0)},u.updateDisabledDates=function(n){l.disabledDateRanges=n;for(var t=0,i=f.rows.length;t<i;t++)angular.forEach(f.rows[t],u.$setDisabledEl)},u.select=function(n,t){angular.isDate(i.$dateValue)||(i.$dateValue=new Date(n));!f.$mode||t?(i.$setViewValue(angular.copy(n)),i.$render(),l.autoclose&&!t&&s(function(){u.hide(!0)})):(angular.extend(v,{year:n.getFullYear(),month:n.getMonth(),date:n.getDate()}),u.setMode(f.$mode-1),u.$build())},u.setMode=function(n){f.$mode=n;a=u.$views[f.$mode];u.$build()},u.$build=function(n){n===!0&&a.built||(n!==!1||a.built)&&a.build.call(a)},u.$updateSelected=function(){for(var n=0,t=f.rows.length;n<t;n++)angular.forEach(f.rows[n],nt)},u.$isSelected=function(n){return a.isSelected(n)},u.$setDisabledEl=function(n){n.disabled=a.isDisabled(n.date)},u.$selectPane=function(n){var i=a.steps,t=new Date(Date.UTC(v.year+(i.year||0)*n,v.month+(i.month||0)*n,1));angular.extend(v,{year:t.getUTCFullYear(),month:t.getUTCMonth(),date:t.getUTCDate()});u.$build()},u.$onMouseDown=function(n){if(n.preventDefault(),n.stopPropagation(),h){var t=angular.element(n.target);t[0].nodeName.toLowerCase()!=="button"&&(t=t.parent());t.triggerHandler("click")}},u.$onKeyDown=function(n){if(/(38|37|39|40|13)/.test(n.keyCode)&&!n.shiftKey&&!n.altKey){if(n.preventDefault(),n.stopPropagation(),n.keyCode===13)return f.$mode?f.$apply(function(){u.setMode(f.$mode-1)}):u.hide(!0);a.onKeyDown(n);g.$digest()}},w=u.init,u.init=function(){if(c&&l.useNative){t.prop("type","date");t.css("-webkit-appearance","textfield");return}if(h){t.prop("type","text");t.attr("readonly","true");t.on("click",p)}w()},b=u.destroy,u.destroy=function(){c&&l.useNative&&t.off("click",p);b()},k=u.show,u.show=function(){k();s(function(){u.$element.on(h?"touchstart":"mousedown",u.$onMouseDown);if(l.keyboard)t.on("keydown",u.$onKeyDown)},0,!1)},d=u.hide,u.hide=function(n){u.$isShown&&(u.$element.off(h?"touchstart":"mousedown",u.$onMouseDown),l.keyboard&&t.off("keydown",u.$onKeyDown),d(n))},u}var a=angular.element(t.document.body),c=/(ip(a|o)d|iphone|android)/ig.test(t.navigator.userAgent),h="createTouch"in t.document&&c;return n.lang||(n.lang=f.getDefaultLocale()),l.defaults=n,l}]}).directive("bsDatepicker",["$window","$parse","$q","$dateFormatter","$dateParser","$datepicker",function(n,t,i,r,u,f){var o=f.defaults,e=/(ip(a|o)d|iphone|android)/ig.test(n.navigator.userAgent);return{restrict:"EAC",require:"ngModel",link:function(n,t,i,o){function v(n){return!n||!n.length?null:n}function y(n){if(angular.isDate(n)){var t=isNaN(h.$options.minDate)||n.getTime()>=h.$options.minDate,i=isNaN(h.$options.maxDate)||n.getTime()<=h.$options.maxDate,r=t&&i;o.$setValidity("date",r);o.$setValidity("min",t);o.$setValidity("max",i);r&&(o.$dateValue=n)}}function p(){return!o.$dateValue||isNaN(o.$dateValue.getTime())?"":a(o.$dateValue,s.dateFormat)}var s={scope:n,controller:o},h;angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","autoclose","dateType","dateFormat","modelDateFormat","dayFormat","strictFormat","startWeek","startDate","useNative","lang","startView","minView","iconLeft","iconRight","daysOfWeekDisabled"],function(n){angular.isDefined(i[n])&&(s[n]=i[n])});i.bsShow&&n.$watch(i.bsShow,function(n){h&&angular.isDefined(n)&&(angular.isString(n)&&(n=!!n.match(/true|,?(datepicker),?/i)),n===!0?h.show():h.hide())});h=f(t,o,s);s=h.$options;e&&s.useNative&&(s.dateFormat="yyyy-MM-dd");var l=s.lang,a=function(n,t){return r.formatDate(n,t,l)},c=u({format:s.dateFormat,lang:l,strict:s.strictFormat});angular.forEach(["minDate","maxDate"],function(n){angular.isDefined(i[n])&&i.$observe(n,function(t){h.$options[n]=c.getDateForAttribute(n,t);isNaN(h.$options[n])||h.$build(!1);y(o.$dateValue)})});n.$watch(i.ngModel,function(){h.update(o.$dateValue)},!0);angular.isDefined(i.disabledDates)&&n.$watch(i.disabledDates,function(n,t){n=v(n);t=v(t);n&&h.updateDisabledDates(n)});o.$parsers.unshift(function(n){if(!n)return o.$setValidity("date",!0),null;var t=c.parse(n,o.$dateValue);if(!t||isNaN(t.getTime())){o.$setValidity("date",!1);return}return y(t),s.dateType==="string"?a(t,s.modelDateFormat||s.dateFormat):s.dateType==="number"?o.$dateValue.getTime():s.dateType==="unix"?o.$dateValue.getTime()/1e3:s.dateType==="iso"?o.$dateValue.toISOString():new Date(o.$dateValue)});o.$formatters.push(function(n){var t;return t=angular.isUndefined(n)||n===null?NaN:angular.isDate(n)?n:s.dateType==="string"?c.parse(n,null,s.modelDateFormat):s.dateType==="unix"?new Date(n*1e3):new Date(n),o.$dateValue=t,p()});o.$render=function(){t.val(p())};n.$on("$destroy",function(){h&&h.destroy();s=null;h=null})}}}]).provider("datepickerViews",function(){function n(n,t){for(var i=[];n.length>0;)i.push(n.splice(0,t));return i}function t(n,t){return(n%t+t)%t}var i=this.defaults={dayFormat:"dd",daySplit:7};this.$get=["$dateFormatter","$dateParser","$sce",function(i,r,u){return function(f){var s=f.$scope,e=f.$options,l=e.lang,h=function(n,t){return i.formatDate(n,t,l)},a=r({format:e.dateFormat,lang:l,strict:e.strictFormat}),v=i.weekdaysShort(l),p=v.slice(e.startWeek).concat(v.slice(0,e.startWeek)),w=u.trustAsHtml('<th class="dow text-center">'+p.join('<\/th><th class="dow text-center">')+"<\/th>"),c=f.$date||(e.startDate?a.getDateForAttribute("startDate",e.startDate):new Date),o={year:c.getFullYear(),month:c.getMonth(),date:c.getDate()},b=c.getTimezoneOffset()*6e4,y=[{format:e.dayFormat,split:7,steps:{month:1},update:function(n,t){!this.built||t||n.getFullYear()!==o.year||n.getMonth()!==o.month?(angular.extend(o,{year:f.$date.getFullYear(),month:f.$date.getMonth(),date:f.$date.getDate()}),f.$build()):n.getDate()!==o.date&&(o.date=f.$date.getDate(),f.$updateSelected())},build:function(){var u=new Date(o.year,o.month,1),v=u.getTimezoneOffset(),r=new Date(+u-t(u.getDay()-e.startWeek,7)*864e5),y=r.getTimezoneOffset(),p=(new Date).toDateString(),l,i,c;for(y!==v&&(r=new Date(+r+(y-v)*6e4)),l=[],c=0;c<42;c++)i=a.daylightSavingAdjust(new Date(r.getFullYear(),r.getMonth(),r.getDate()+c)),l.push({date:i,isToday:i.toDateString()===p,label:h(i,this.format),selected:f.$date&&this.isSelected(i),muted:i.getMonth()!==o.month,disabled:this.isDisabled(i)});s.title=h(u,e.monthTitleFormat);s.showLabels=!0;s.labels=w;s.rows=n(l,this.split);this.built=!0},isSelected:function(n){return f.$date&&n.getFullYear()===f.$date.getFullYear()&&n.getMonth()===f.$date.getMonth()&&n.getDate()===f.$date.getDate()},isDisabled:function(n){var i=n.getTime(),t;if(i<e.minDate||i>e.maxDate||e.daysOfWeekDisabled.indexOf(n.getDay())!==-1)return!0;if(e.disabledDateRanges)for(t=0;t<e.disabledDateRanges.length;t++)if(i>=e.disabledDateRanges[t].start&&i<=e.disabledDateRanges[t].end)return!0;return!1},onKeyDown:function(n){if(f.$date){var i=f.$date.getTime(),t;n.keyCode===37?t=new Date(i-864e5):n.keyCode===38?t=new Date(i-6048e5):n.keyCode===39?t=new Date(i+864e5):n.keyCode===40&&(t=new Date(i+6048e5));this.isDisabled(t)||f.select(t,!0)}}},{name:"month",format:e.monthFormat,split:4,steps:{year:1},update:function(n){this.built&&n.getFullYear()===o.year?n.getMonth()!==o.month&&(angular.extend(o,{month:f.$date.getMonth(),date:f.$date.getDate()}),f.$updateSelected()):(angular.extend(o,{year:f.$date.getFullYear(),month:f.$date.getMonth(),date:f.$date.getDate()}),f.$build())},build:function(){for(var u=new Date(o.year,0,1),r=[],t,i=0;i<12;i++)t=new Date(o.year,i,1),r.push({date:t,label:h(t,this.format),selected:f.$isSelected(t),disabled:this.isDisabled(t)});s.title=h(t,e.yearTitleFormat);s.showLabels=!1;s.rows=n(r,this.split);this.built=!0},isSelected:function(n){return f.$date&&n.getFullYear()===f.$date.getFullYear()&&n.getMonth()===f.$date.getMonth()},isDisabled:function(n){var t=+new Date(n.getFullYear(),n.getMonth()+1,0);return t<e.minDate||n.getTime()>e.maxDate},onKeyDown:function(n){if(f.$date){var i=f.$date.getMonth(),t=new Date(f.$date);n.keyCode===37?t.setMonth(i-1):n.keyCode===38?t.setMonth(i-4):n.keyCode===39?t.setMonth(i+1):n.keyCode===40&&t.setMonth(i+4);this.isDisabled(t)||f.select(t,!0)}}},{name:"year",format:e.yearFormat,split:4,steps:{year:12},update:function(n,t){!this.built||t||parseInt(n.getFullYear()/20,10)!==parseInt(o.year/20,10)?(angular.extend(o,{year:f.$date.getFullYear(),month:f.$date.getMonth(),date:f.$date.getDate()}),f.$build()):n.getFullYear()!==o.year&&(angular.extend(o,{year:f.$date.getFullYear(),month:f.$date.getMonth(),date:f.$date.getDate()}),f.$updateSelected())},build:function(){for(var u=o.year-o.year%(this.split*3),t=[],i,r=0;r<12;r++)i=new Date(u+r,0,1),t.push({date:i,label:h(i,this.format),selected:f.$isSelected(i),disabled:this.isDisabled(i)});s.title=t[0].label+"-"+t[t.length-1].label;s.showLabels=!1;s.rows=n(t,this.split);this.built=!0},isSelected:function(n){return f.$date&&n.getFullYear()===f.$date.getFullYear()},isDisabled:function(n){var t=+new Date(n.getFullYear()+1,0,0);return t<e.minDate||n.getTime()>e.maxDate},onKeyDown:function(n){if(f.$date){var i=f.$date.getFullYear(),t=new Date(f.$date);n.keyCode===37?t.setYear(i-1):n.keyCode===38?t.setYear(i-4):n.keyCode===39?t.setYear(i+1):n.keyCode===40&&t.setYear(i+4);this.isDisabled(t)||f.select(t,!0)}}}];return{views:e.minView?Array.prototype.slice.call(y,e.minView):y,viewDate:o}}}]});angular.module("mgcrea.ngStrap.dropdown",["mgcrea.ngStrap.tooltip"]).provider("$dropdown",function(){var n=this.defaults={animation:"am-fade",prefixClass:"dropdown",placement:"bottom-left",template:"dropdown/dropdown.tpl.html",trigger:"click",container:!1,keyboard:!0,html:!1,delay:0};this.$get=["$window","$rootScope","$tooltip","$timeout",function(t,i,r,u){function o(t,o){function l(n){if(n.target!==t[0])return n.target!==t[0]&&s.hide()}var s={},h=angular.extend({},n,o),p=s.$scope=h.scope&&h.scope.$new()||i.$new(),c,a,v,y;return s=r(t,h),c=t.parent(),s.$onKeyDown=function(n){var i,t;/(38|40)/.test(n.keyCode)&&(n.preventDefault(),n.stopPropagation(),i=angular.element(s.$element[0].querySelectorAll("li:not(.divider) a")),i.length)&&(angular.forEach(i,function(n,i){e&&e.call(n,":focus")&&(t=i)}),n.keyCode===38&&t>0?t--:n.keyCode===40&&t<i.length-1?t++:angular.isUndefined(t)&&(t=0),i.eq(t)[0].focus())},a=s.show,s.show=function(){a();u(function(){h.keyboard&&s.$element.on("keydown",s.$onKeyDown);f.on("click",l)},0,!1);c.hasClass("dropdown")&&c.addClass("open")},v=s.hide,s.hide=function(){s.$isShown&&(h.keyboard&&s.$element.off("keydown",s.$onKeyDown),f.off("click",l),c.hasClass("dropdown")&&c.removeClass("open"),v())},y=s.destroy,s.destroy=function(){f.off("click",l);y()},s}var f=angular.element(t.document.body),e=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector;return o}]}).directive("bsDropdown",["$window","$sce","$dropdown",function(n,t,i){return{restrict:"EAC",scope:!0,link:function(n,t,r){var f={scope:n},u;angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template"],function(n){angular.isDefined(r[n])&&(f[n]=r[n])});r.bsDropdown&&n.$watch(r.bsDropdown,function(t){n.content=t},!0);r.bsShow&&n.$watch(r.bsShow,function(n){u&&angular.isDefined(n)&&(angular.isString(n)&&(n=!!n.match(/true|,?(dropdown),?/i)),n===!0?u.show():u.hide())});u=i(t,f);n.$on("$destroy",function(){u&&u.destroy();f=null;u=null})}}}]);angular.module("mgcrea.ngStrap.helpers.dateFormatter",[]).service("$dateFormatter",["$locale","dateFilter",function(n,t){function i(n){return/(h+)([:\.])?(m+)[ ]?(a?)/i.exec(n).slice(1)}this.getDefaultLocale=function(){return n.id};this.getDatetimeFormat=function(t){return n.DATETIME_FORMATS[t]||t};this.weekdaysShort=function(){return n.DATETIME_FORMATS.SHORTDAY};this.hoursFormat=function(n){return i(n)[0]};this.minutesFormat=function(n){return i(n)[2]};this.timeSeparator=function(n){return i(n)[1]};this.showAM=function(n){return!!i(n)[3]};this.formatDate=function(n,i){return t(n,i)}}]);angular.module("mgcrea.ngStrap.helpers.dateParser",[]).provider("$dateParser",["$localeProvider",function(){function t(){this.year=1970;this.month=0;this.day=1;this.hours=0;this.minutes=0;this.seconds=0;this.milliseconds=0}function i(){}function r(n){return!isNaN(parseFloat(n))&&isFinite(n)}function u(n,t){for(var r=n.length,u=t.toString().toLowerCase(),i=0;i<r;i++)if(n[i].toLowerCase()===u)return i;return-1}var n,f;t.prototype.setMilliseconds=function(n){this.milliseconds=n};t.prototype.setSeconds=function(n){this.seconds=n};t.prototype.setMinutes=function(n){this.minutes=n};t.prototype.setHours=function(n){this.hours=n};t.prototype.getHours=function(){return this.hours};t.prototype.setDate=function(n){this.day=n};t.prototype.setMonth=function(n){this.month=n};t.prototype.setFullYear=function(n){this.year=n};t.prototype.fromDate=function(n){return this.year=n.getFullYear(),this.month=n.getMonth(),this.day=n.getDate(),this.hours=n.getHours(),this.minutes=n.getMinutes(),this.seconds=n.getSeconds(),this.milliseconds=n.getMilliseconds(),this};t.prototype.toDate=function(){return new Date(this.year,this.month,this.day,this.hours,this.minutes,this.seconds,this.milliseconds)};n=t.prototype;f=this.defaults={format:"shortDate",strict:!1};this.$get=["$locale","dateFilter",function(e,o){return function(s){function p(n){for(var i=Object.keys(l),r=[],u=[],e=n,f,t=0;t<i.length;t++)n.split(i[t]).length>1&&(f=e.search(i[t]),n=n.split(i[t]).join(""),l[i[t]]&&(r[f]=l[i[t]]));return angular.forEach(r,function(n){n&&u.push(n)}),u}function b(n){return n.replace(/\//g,"[\\/]").replace("/-/g","[-]").replace(/\./g,"[.]").replace(/\\s/g,"[\\s]")}function w(n){for(var r=Object.keys(v),i=n,t=0;t<r.length;t++)i=i.split(r[t]).join("${"+t+"}");for(t=0;t<r.length;t++)i=i.split("${"+t+"}").join("("+v[r[t]]+")");return n=b(n),new RegExp("^"+i+"$",["i"])}var c=angular.extend({},f,s),h={},v={sss:"[0-9]{3}",ss:"[0-5][0-9]",s:c.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",mm:"[0-5][0-9]",m:c.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",HH:"[01][0-9]|2[0-3]",H:c.strict?"1?[0-9]|2[0-3]":"[01]?[0-9]|2[0-3]",hh:"[0][1-9]|[1][012]",h:c.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",a:"AM|PM",EEEE:e.DATETIME_FORMATS.DAY.join("|"),EEE:e.DATETIME_FORMATS.SHORTDAY.join("|"),dd:"0[1-9]|[12][0-9]|3[01]",d:c.strict?"[1-9]|[1-2][0-9]|3[01]":"0?[1-9]|[1-2][0-9]|3[01]",MMMM:e.DATETIME_FORMATS.MONTH.join("|"),MMM:e.DATETIME_FORMATS.SHORTMONTH.join("|"),MM:"0[1-9]|1[012]",M:c.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",yyyy:"[1]{1}[0-9]{3}|[2]{1}[0-9]{3}",yy:"[0-9]{2}",y:c.strict?"-?(0|[1-9][0-9]{0,3})":"-?0*[0-9]{1,4}"},l={sss:n.setMilliseconds,ss:n.setSeconds,s:n.setSeconds,mm:n.setMinutes,m:n.setMinutes,HH:n.setHours,H:n.setHours,hh:n.setHours,h:n.setHours,EEEE:i,EEE:i,dd:n.setDate,d:n.setDate,a:function(n){var t=this.getHours()%12;return this.setHours(n.match(/pm/i)?t+12:t)},MMMM:function(n){return this.setMonth(u(e.DATETIME_FORMATS.MONTH,n))},MMM:function(n){return this.setMonth(u(e.DATETIME_FORMATS.SHORTMONTH,n))},MM:function(n){return this.setMonth(1*n-1)},M:function(n){return this.setMonth(1*n-1)},yyyy:n.setFullYear,yy:function(n){return this.setFullYear(2e3+1*n)},y:n.setFullYear},a,y;return h.init=function(){h.$format=e.DATETIME_FORMATS[c.format]||c.format;a=w(h.$format);y=p(h.$format)},h.isValid=function(n){return angular.isDate(n)?!isNaN(n.getTime()):a.test(n)},h.parse=function(n,i,r){var f,u,c;r&&(r=e.DATETIME_FORMATS[r]||r);angular.isDate(n)&&(n=o(n,r||h.$format));var v=r?w(r):a,l=r?p(r):y,s=v.exec(n);if(!s)return!1;for(f=i&&!isNaN(i.getTime())?(new t).fromDate(i):(new t).fromDate(new Date(1970,0,1,0)),u=0;u<s.length-1;u++)l[u]&&l[u].call(f,s[u+1]);return(c=f.toDate(),parseInt(f.day,10)!==c.getDate())?!1:c},h.getDateForAttribute=function(n,t){var u,i;return t==="today"?(i=new Date,u=new Date(i.getFullYear(),i.getMonth(),i.getDate()+(n==="maxDate"?1:0),0,0,0,n==="minDate"?0:-1)):u=angular.isString(t)&&t.match(/^".+"$/)?new Date(t.substr(1,t.length-2)):r(t)?new Date(parseInt(t,10)):angular.isString(t)&&0===t.length?n==="minDate"?-Infinity:+Infinity:new Date(t),u},h.getTimeForAttribute=function(n,t){return t==="now"?(new Date).setFullYear(1970,0,1):angular.isString(t)&&t.match(/^".+"$/)?new Date(t.substr(1,t.length-2)).setFullYear(1970,0,1):r(t)?new Date(parseInt(t,10)).setFullYear(1970,0,1):angular.isString(t)&&0===t.length?n==="minTime"?-Infinity:+Infinity:h.parse(t,new Date(1970,0,1,0))},h.daylightSavingAdjust=function(n){return n?(n.setHours(n.getHours()>12?n.getHours()+2:0),n):null},h.init(),h}}]}]);angular.module("mgcrea.ngStrap.helpers.debounce",[]).factory("debounce",["$timeout",function(n){return function(t,i,r){var u=null;return function(){var f=this,e=arguments,o=r&&!u;return u&&n.cancel(u),u=n(function(){u=null;r||t.apply(f,e)},i,!1),o&&t.apply(f,e),u}}}]).factory("throttle",["$timeout",function(n){return function(t,i,r){var u=null;return r||(r={}),function(){var f=this,e=arguments;u||(r.leading!==!1&&t.apply(f,e),u=n(function(){u=null;r.trailing!==!1&&t.apply(f,e)},i,!1))}}}]);angular.module("mgcrea.ngStrap.helpers.dimensions",[]).factory("dimensions",["$document","$window",function(){var u=angular.element,t={},i=t.nodeName=function(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()},r;return t.css=function(t,i,r){var u;return u=t.currentStyle?t.currentStyle[i]:n.getComputedStyle?n.getComputedStyle(t)[i]:t.style[i],r===!0?parseFloat(u)||0:u},t.offset=function(t){var i=t.getBoundingClientRect(),r=t.ownerDocument;return{width:i.width||t.offsetWidth,height:i.height||t.offsetHeight,top:i.top+(n.pageYOffset||r.documentElement.scrollTop)-(r.documentElement.clientTop||0),left:i.left+(n.pageXOffset||r.documentElement.scrollLeft)-(r.documentElement.clientLeft||0)}},t.position=function(n){var u={top:0,left:0},f,e;return t.css(n,"position")==="fixed"?e=n.getBoundingClientRect():(f=r(n),e=t.offset(n),i(f,"html")||(u=t.offset(f)),u.top+=t.css(f,"borderTopWidth",!0),u.left+=t.css(f,"borderLeftWidth",!0)),{width:n.offsetWidth,height:n.offsetHeight,top:e.top-u.top-t.css(n,"marginTop",!0),left:e.left-u.left-t.css(n,"marginLeft",!0)}},r=function(n){var u=n.ownerDocument,r=n.offsetParent||u;if(i(r,"#document"))return u.documentElement;while(r&&!i(r,"html")&&t.css(r,"position")==="static")r=r.offsetParent;return r||u.documentElement},t.height=function(n,i){var r=n.offsetHeight;return i?r+=t.css(n,"marginTop",!0)+t.css(n,"marginBottom",!0):r-=t.css(n,"paddingTop",!0)+t.css(n,"paddingBottom",!0)+t.css(n,"borderTopWidth",!0)+t.css(n,"borderBottomWidth",!0),r},t.width=function(n,i){var r=n.offsetWidth;return i?r+=t.css(n,"marginLeft",!0)+t.css(n,"marginRight",!0):r-=t.css(n,"paddingLeft",!0)+t.css(n,"paddingRight",!0)+t.css(n,"borderLeftWidth",!0)+t.css(n,"borderRightWidth",!0),r},t}]);angular.module("mgcrea.ngStrap.helpers.parseOptions",[]).provider("$parseOptions",function(){var n=this.defaults={regexp:/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/};this.$get=["$parse","$q",function(t,i){function r(r,u){function y(n,t){return n.map(function(n,i){var r={},u,f;return r[o]=n,u=s(t,r),f=h(t,r),{label:u,value:f,index:i}})}var e={},l=angular.extend({},n,u),f,s,o,a,v,h,c;return e.$values=[],e.init=function(){e.$match=f=r.match(l.regexp);s=t(f[2]||f[1]);o=f[4]||f[6];a=f[5];v=t(f[3]||"");h=t(f[2]?f[1]:o);c=t(f[7])},e.valuesFn=function(n,t){return i.when(c(n,t)).then(function(t){return e.$values=t?y(t,n):{},e.$values})},e.displayValue=function(n){var t={};return t[o]=n,s(t)},e.init(),e}return r}]});angular.version.minor<3&&angular.version.dot<14&&angular.module("ng").factory("$$rAF",["$window","$timeout",function(n,t){var i=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame,f=n.cancelAnimationFrame||n.webkitCancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelRequestAnimationFrame,r=!!i,u=r?function(n){var t=i(n);return function(){f(t)}}:function(n){var i=t(n,16.66,!1);return function(){t.cancel(i)}};return u.supported=r,u}]);angular.module("mgcrea.ngStrap.modal",["mgcrea.ngStrap.helpers.dimensions"]).provider("$modal",function(){var n=this.defaults={animation:"am-fade",backdropAnimation:"am-fade",prefixClass:"modal",prefixEvent:"modal",placement:"top",template:"modal/modal.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","$timeout","$sce","dimensions",function(i,r,u,f,e,o,s,h,c){function g(t){function nt(){e.$emit(i.prefixEvent+".show",f)}function tt(){e.$emit(i.prefixEvent+".hide",f);l.removeClass(i.prefixClass+"-open");i.animation&&l.removeClass(i.prefixClass+"-with-"+i.animation)}function a(n){n.target===n.currentTarget&&(i.backdrop==="static"?f.focus():f.hide())}function it(n){n.preventDefault()}var f={},i=f.$options=angular.extend({},n,t),e,g,o,h;return f.$promise=p(i.template),e=f.$scope=i.scope&&i.scope.$new()||r.$new(),i.element||i.container||(i.container="body"),w(["title","content"],function(n){i[n]&&(e[n]=c.trustAsHtml(i[n]))}),e.$hide=function(){e.$$postDigest(function(){f.hide()})},e.$show=function(){e.$$postDigest(function(){f.show()})},e.$toggle=function(){e.$$postDigest(function(){f.toggle()})},f.$isShown=e.$isShown=!1,i.contentTemplate&&(f.$promise=f.$promise.then(function(n){var r=angular.element(n);return p(i.contentTemplate).then(function(n){var i=y('[ng-bind="content"]',r[0]).removeAttr("ng-bind").html(n);return t.template||i.next().remove(),r[0].outerHTML})})),h=angular.element('<div class="'+i.prefixClass+'-backdrop"/>'),f.$promise.then(function(n){angular.isObject(n)&&(n=n.data);i.html&&(n=n.replace(d,'ng-bind-html="'));n=b.apply(n);g=u(n);f.init()}),f.init=function(){i.show&&e.$$postDigest(function(){f.show()})},f.destroy=function(){o&&(o.remove(),o=null);h&&(h.remove(),h=null);e.$destroy()},f.show=function(){var n,t,r,u;if(!f.$isShown&&!e.$emit(i.prefixEvent+".show.before",f).defaultPrevented){if(angular.isElement(i.container)?(n=i.container,t=i.container[0].lastChild?angular.element(i.container[0].lastChild):null):i.container?(n=y(i.container),t=n[0].lastChild?angular.element(n[0].lastChild):null):(n=null,t=i.element),o=f.$element=g(e,function(){}),o.css({display:"block"}).addClass(i.placement),i.animation&&(i.backdrop&&h.addClass(i.backdropAnimation),o.addClass(i.animation)),i.backdrop&&s.enter(h,l,null),r=s.enter(o,n,t,nt),r&&r.then&&r.then(nt),f.$isShown=e.$isShown=!0,v(e),u=o[0],k(function(){u.focus()}),l.addClass(i.prefixClass+"-open"),i.animation&&l.addClass(i.prefixClass+"-with-"+i.animation),i.backdrop){o.on("click",a);h.on("click",a);h.on("wheel",it)}if(i.keyboard)o.on("keyup",f.$onKeyUp)}},f.hide=function(){if(f.$isShown&&!e.$emit(i.prefixEvent+".hide.before",f).defaultPrevented){var n=s.leave(o,tt);n&&n.then&&n.then(tt);i.backdrop&&s.leave(h);f.$isShown=e.$isShown=!1;v(e);i.backdrop&&(o.off("click",a),h.off("click",a),h.off("wheel",it));i.keyboard&&o.off("keyup",f.$onKeyUp)}},f.toggle=function(){f.$isShown?f.hide():f.show()},f.focus=function(){o[0].focus()},f.$onKeyUp=function(n){n.which===27&&f.$isShown&&(f.hide(),n.stopPropagation())},f}function v(n){n.$$phase||n.$root&&n.$root.$$phase||n.$digest()}function y(n,i){return angular.element((i||t).querySelectorAll(n))}function p(n){return a[n]?a[n]:a[n]=f.when(e.get(n)||o.get(n)).then(function(t){return angular.isObject(t)?(e.put(n,t.data),t.data):t})}var w=angular.forEach,b=String.prototype.trim,k=i.requestAnimationFrame||i.setTimeout,l=angular.element(i.document.body),d=/ng-bind="/ig,a={};return g}]}).directive("bsModal",["$window","$sce","$modal",function(n,t,i){return{restrict:"EAC",scope:!0,link:function(n,r,u){var e={scope:n,element:r,show:!1},f;angular.forEach(["template","contentTemplate","placement","backdrop","keyboard","html","container","animation"],function(n){angular.isDefined(u[n])&&(e[n]=u[n])});angular.forEach(["title","content"],function(i){u[i]&&u.$observe(i,function(r){n[i]=t.trustAsHtml(r)})});u.bsModal&&n.$watch(u.bsModal,function(t){angular.isObject(t)?angular.extend(n,t):n.content=t},!0);f=i(e);r.on(u.trigger||"click",f.toggle);n.$on("$destroy",function(){f&&f.destroy();e=null;f=null})}}}]);angular.module("mgcrea.ngStrap.navbar",[]).provider("$navbar",function(){var n=this.defaults={activeClass:"active",routeAttr:"data-match-route",strict:!1};this.$get=function(){return{defaults:n}}}).directive("bsNavbar",["$window","$location","$navbar",function(n,t,i){var r=i.defaults;return{restrict:"A",link:function(n,i,u){var f=angular.copy(r);angular.forEach(Object.keys(r),function(n){angular.isDefined(u[n])&&(f[n]=u[n])});n.$watch(function(){return t.path()},function(n){var t=i[0].querySelectorAll("li["+f.routeAttr+"]");angular.forEach(t,function(t){var i=angular.element(t),r=i.attr(f.routeAttr).replace("/","\\/"),u;f.strict&&(r="^"+r+"$");u=new RegExp(r,["i"]);u.test(n)?i.addClass(f.activeClass):i.removeClass(f.activeClass)})})}}}]);angular.module("mgcrea.ngStrap.popover",["mgcrea.ngStrap.tooltip"]).provider("$popover",function(){var n=this.defaults={animation:"am-fade",customClass:"",container:!1,target:!1,placement:"right",template:"popover/popover.tpl.html",contentTemplate:!1,trigger:"click",keyboard:!0,html:!1,title:"",content:"",delay:0,autoClose:!1};this.$get=["$tooltip",function(t){function i(i,r){var u=angular.extend({},n,r),f=t(i,u);return u.content&&(f.$scope.content=u.content),f}return i}]}).directive("bsPopover",["$window","$sce","$popover",function(n,t,i){var r=n.requestAnimationFrame||n.setTimeout;return{restrict:"EAC",scope:!0,link:function(n,u,f){var o={scope:n},e;angular.forEach(["template","contentTemplate","placement","container","target","delay","trigger","keyboard","html","animation","customClass","autoClose"],function(n){angular.isDefined(f[n])&&(o[n]=f[n])});angular.forEach(["title","content"],function(i){f[i]&&f.$observe(i,function(u,f){n[i]=t.trustAsHtml(u);angular.isDefined(f)&&r(function(){e&&e.$applyPlacement()})})});f.bsPopover&&n.$watch(f.bsPopover,function(t,i){angular.isObject(t)?angular.extend(n,t):n.content=t;angular.isDefined(i)&&r(function(){e&&e.$applyPlacement()})},!0);f.bsShow&&n.$watch(f.bsShow,function(n){e&&angular.isDefined(n)&&(angular.isString(n)&&(n=!!n.match(/true|,?(popover),?/i)),n===!0?e.show():e.hide())});e=i(u,o);n.$on("$destroy",function(){e&&e.destroy();o=null;e=null})}}}]);angular.module("mgcrea.ngStrap.scrollspy",["mgcrea.ngStrap.helpers.debounce","mgcrea.ngStrap.helpers.dimensions"]).provider("$scrollspy",function(){var n=this.$$spies={},i=this.defaults={debounce:150,throttle:100,offset:100};this.$get=["$window","$document","$rootScope","dimensions","debounce","throttle",function(r,u,f,e,o,s){function h(n,t){return n[0].nodeName&&n[0].nodeName.toLowerCase()===t.toLowerCase()}function v(u){var p=angular.extend({},i,u);p.element||(p.element=a);var it=h(p.element,"body"),k=it?c:p.element,b=it?"window":p.id;if(n[b])return n[b].$$count++,n[b];var v={},ut,ft,w=v.$trackedElements=[],y=[],d,g,rt,nt,et,tt;return v.init=function(){this.$$count=1;g=o(this.checkPosition,p.debounce);rt=s(this.checkPosition,p.throttle);k.on("click",this.checkPositionWithEventLoop);c.on("resize",g);k.on("scroll",rt);nt=o(this.checkOffsets,p.debounce);ut=f.$on("$viewContentLoaded",nt);ft=f.$on("$includeContentLoaded",nt);nt();b&&(n[b]=v)},v.destroy=function(){(this.$$count--,this.$$count>0)||(k.off("click",this.checkPositionWithEventLoop),c.off("resize",g),k.off("scroll",rt),ut(),ft(),b&&delete n[b])},v.checkPosition=function(){if(y.length){if(tt=(it?r.pageYOffset:k.prop("scrollTop"))||0,et=Math.max(r.innerHeight,l.prop("clientHeight")),tt<y[0].offsetTop&&d!==y[0].target)return v.$activateElement(y[0]);for(var n=y.length;n--;)if(!angular.isUndefined(y[n].offsetTop)&&y[n].offsetTop!==null&&d!==y[n].target&&!(tt<y[n].offsetTop)&&(!y[n+1]||!(tt>y[n+1].offsetTop)))return v.$activateElement(y[n])}},v.checkPositionWithEventLoop=function(){setTimeout(v.checkPosition,1)},v.$activateElement=function(n){if(d){var t=v.$getTrackedElement(d);t&&(t.source.removeClass("active"),h(t.source,"li")&&h(t.source.parent().parent(),"li")&&t.source.parent().parent().removeClass("active"))}d=n.target;n.source.addClass("active");h(n.source,"li")&&h(n.source.parent().parent(),"li")&&n.source.parent().parent().addClass("active")},v.$getTrackedElement=function(n){return w.filter(function(t){return t.target===n})[0]},v.checkOffsets=function(){angular.forEach(w,function(n){var i=t.querySelector(n.target);n.offsetTop=i?e.offset(i).top:null;p.offset&&n.offsetTop!==null&&(n.offsetTop-=p.offset*1)});y=w.filter(function(n){return n.offsetTop!==null}).sort(function(n,t){return n.offsetTop-t.offsetTop});g()},v.trackElement=function(n,t){w.push({target:n,source:t})},v.untrackElement=function(n,t){for(var r,i=w.length;i--;)if(w[i].target===n&&w[i].source===t){r=i;break}w=w.splice(r,1)},v.activate=function(n){w[n].addClass("active")},v.init(),v}var c=angular.element(r),l=angular.element(u.prop("documentElement")),a=angular.element(r.document.body);return v}]}).directive("bsScrollspy",["$rootScope","debounce","dimensions","$scrollspy",function(n,t,i,r){return{restrict:"EAC",link:function(n,t,i){var f={scope:n},u;angular.forEach(["offset","target"],function(n){angular.isDefined(i[n])&&(f[n]=i[n])});u=r(f);u.trackElement(f.target,t);n.$on("$destroy",function(){u&&(u.untrackElement(f.target,t),u.destroy());f=null;u=null})}}}]).directive("bsScrollspyList",["$rootScope","debounce","dimensions","$scrollspy",function(){return{restrict:"A",compile:function(n){var t=n[0].querySelectorAll("li > a[href]");angular.forEach(t,function(n){var t=angular.element(n);t.parent().attr("bs-scrollspy","").attr("data-target",t.attr("href"))})}}}]);angular.module("mgcrea.ngStrap.select",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$select",function(){var n=this.defaults={animation:"am-fade",prefixClass:"select",prefixEvent:"$select",placement:"bottom-left",template:"select/select.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,multiple:!1,allNoneButtons:!1,sort:!0,caretHtml:'&nbsp;<span class="caret"><\/span>',placeholder:"Choose among the following...",allText:"All",noneText:"None",maxLength:3,maxLengthHtml:"selected",iconCheckmark:"glyphicon glyphicon-ok"};this.$get=["$window","$document","$rootScope","$tooltip","$timeout",function(t,i,r,u,f){function o(t,i,r){var s={},h=angular.extend({},n,r),o,c,l;return s=u(t,h),o=s.$scope,o.$matches=[],o.$activeIndex=0,o.$isMultiple=h.multiple,o.$showAllNoneButtons=h.allNoneButtons&&h.multiple,o.$iconCheckmark=h.iconCheckmark,o.$allText=h.allText,o.$noneText=h.noneText,o.$activate=function(n){o.$$postDigest(function(){s.activate(n)})},o.$select=function(n){o.$$postDigest(function(){s.select(n)})},o.$isVisible=function(){return s.$isVisible()},o.$isActive=function(n){return s.$isActive(n)},o.$selectAll=function(){for(var n=0;n<o.$matches.length;n++)o.$isActive(n)||o.$select(n)},o.$selectNone=function(){for(var n=0;n<o.$matches.length;n++)o.$isActive(n)&&o.$select(n)},s.update=function(n){o.$matches=n;s.$updateActiveIndex()},s.activate=function(n){return h.multiple?(o.$activeIndex.sort(),s.$isActive(n)?o.$activeIndex.splice(o.$activeIndex.indexOf(n),1):o.$activeIndex.push(n),h.sort&&o.$activeIndex.sort()):o.$activeIndex=n,o.$activeIndex},s.select=function(n){var t=o.$matches[n].value;o.$apply(function(){s.activate(n);h.multiple?i.$setViewValue(o.$activeIndex.map(function(n){return o.$matches[n].value})):(i.$setViewValue(t),s.hide())});o.$emit(h.prefixEvent+".select",t,n)},s.$updateActiveIndex=function(){i.$modelValue&&o.$matches.length?o.$activeIndex=h.multiple&&angular.isArray(i.$modelValue)?i.$modelValue.map(function(n){return s.$getIndex(n)}):s.$getIndex(i.$modelValue):o.$activeIndex>=o.$matches.length&&(o.$activeIndex=h.multiple?[]:0)},s.$isVisible=function(){return!h.minLength||!i?o.$matches.length:o.$matches.length&&i.$viewValue.length>=h.minLength},s.$isActive=function(n){return h.multiple?o.$activeIndex.indexOf(n)!==-1:o.$activeIndex===n},s.$getIndex=function(n){var i=o.$matches.length,t=i;if(i){for(t=i;t--;)if(o.$matches[t].value===n)break;if(!(t<0))return t}},s.$onMouseDown=function(n){if(n.preventDefault(),n.stopPropagation(),e){var t=angular.element(n.target);t.triggerHandler("click")}},s.$onKeyDown=function(n){if(/(9|13|38|40)/.test(n.keyCode)){if(n.preventDefault(),n.stopPropagation(),!h.multiple&&(n.keyCode===13||n.keyCode===9))return s.select(o.$activeIndex);n.keyCode===38&&o.$activeIndex>0?o.$activeIndex--:n.keyCode===40&&o.$activeIndex<o.$matches.length-1?o.$activeIndex++:angular.isUndefined(o.$activeIndex)&&(o.$activeIndex=0);o.$digest()}},c=s.show,s.show=function(){c();h.multiple&&s.$element.addClass("select-multiple");f(function(){s.$element.on(e?"touchstart":"mousedown",s.$onMouseDown);if(h.keyboard)t.on("keydown",s.$onKeyDown)},0,!1)},l=s.hide,s.hide=function(){s.$element.off(e?"touchstart":"mousedown",s.$onMouseDown);h.keyboard&&t.off("keydown",s.$onKeyDown);l(!0)},s}var h=angular.element(t.document.body),s=/(ip(a|o)d|iphone|android)/ig.test(t.navigator.userAgent),e="createTouch"in t.document&&s;return o.defaults=n,o}]}).directive("bsSelect",["$window","$parse","$q","$select","$parseOptions",function(n,t,i,r,u){var f=r.defaults;return{restrict:"EAC",require:"ngModel",link:function(n,t,i,e){var s={scope:n,placeholder:f.placeholder},h;angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","placeholder","multiple","allNoneButtons","maxLength","maxLengthHtml","allText","noneText"],function(n){angular.isDefined(i[n])&&(s[n]=i[n])});t[0].nodeName.toLowerCase()==="select"&&(h=t,h.css("display","none"),t=angular.element('<button type="button" class="btn btn-default"><\/button>'),h.after(t));var c=u(i.ngOptions),o=r(t,e,s),l=c.$match[7].replace(/\|.+/,"").trim();n.$watch(l,function(){c.valuesFn(n,e).then(function(n){o.update(n);e.$render()})},!0);n.$watch(i.ngModel,function(){o.$updateActiveIndex();e.$render()},!0);e.$render=function(){var n,i;s.multiple&&angular.isArray(e.$modelValue)?(n=e.$modelValue.map(function(n){return i=o.$getIndex(n),angular.isDefined(i)?o.$scope.$matches[i].label:!1}).filter(angular.isDefined),n=n.length>(s.maxLength||f.maxLength)?n.length+" "+(s.maxLengthHtml||f.maxLengthHtml):n.join(", ")):(i=o.$getIndex(e.$modelValue),n=angular.isDefined(i)?o.$scope.$matches[i].label:!1);t.html((n?n:s.placeholder)+f.caretHtml)};s.multiple&&(e.$isEmpty=function(n){return!n||n.length===0});n.$on("$destroy",function(){o&&o.destroy();s=null;o=null})}}}]);angular.module("mgcrea.ngStrap.tab",[]).provider("$tab",function(){var n=this.defaults={animation:"am-fade",template:"tab/tab.tpl.html",navClass:"nav-tabs",activeClass:"active"},t=this.controller=function(t,i,r){var u=this;u.$options=angular.copy(n);angular.forEach(["animation","navClass","activeClass"],function(n){angular.isDefined(r[n])&&(u.$options[n]=r[n])});t.$navClass=u.$options.navClass;t.$activeClass=u.$options.activeClass;u.$panes=t.$panes=[];u.$activePaneChangeListeners=u.$viewChangeListeners=[];u.$push=function(n){u.$panes.push(n)};u.$remove=function(n){var i=u.$panes.indexOf(n),t=u.$panes.$active;u.$panes.splice(i,1);i<t?t--:i===t&&t===u.$panes.length&&t--;u.$setActive(t)};u.$panes.$active=0;u.$setActive=t.$setActive=function(n){u.$panes.$active=n;u.$activePaneChangeListeners.forEach(function(n){n()})}};this.$get=function(){var i={};return i.defaults=n,i.controller=t,i}}).directive("bsTabs",["$window","$animate","$tab","$parse",function(n,t,i,r){var u=i.defaults;return{require:["?ngModel","bsTabs"],transclude:!0,scope:!0,controller:["$scope","$element","$attrs",i.controller],templateUrl:function(n,t){return t.template||u.template},link:function(n,t,i,u){var e=u[0],f=u[1],o;e&&(console.warn("Usage of ngModel is deprecated, please use bsActivePane instead!"),f.$activePaneChangeListeners.push(function(){e.$setViewValue(f.$panes.$active)}),e.$formatters.push(function(n){return f.$setActive(n*1),n}));i.bsActivePane&&(o=r(i.bsActivePane),f.$activePaneChangeListeners.push(function(){o.assign(n,f.$panes.$active)}),n.$watch(i.bsActivePane,function(n){f.$setActive(n*1)},!0))}}}]).directive("bsPane",["$window","$animate","$sce",function(n,t,i){return{require:["^?ngModel","^bsTabs"],scope:!0,link:function(n,r,u,f){function o(){var i=e.$panes.indexOf(n),u=e.$panes.$active;t[i===u?"addClass":"removeClass"](r,e.$options.activeClass)}var s=f[0],e=f[1];r.addClass("tab-pane");u.$observe("title",function(t){n.title=i.trustAsHtml(t)});e.$options.animation&&r.addClass(e.$options.animation);e.$push(n);n.$on("$destroy",function(){e.$remove(n)});e.$activePaneChangeListeners.push(function(){o()});o()}}}]);angular.module("mgcrea.ngStrap.tooltip",["mgcrea.ngStrap.helpers.dimensions"]).provider("$tooltip",function(){var n=this.defaults={animation:"am-fade",customClass:"",prefixClass:"tooltip",prefixEvent:"tooltip",container:!1,target:!1,placement:"top",template:"tooltip/tooltip.tpl.html",contentTemplate:!1,trigger:"hover focus",keyboard:!1,html:!1,show:!1,title:"",type:"",delay:0,autoClose:!1,bsEnabled:!0};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","$sce","dimensions","$$rAF","$timeout",function(i,r,u,f,e,o,s,h,c,l,a){function nt(i,f){function ct(){nt.$emit(e.prefixEvent+".show",o)}function at(){if(nt.$emit(e.prefixEvent+".hide",o),lt&&e.trigger==="focus")return i[0].blur();ot()}function kt(){var n=e.trigger.split(" ");angular.forEach(n,function(n){if(n==="click")i.on("click",o.toggle);else if(n!=="manual"){i.on(n==="hover"?"mouseenter":"focus",o.enter);i.on(n==="hover"?"mouseleave":"blur",o.leave);st==="button"&&n!=="hover"&&i.on(p?"touchstart":"mousedown",o.$onFocusElementMouseDown)}})}function dt(){for(var n,t=e.trigger.split(" "),r=t.length;r--;)n=t[r],n==="click"?i.off("click",o.toggle):n!=="manual"&&(i.off(n==="hover"?"mouseenter":"focus",o.enter),i.off(n==="hover"?"mouseleave":"blur",o.leave),st==="button"&&n!=="hover"&&i.off(p?"touchstart":"mousedown",o.$onFocusElementMouseDown))}function gt(){if(e.trigger!=="focus")y.on("keyup",o.$onKeyUp);else i.on("keyup",o.$onFocusKeyUp)}function vt(){e.trigger!=="focus"?y.off("keyup",o.$onKeyUp):i.off("keyup",o.$onFocusKeyUp)}function ni(){a(function(){y.on("click",pt);w.on("click",o.hide);et=!0},0,!1)}function yt(){et&&(y.off("click",pt),w.off("click",o.hide),et=!1)}function pt(n){n.stopPropagation()}function wt(n){var r,t,u;return n=n||e.target||i,r=n[0],t=r.getBoundingClientRect(),t.width===null&&(t=angular.extend({},t,{width:t.right-t.left,height:t.bottom-t.top})),u=e.container==="body"?c.offset(r):c.position(r),angular.extend({},t,u)}function ti(n,t,i,r){var u,f=n.split("-");switch(f[0]){case"right":u={top:t.top+t.height/2-r/2,left:t.left+t.width};break;case"bottom":u={top:t.top+t.height,left:t.left+t.width/2-i/2};break;case"left":u={top:t.top+t.height/2-r/2,left:t.left-i};break;default:u={top:t.top-r,left:t.left+t.width/2-i/2}}if(!f[1])return u;if(f[0]==="top"||f[0]==="bottom")switch(f[1]){case"left":u.left=t.left;break;case"right":u.left=t.left+t.width-i}else if(f[0]==="left"||f[0]==="right")switch(f[1]){case"top":u.top=t.top-r;break;case"bottom":u.top=t.top+t.height}return u}function ii(n,t){y.css({top:n+"px",left:t+"px"})}function ot(){clearTimeout(rt);o.$isShown&&y!==null&&(e.autoClose&&yt(),e.keyboard&&vt());ut&&(ut.$destroy(),ut=null);y&&(y.remove(),y=o.$element=null)}var o={},st=i[0].nodeName.toLowerCase(),e=o.$options=angular.extend({},n,f),nt,it,rt,ft,ht,y,bt,tt,ut,lt,et;return o.$promise=k(e.template),nt=o.$scope=e.scope&&e.scope.$new()||r.$new(),e.delay&&angular.isString(e.delay)&&(it=e.delay.split(",").map(parseFloat),e.delay=it.length>1?{show:it[0],hide:it[1]}:it[0]),e.title&&(nt.title=h.trustAsHtml(e.title)),nt.$setEnabled=function(n){nt.$$postDigest(function(){o.setEnabled(n)})},nt.$hide=function(){nt.$$postDigest(function(){o.hide()})},nt.$show=function(){nt.$$postDigest(function(){o.show()})},nt.$toggle=function(){nt.$$postDigest(function(){o.toggle()})},o.$isShown=nt.$isShown=!1,e.contentTemplate&&(o.$promise=o.$promise.then(function(n){var t=angular.element(n);return k(e.contentTemplate).then(function(n){var i=v('[ng-bind="content"]',t[0]);return i.length||(i=v('[ng-bind="title"]',t[0])),i.removeAttr("ng-bind").html(n),t[0].outerHTML})})),o.$promise.then(function(n){angular.isObject(n)&&(n=n.data);e.html&&(n=n.replace(g,'ng-bind-html="'));n=d.apply(n);bt=n;ht=u(n);o.init()}),o.init=function(){e.delay&&angular.isNumber(e.delay)&&(e.delay={show:e.delay,hide:e.delay});e.container==="self"?tt=i:angular.isElement(e.container)?tt=e.container:e.container&&(tt=v(e.container));kt();e.target&&(e.target=angular.isElement(e.target)?e.target:v(e.target));e.show&&nt.$$postDigest(function(){e.trigger==="focus"?i[0].focus():o.show()})},o.destroy=function(){dt();ot();nt.$destroy()},o.enter=function(){if(clearTimeout(rt),ft="in",!e.delay||!e.delay.show)return o.show();rt=setTimeout(function(){ft==="in"&&o.show()},e.delay.show)},o.show=function(){var t,r,n;e.bsEnabled&&!o.$isShown&&(nt.$emit(e.prefixEvent+".show.before",o),e.container?(t=tt,r=tt[0].lastChild?angular.element(tt[0].lastChild):null):(t=null,r=i),y&&ot(),ut=o.$scope.$new(),y=o.$element=ht(ut,function(){}),y.css({top:"-9999px",left:"-9999px",display:"block",visibility:"hidden"}),e.animation&&y.addClass(e.animation),e.type&&y.addClass(e.prefixClass+"-"+e.type),e.customClass&&y.addClass(e.customClass),n=s.enter(y,t,r,ct),n&&n.then&&n.then(ct),o.$isShown=nt.$isShown=!0,b(nt),l(function(){o.$applyPlacement();y&&y.css({visibility:"visible"})}),e.keyboard&&(e.trigger!=="focus"&&o.focus(),gt()),e.autoClose&&ni())},o.leave=function(){if(clearTimeout(rt),ft="out",!e.delay||!e.delay.hide)return o.hide();rt=setTimeout(function(){ft==="out"&&o.hide()},e.delay.hide)},o.hide=function(n){if(o.$isShown){nt.$emit(e.prefixEvent+".hide.before",o);lt=n;var t=s.leave(y,at);t&&t.then&&t.then(at);o.$isShown=nt.$isShown=!1;b(nt);e.keyboard&&y!==null&&vt();e.autoClose&&y!==null&&yt()}},o.toggle=function(){o.$isShown?o.leave():o.enter()},o.focus=function(){y[0].focus()},o.setEnabled=function(n){e.bsEnabled=n},o.$applyPlacement=function(){var c;if(y){var u=e.placement,l=/\s?auto?\s?/i,a=l.test(u);a&&(u=u.replace(l,"")||n.placement);y.addClass(e.placement);var f=wt(),s=y.prop("offsetWidth"),h=y.prop("offsetHeight");if(a){var r=u,v=e.container?angular.element(t.querySelector(e.container)):i.parent(),o=wt(v);r.indexOf("bottom")>=0&&f.bottom+h>o.bottom?u=r.replace("bottom","top"):r.indexOf("top")>=0&&f.top-h<o.top&&(u=r.replace("top","bottom"));(r==="right"||r==="bottom-left"||r==="top-left")&&f.right+s>o.width?u=r==="right"?"left":u.replace("left","right"):(r==="left"||r==="bottom-right"||r==="top-right")&&f.left-s<o.left&&(u=r==="left"?"right":u.replace("right","left"));y.removeClass(r).addClass(u)}c=ti(u,f,s,h);ii(c.top,c.left)}},o.$onKeyUp=function(n){n.which===27&&o.$isShown&&(o.hide(),n.stopPropagation())},o.$onFocusKeyUp=function(n){n.which===27&&(i[0].blur(),n.stopPropagation())},o.$onFocusElementMouseDown=function(n){n.preventDefault();n.stopPropagation();o.$isShown?i[0].blur():i[0].focus()},et=!1,o}function b(n){n.$$phase||n.$root&&n.$root.$$phase||n.$digest()}function v(n,i){return angular.element((i||t).querySelectorAll(n))}function k(n){return y[n]?y[n]:y[n]=f.when(e.get(n)||o.get(n)).then(function(t){return angular.isObject(t)?(e.put(n,t.data),t.data):t})}var d=String.prototype.trim,p="createTouch"in i.document,g=/ng-bind="/ig,w=angular.element(i.document),y={};return nt}]}).directive("bsTooltip",["$window","$location","$sce","$tooltip","$$rAF",function(n,t,i,r,u){return{restrict:"EAC",scope:!0,link:function(n,t,f){var o={scope:n},e;angular.forEach(["template","contentTemplate","placement","container","target","delay","trigger","keyboard","html","animation","backdropAnimation","type","customClass"],function(n){angular.isDefined(f[n])&&(o[n]=f[n])});n.hasOwnProperty("title")||(n.title="");f.$observe("title",function(t){if(angular.isDefined(t)||!n.hasOwnProperty("title")){var r=n.title;n.title=i.trustAsHtml(t);angular.isDefined(r)&&u(function(){e&&e.$applyPlacement()})}});f.bsTooltip&&n.$watch(f.bsTooltip,function(t,i){angular.isObject(t)?angular.extend(n,t):n.title=t;angular.isDefined(i)&&u(function(){e&&e.$applyPlacement()})},!0);f.bsShow&&n.$watch(f.bsShow,function(n){e&&angular.isDefined(n)&&(angular.isString(n)&&(n=!!n.match(/true|,?(tooltip),?/i)),n===!0?e.show():e.hide())});f.bsEnabled&&n.$watch(f.bsEnabled,function(n){e&&angular.isDefined(n)&&(angular.isString(n)&&(n=!!n.match(/true|1|,?(tooltip),?/i)),n===!1?e.setEnabled(!1):e.setEnabled(!0))});e=r(t,o);n.$on("$destroy",function(){e&&e.destroy();o=null;e=null})}}}]);angular.module("mgcrea.ngStrap.typeahead",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$typeahead",function(){var n=this.defaults={animation:"am-fade",prefixClass:"typeahead",prefixEvent:"$typeahead",placement:"bottom-left",template:"typeahead/typeahead.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,minLength:1,filter:"filter",limit:6,comparator:""};this.$get=["$window","$rootScope","$tooltip","$timeout",function(t,i,r,u){function f(t,i,f){var o={},s=angular.extend({},n,f),h,e,c,l;return o=r(t,s),h=f.scope,e=o.$scope,e.$resetMatches=function(){e.$matches=[];e.$activeIndex=0},e.$resetMatches(),e.$activate=function(n){e.$$postDigest(function(){o.activate(n)})},e.$select=function(n){e.$$postDigest(function(){o.select(n)})},e.$isVisible=function(){return o.$isVisible()},o.update=function(n){e.$matches=n;e.$activeIndex>=n.length&&(e.$activeIndex=0)},o.activate=function(n){e.$activeIndex=n},o.select=function(n){var t=e.$matches[n].value;i.$setViewValue(t);i.$render();e.$resetMatches();h&&h.$digest();e.$emit(s.prefixEvent+".select",t,n)},o.$isVisible=function(){return!s.minLength||!i?!!e.$matches.length:e.$matches.length&&angular.isString(i.$viewValue)&&i.$viewValue.length>=s.minLength},o.$getIndex=function(n){var i=e.$matches.length,t=i;if(i){for(t=i;t--;)if(e.$matches[t].value===n)break;if(!(t<0))return t}},o.$onMouseDown=function(n){n.preventDefault();n.stopPropagation()},o.$onKeyDown=function(n){/(38|40|13)/.test(n.keyCode)&&(o.$isVisible()&&(n.preventDefault(),n.stopPropagation()),n.keyCode===13&&e.$matches.length?o.select(e.$activeIndex):n.keyCode===38&&e.$activeIndex>0?e.$activeIndex--:n.keyCode===40&&e.$activeIndex<e.$matches.length-1?e.$activeIndex++:angular.isUndefined(e.$activeIndex)&&(e.$activeIndex=0),e.$digest())},c=o.show,o.show=function(){c();u(function(){o.$element.on("mousedown",o.$onMouseDown);if(s.keyboard)t.on("keydown",o.$onKeyDown)},0,!1)},l=o.hide,o.hide=function(){o.$element.off("mousedown",o.$onMouseDown);s.keyboard&&t.off("keydown",o.$onKeyDown);l()},o}var e=angular.element(t.document.body);return f.defaults=n,f}]}).directive("bsTypeahead",["$window","$parse","$q","$typeahead","$parseOptions",function(n,t,r,u,f){var e=u.defaults;return{restrict:"EAC",require:"ngModel",link:function(n,t,r,o){var h={scope:n},c,s,p;angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","filter","limit","minLength","watchOptions","selectMode","comparator"],function(n){angular.isDefined(r[n])&&(h[n]=r[n])});var v=h.filter||e.filter,l=h.limit||e.limit,y=h.comparator||e.comparator,a=r.ngOptions;v&&(a+=" | "+v+":$viewValue");y&&(a+=":"+y);l&&(a+=" | limitTo:"+l);c=f(a);s=u(t,o,h);h.watchOptions&&(p=c.$match[7].replace(/\|.+/,"").replace(/\(.*\)/g,"").trim(),n.$watch(p,function(){c.valuesFn(n,o).then(function(n){s.update(n);o.$render()})},!0));n.$watch(r.ngModel,function(t){n.$modelValue=t;c.valuesFn(n,o).then(function(n){if(h.selectMode&&!n.length&&t.length>0){o.$setViewValue(o.$viewValue.substring(0,o.$viewValue.length-1));return}n.length>l&&(n=n.slice(0,l));var i=s.$isVisible();(i&&s.update(n),n.length!==1||n[0].value!==t)&&(i||s.update(n),o.$render())})});o.$formatters.push(function(n){var t=c.displayValue(n);return t===i?"":t});o.$render=function(){if(o.$isEmpty(o.$viewValue))return t.val("");var i=s.$getIndex(o.$modelValue),n=angular.isDefined(i)?s.$scope.$matches[i].label:o.$viewValue;n=angular.isObject(n)?c.displayValue(n):n;t.val(n?n.toString().replace(/<(?:.|\n)*?>/gm,"").trim():"")};n.$on("$destroy",function(){s&&s.destroy();h=null;s=null})}}}]);angular.module("mgcrea.ngStrap.timepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.helpers.dateFormatter","mgcrea.ngStrap.tooltip"]).provider("$timepicker",function(){var n=this.defaults={animation:"am-fade",prefixClass:"timepicker",placement:"bottom-left",template:"timepicker/timepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!0,timeType:"date",timeFormat:"shortTime",modelTimeFormat:null,autoclose:!1,minTime:-Infinity,maxTime:+Infinity,length:5,hourStep:1,minuteStep:5,iconUp:"glyphicon glyphicon-chevron-up",iconDown:"glyphicon glyphicon-chevron-down",arrowBehavior:"pager"};this.$get=["$window","$document","$rootScope","$sce","$dateFormatter","$tooltip","$timeout",function(t,i,r,u,f,e,o){function c(t,i,r){function ot(n,i){if(t[0].createTextRange){var r=t[0].createTextRange();r.collapse(!0);r.moveStart("character",n);r.moveEnd("character",i);r.select()}else t[0].setSelectionRange?t[0].setSelectionRange(n,i):angular.isUndefined(t[0].selectionStart)&&(t[0].selectionStart=n,t[0].selectionEnd=i)}function nt(){t[0].focus()}var u=e(t,angular.extend({},n,r)),ft=r.scope,c=u.$options,l=u.$scope,d=c.lang,y=function(n,t){return f.formatDate(n,t,d)},v=0,p=i.$dateValue||new Date,a={hour:p.getHours(),meridian:p.getHours()<12,minute:p.getMinutes(),second:p.getSeconds(),millisecond:p.getMilliseconds()},w=f.getDatetimeFormat(c.timeFormat,d),b=f.hoursFormat(w),et=f.timeSeparator(w),k=f.minutesFormat(w),g=f.showAM(w),tt,it,rt,ut;return l.$iconUp=c.iconUp,l.$iconDown=c.iconDown,l.$select=function(n,t){u.select(n,t)},l.$moveIndex=function(n,t){u.$moveIndex(n,t)},l.$switchMeridian=function(n){u.switchMeridian(n)},u.update=function(n){angular.isDate(n)&&!isNaN(n.getTime())?(u.$date=n,angular.extend(a,{hour:n.getHours(),minute:n.getMinutes(),second:n.getSeconds(),millisecond:n.getMilliseconds()}),u.$build()):u.$isBuilt||u.$build()},u.select=function(n,t,r){(!i.$dateValue||isNaN(i.$dateValue.getTime()))&&(i.$dateValue=new Date(1970,0,1));angular.isDate(n)||(n=new Date(n));t===0?i.$dateValue.setHours(n.getHours()):t===1&&i.$dateValue.setMinutes(n.getMinutes());i.$setViewValue(angular.copy(i.$dateValue));i.$render();c.autoclose&&!r&&o(function(){u.hide(!0)})},u.switchMeridian=function(n){if(i.$dateValue&&!isNaN(i.$dateValue.getTime())){var t=(n||i.$dateValue).getHours();i.$dateValue.setHours(t<12?t+12:t-12);i.$setViewValue(angular.copy(i.$dateValue));i.$render()}},u.$build=function(){for(var r=l.midIndex=parseInt(c.length/2,10),f=[],t,e,i,o,n=0;n<c.length;n++)t=new Date(1970,0,1,a.hour-(r-n)*c.hourStep),f.push({date:t,label:y(t,b),selected:u.$date&&u.$isSelected(t,0),disabled:u.$isDisabled(t,0)});for(e=[],n=0;n<c.length;n++)i=new Date(1970,0,1,0,a.minute-(r-n)*c.minuteStep),e.push({date:i,label:y(i,k),selected:u.$date&&u.$isSelected(i,1),disabled:u.$isDisabled(i,1)});for(o=[],n=0;n<c.length;n++)o.push([f[n],e[n]]);l.rows=o;l.showAM=g;l.isAM=(u.$date||f[r].date).getHours()<12;l.timeSeparator=et;u.$isBuilt=!0},u.$isSelected=function(n,t){if(u.$date){if(t===0)return n.getHours()===u.$date.getHours();if(t===1)return n.getMinutes()===u.$date.getMinutes()}else return!1},u.$isDisabled=function(n,t){var i;return t===0?i=n.getTime()+a.minute*6e4:t===1&&(i=n.getTime()+a.hour*36e5),i<c.minTime*1||i>c.maxTime*1},l.$arrowAction=function(n,t){c.arrowBehavior==="picker"?u.$setTimeByStep(n,t):u.$moveIndex(n,t)},u.$setTimeByStep=function(n,t){var i=new Date(u.$date),r=i.getHours(),e=y(i,b).length,f=i.getMinutes(),o=y(i,k).length;t===0?i.setHours(r-parseInt(c.hourStep,10)*n):i.setMinutes(f-parseInt(c.minuteStep,10)*n);u.select(i,t,!0)},u.$moveIndex=function(n,t){var i;t===0?(i=new Date(1970,0,1,a.hour+n*c.length,a.minute),angular.extend(a,{hour:i.getHours()})):t===1&&(i=new Date(1970,0,1,a.hour,a.minute+n*c.length*c.minuteStep),angular.extend(a,{minute:i.getMinutes()}));u.$build()},u.$onMouseDown=function(n){if(n.target.nodeName.toLowerCase()!=="input"&&n.preventDefault(),n.stopPropagation(),s){var t=angular.element(n.target);t[0].nodeName.toLowerCase()!=="button"&&(t=t.parent());t.triggerHandler("click")}},u.$onKeyDown=function(n){var r;if(/(38|37|39|40|13)/.test(n.keyCode)&&!n.shiftKey&&!n.altKey){if(n.preventDefault(),n.stopPropagation(),n.keyCode===13)return u.hide(!0);var t=new Date(u.$date),e=t.getHours(),i=y(t,b).length,o=t.getMinutes(),f=y(t,k).length,s=/(37|39)/.test(n.keyCode),h=2+g*1;s&&(n.keyCode===37?v=v<1?h-1:v-1:n.keyCode===39&&(v=v<h-1?v+1:0));r=[0,i];v===0?(n.keyCode===38?t.setHours(e-parseInt(c.hourStep,10)):n.keyCode===40&&t.setHours(e+parseInt(c.hourStep,10)),i=y(t,b).length,r=[0,i]):v===1?(n.keyCode===38?t.setMinutes(o-parseInt(c.minuteStep,10)):n.keyCode===40&&t.setMinutes(o+parseInt(c.minuteStep,10)),f=y(t,k).length,r=[i+1,i+1+f]):v===2&&(s||u.switchMeridian(),r=[i+1+f+1,i+1+f+3]);u.select(t,v,!0);ot(r[0],r[1]);ft.$digest()}},tt=u.init,u.init=function(){if(h&&c.useNative){t.prop("type","time");t.css("-webkit-appearance","textfield");return}if(s){t.prop("type","text");t.attr("readonly","true");t.on("click",nt)}tt()},it=u.destroy,u.destroy=function(){h&&c.useNative&&t.off("click",nt);it()},rt=u.show,u.show=function(){rt();o(function(){u.$element.on(s?"touchstart":"mousedown",u.$onMouseDown);if(c.keyboard)t.on("keydown",u.$onKeyDown)},0,!1)},ut=u.hide,u.hide=function(n){u.$isShown&&(u.$element.off(s?"touchstart":"mousedown",u.$onMouseDown),c.keyboard&&t.off("keydown",u.$onKeyDown),ut(n))},u}var l=angular.element(t.document.body),h=/(ip(a|o)d|iphone|android)/ig.test(t.navigator.userAgent),s="createTouch"in t.document&&h;return n.lang||(n.lang=f.getDefaultLocale()),c.defaults=n,c}]}).directive("bsTimepicker",["$window","$parse","$q","$dateFormatter","$dateParser","$timepicker",function(n,t,i,r,u,f){var e=f.defaults,o=/(ip(a|o)d|iphone|android)/ig.test(n.navigator.userAgent),s=n.requestAnimationFrame||n.setTimeout;return{restrict:"EAC",require:"ngModel",link:function(n,t,i,s){function y(n){if(angular.isDate(n)){var t=isNaN(h.minTime)||new Date(n.getTime()).setFullYear(1970,0,1)>=h.minTime,i=isNaN(h.maxTime)||new Date(n.getTime()).setFullYear(1970,0,1)<=h.maxTime,r=t&&i;(s.$setValidity("date",r),s.$setValidity("min",t),s.$setValidity("max",i),r)&&(s.$dateValue=n)}}function p(){return!s.$dateValue||isNaN(s.$dateValue.getTime())?"":v(s.$dateValue,h.timeFormat)}var h={scope:n,controller:s},c;angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","autoclose","timeType","timeFormat","modelTimeFormat","useNative","hourStep","minuteStep","length","arrowBehavior","iconUp","iconDown"],function(n){angular.isDefined(i[n])&&(h[n]=i[n])});i.bsShow&&n.$watch(i.bsShow,function(n){c&&angular.isDefined(n)&&(angular.isString(n)&&(n=!!n.match(/true|,?(timepicker),?/i)),n===!0?c.show():c.hide())});o&&(h.useNative||e.useNative)&&(h.timeFormat="HH:mm");c=f(t,s,h);h=c.$options;var a=h.lang,v=function(n,t){return r.formatDate(n,t,a)},l=u({format:h.timeFormat,lang:a});angular.forEach(["minTime","maxTime"],function(n){angular.isDefined(i[n])&&i.$observe(n,function(t){c.$options[n]=l.getTimeForAttribute(n,t);isNaN(c.$options[n])||c.$build();y(s.$dateValue)})});n.$watch(i.ngModel,function(){c.update(s.$dateValue)},!0);s.$parsers.unshift(function(n){if(!n)return s.$setValidity("date",!0),null;var t=angular.isDate(n)?n:l.parse(n,s.$dateValue);if(!t||isNaN(t.getTime())){s.$setValidity("date",!1);return}return y(t),h.timeType==="string"?v(t,h.modelTimeFormat||h.timeFormat):h.timeType==="number"?s.$dateValue.getTime():h.timeType==="unix"?s.$dateValue.getTime()/1e3:h.timeType==="iso"?s.$dateValue.toISOString():new Date(s.$dateValue)});s.$formatters.push(function(n){var t;return t=angular.isUndefined(n)||n===null?NaN:angular.isDate(n)?n:h.timeType==="string"?l.parse(n,null,h.modelTimeFormat):h.timeType==="unix"?new Date(n*1e3):new Date(n),s.$dateValue=t,p()});s.$render=function(){t.val(p())};n.$on("$destroy",function(){c&&c.destroy();h=null;c=null})}}}])})(window,document);
/**
 * angular-strap
 * @version v2.1.5 - 2014-12-23
 * @link http://mgcrea.github.io/angular-strap
 * @author Olivier Louvignes (olivier@mg-crea.com)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
(function(){"use strict";angular.module("mgcrea.ngStrap.alert").run(["$templateCache",function(n){n.put("alert/alert.tpl.html",'<div class="alert" ng-class="[type ? \'alert-\' + type : null]"><button type="button" class="close" ng-if="dismissable" ng-click="$hide()">&times;<\/button> <strong ng-bind="title"><\/strong>&nbsp;<span ng-bind-html="content"><\/span><\/div>')}]);angular.module("mgcrea.ngStrap.aside").run(["$templateCache",function(n){n.put("aside/aside.tpl.html",'<div class="aside" tabindex="-1" role="dialog"><div class="aside-dialog"><div class="aside-content"><div class="aside-header" ng-show="title"><button type="button" class="close" ng-click="$hide()">&times;<\/button><h4 class="aside-title" ng-bind="title"><\/h4><\/div><div class="aside-body" ng-bind="content"><\/div><div class="aside-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close<\/button><\/div><\/div><\/div><\/div>')}]);angular.module("mgcrea.ngStrap.datepicker").run(["$templateCache",function(n){n.put("datepicker/datepicker.tpl.html",'<div class="dropdown-menu datepicker" ng-class="\'datepicker-mode-\' + $mode" style="max-width: 320px"><table style="table-layout: fixed; height: 100%; width: 100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$selectPane(-1)"><i class="{{$iconLeft}}"><\/i><\/button><\/th><th colspan="{{ rows[0].length - 2 }}"><button tabindex="-1" type="button" class="btn btn-default btn-block text-strong" ng-click="$toggleMode()"><strong style="text-transform: capitalize" ng-bind="title"><\/strong><\/button><\/th><th><button tabindex="-1" type="button" class="btn btn-default pull-right" ng-click="$selectPane(+1)"><i class="{{$iconRight}}"><\/i><\/button><\/th><\/tr><tr ng-show="showLabels" ng-bind-html="labels"><\/tr><\/thead><tbody><tr ng-repeat="(i, row) in rows" height="{{ 100 / rows.length }}%"><td class="text-center" ng-repeat="(j, el) in row"><button tabindex="-1" type="button" class="btn btn-default" style="width: 100%" ng-class="{\'btn-primary\': el.selected, \'btn-info btn-today\': el.isToday && !el.selected}" ng-click="$select(el.date)" ng-disabled="el.disabled"><span ng-class="{\'text-muted\': el.muted}" ng-bind="el.label"><\/span><\/button><\/td><\/tr><\/tbody><\/table><\/div>')}]);angular.module("mgcrea.ngStrap.dropdown").run(["$templateCache",function(n){n.put("dropdown/dropdown.tpl.html",'<ul tabindex="-1" class="dropdown-menu" role="menu"><li role="presentation" ng-class="{divider: item.divider}" ng-repeat="item in content"><a role="menuitem" tabindex="-1" ng-href="{{item.href}}" ng-if="!item.divider && item.href" target="{{item.target || \'\'}}" ng-bind="item.text"><\/a> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-if="!item.divider && item.click" ng-click="$eval(item.click);$hide()" ng-bind="item.text"><\/a><\/li><\/ul>')}]);angular.module("mgcrea.ngStrap.modal").run(["$templateCache",function(n){n.put("modal/modal.tpl.html",'<div class="modal" tabindex="-1" role="dialog"><div class="modal-dialog"><div class="modal-content"><div class="modal-header" ng-show="title"><button type="button" class="close" ng-click="$hide()">&times;<\/button><h4 class="modal-title" ng-bind="title"><\/h4><\/div><div class="modal-body" ng-bind="content"><\/div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close<\/button><\/div><\/div><\/div><\/div>')}]);angular.module("mgcrea.ngStrap.popover").run(["$templateCache",function(n){n.put("popover/popover.tpl.html",'<div class="popover"><div class="arrow"><\/div><h3 class="popover-title" ng-bind="title" ng-show="title"><\/h3><div class="popover-content" ng-bind="content"><\/div><\/div>')}]);angular.module("mgcrea.ngStrap.select").run(["$templateCache",function(n){n.put("select/select.tpl.html",'<ul tabindex="-1" class="select dropdown-menu" ng-show="$isVisible()" role="select"><li ng-if="$showAllNoneButtons"><div class="btn-group" style="margin-bottom: 5px; margin-left: 5px"><button class="btn btn-default btn-xs" ng-click="$selectAll()">{{$allText}}<\/button> <button class="btn btn-default btn-xs" ng-click="$selectNone()">{{$noneText}}<\/button><\/div><\/li><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $isActive($index)}"><a style="cursor: default" role="menuitem" tabindex="-1" ng-click="$select($index, $event)"><i class="{{$iconCheckmark}} pull-right" ng-if="$isMultiple && $isActive($index)"><\/i> <span ng-bind="match.label"><\/span><\/a><\/li><\/ul>')}]);angular.module("mgcrea.ngStrap.tab").run(["$templateCache",function(n){n.put("tab/tab.tpl.html",'<ul class="nav" ng-class="$navClass" role="tablist"><li ng-repeat="$pane in $panes track by $index" ng-class="$index == $panes.$active ? $activeClass : \'\'"><a role="tab" data-toggle="tab" ng-click="$setActive($index)" data-index="{{ $index }}" ng-bind-html="$pane.title"><\/a><\/li><\/ul><div ng-transclude class="tab-content"><\/div>')}]);angular.module("mgcrea.ngStrap.tooltip").run(["$templateCache",function(n){n.put("tooltip/tooltip.tpl.html",'<div class="tooltip in" ng-show="title"><div class="tooltip-arrow"><\/div><div class="tooltip-inner" ng-bind="title"><\/div><\/div>')}]);angular.module("mgcrea.ngStrap.typeahead").run(["$templateCache",function(n){n.put("typeahead/typeahead.tpl.html",'<ul tabindex="-1" class="typeahead dropdown-menu" ng-show="$isVisible()" role="select"><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $index == $activeIndex}"><a role="menuitem" tabindex="-1" ng-click="$select($index, $event)" ng-bind="match.label"><\/a><\/li><\/ul>')}]);angular.module("mgcrea.ngStrap.timepicker").run(["$templateCache",function(n){n.put("timepicker/timepicker.tpl.html",'<div class="dropdown-menu timepicker" style="min-width: 0px;width: auto"><table height="100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 0)"><i class="{{ $iconUp }}"><\/i><\/button><\/th><th>&nbsp;<\/th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 1)"><i class="{{ $iconUp }}"><\/i><\/button><\/th><\/tr><\/thead><tbody><tr ng-repeat="(i, row) in rows"><td class="text-center"><button tabindex="-1" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[0].selected}" ng-click="$select(row[0].date, 0)" ng-disabled="row[0].disabled"><span ng-class="{\'text-muted\': row[0].muted}" ng-bind="row[0].label"><\/span><\/button><\/td><td><span ng-bind="i == midIndex ? timeSeparator : \' \'"><\/span><\/td><td class="text-center"><button tabindex="-1" ng-if="row[1].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[1].selected}" ng-click="$select(row[1].date, 1)" ng-disabled="row[1].disabled"><span ng-class="{\'text-muted\': row[1].muted}" ng-bind="row[1].label"><\/span><\/button><\/td><td ng-if="showAM">&nbsp;<\/td><td ng-if="showAM"><button tabindex="-1" ng-show="i == midIndex - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !!isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">AM<\/button> <button tabindex="-1" ng-show="i == midIndex + 1 - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">PM<\/button><\/td><\/tr><\/tbody><tfoot><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 0)"><i class="{{ $iconDown }}"><\/i><\/button><\/th><th>&nbsp;<\/th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 1)"><i class="{{ $iconDown }}"><\/i><\/button><\/th><\/tr><\/tfoot><\/table><\/div>')}])})(window,document);
/**
 * angular-ui-utils - Swiss-Army-Knife of AngularJS tools (with no external dependencies!)
 * @version v0.2.1 - 2015-01-02
 * @link http://angular-ui.github.com
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
angular.module("ui.alias",[]).config(["$compileProvider","uiAliasConfig",function(n,t){"use strict";t=t||{};angular.forEach(t,function(t,i){angular.isString(t)&&(t={replace:!0,template:t});n.directive(i,function(){return t})})}]);angular.module("ui.event",[]).directive("uiEvent",["$parse",function(n){"use strict";return function(t,i,r){var u=t.$eval(r.uiEvent);angular.forEach(u,function(r,u){var f=n(r);i.bind(u,function(n){var i=Array.prototype.slice.call(arguments);i=i.splice(1);f(t,{$event:n,$params:i});t.$$phase||t.$apply()})})}}]);angular.module("ui.format",[]).filter("format",function(){"use strict";return function(n,t){var i=n,r,u;return angular.isString(i)&&t!==undefined&&(angular.isArray(t)||angular.isObject(t)||(t=[t]),angular.isArray(t)?(r=t.length,u=function(n,i){return i=parseInt(i,10),i>=0&&i<r?t[i]:n},i=i.replace(/\$([0-9]+)/g,u)):angular.forEach(t,function(n,t){i=i.split(":"+t).join(n)})),i}});angular.module("ui.highlight",[]).filter("highlight",function(){"use strict";return function(n,t,i){return n&&(t||angular.isNumber(t))?(n=n.toString(),t=t.toString(),i?n.split(t).join('<span class="ui-match">'+t+"<\/span>"):n.replace(new RegExp(t,"gi"),'<span class="ui-match">$&<\/span>')):n}});angular.module("ui.include",[]).directive("uiInclude",["$http","$templateCache","$anchorScroll","$compile",function(n,t,i,r){"use strict";return{restrict:"ECA",terminal:!0,compile:function(u,f){var o=f.uiInclude||f.src,s=f.fragment||"",h=f.onload||"",e=f.autoscroll;return function(u,f){function v(){var v=++l,y=u.$eval(o),p=u.$eval(s);y?n.get(y,{cache:t}).success(function(n){if(v===l){c&&c.$destroy();c=u.$new();var t;t=p?angular.element("<div/>").html(n).find(p):angular.element("<div/>").html(n).contents();f.html(t);r(t)(c);angular.isDefined(e)&&(!e||u.$eval(e))&&i();c.$emit("$includeContentLoaded");u.$eval(h)}}).error(function(){v===l&&a()}):a()}var l=0,c,a=function(){c&&(c.$destroy(),c=null);f.html("")};u.$watch(s,v);u.$watch(o,v)}}}}]);angular.module("ui.indeterminate",[]).directive("uiIndeterminate",[function(){"use strict";return{compile:function(n,t){return!t.type||t.type.toLowerCase()!=="checkbox"?angular.noop:function(n,t,i){n.$watch(i.uiIndeterminate,function(n){t[0].indeterminate=!!n})}}}}]);angular.module("ui.inflector",[]).filter("inflector",function(){"use strict";function n(n){return n=n.replace(/([A-Z])|([\-|\_])/g,function(n,t){return" "+(t||"")}),n.replace(/\s\s+/g," ").trim().toLowerCase().split(" ")}function t(n){var t=[];return angular.forEach(n,function(n){t.push(n.charAt(0).toUpperCase()+n.substr(1))}),t}var i={humanize:function(i){return t(n(i)).join(" ")},underscore:function(t){return n(t).join("_")},variable:function(i){return i=n(i),i[0]+t(i.slice(1)).join("")}};return function(n,t){return t!==!1&&angular.isString(n)?(t=t||"humanize",i[t](n)):n}});angular.module("ui.jq",[]).value("uiJqConfig",{}).directive("uiJq",["uiJqConfig","$timeout",function(n,t){"use strict";return{restrict:"A",compile:function(i,r){if(!angular.isFunction(i[r.uiJq]))throw new Error('ui-jq: The "'+r.uiJq+'" function does not exist');var u=n&&n[r.uiJq];return function(n,i,r){function e(){t(function(){i[r.uiJq].apply(i,f)},0,!1)}var f=[];r.uiOptions?(f=n.$eval("["+r.uiOptions+"]"),angular.isObject(u)&&angular.isObject(f[0])&&(f[0]=angular.extend({},u,f[0]))):u&&(f=[u]);r.ngModel&&i.is("select,input,textarea")&&i.bind("change",function(){i.trigger("input")});r.uiRefresh&&n.$watch(r.uiRefresh,function(){e()});e()}}}}]);angular.module("ui.keypress",[]).factory("keypressHelper",["$parse",function(n){"use strict";var t={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},i=function(n){return n.charAt(0).toUpperCase()+n.slice(1)};return function(r,u,f,e){var o,s=[];o=u.$eval(e["ui"+i(r)]);angular.forEach(o,function(t,i){var r,u;u=n(t);angular.forEach(i.split(" "),function(n){r={expression:u,keys:{}};angular.forEach(n.split("-"),function(n){r.keys[n]=!0});s.push(r)})});f.bind(r,function(n){var e=!!(n.metaKey&&!n.ctrlKey),o=!!n.altKey,h=!!n.ctrlKey,f=!!n.shiftKey,i=n.keyCode;r==="keypress"&&!f&&i>=97&&i<=122&&(i=i-32);angular.forEach(s,function(r){var s=r.keys[t[i]]||r.keys[i.toString()],c=!!r.keys.meta,l=!!r.keys.alt,a=!!r.keys.ctrl,v=!!r.keys.shift;s&&c===e&&l===o&&a===h&&v===f&&u.$apply(function(){r.expression(u,{$event:n})})})})}}]);angular.module("ui.keypress").directive("uiKeydown",["keypressHelper",function(n){"use strict";return{link:function(t,i,r){n("keydown",t,i,r)}}}]);angular.module("ui.keypress").directive("uiKeypress",["keypressHelper",function(n){"use strict";return{link:function(t,i,r){n("keypress",t,i,r)}}}]);angular.module("ui.keypress").directive("uiKeyup",["keypressHelper",function(n){"use strict";return{link:function(t,i,r){n("keyup",t,i,r)}}}]);angular.module("ui.mask",[]).value("uiMaskConfig",{maskDefinitions:{"9":/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},clearOnBlur:!0}).directive("uiMask",["uiMaskConfig","$parse",function(n,t){"use strict";return{priority:100,require:"ngModel",restrict:"A",compile:function(){var i=n;return function(n,r,u,f){function vt(n){return angular.isDefined(n)?(ti(n),!l)?lt():(bt(),kt(),!0):lt()}function yt(n){angular.isDefined(n)&&(c=n,l&&a())}function pt(n){return l?(e=p(n||""),s=ut(e),f.$setValidity("mask",s),s&&e.length?w(e):undefined):n}function wt(n){return l?(e=p(n||""),s=ut(e),f.$viewValue=e.length?w(e):"",f.$setValidity("mask",s),e===""&&u.required&&f.$setValidity("required",!f.$error.required),s?e:undefined):n}function lt(){return l=!1,dt(),angular.isDefined(ht)?r.attr("placeholder",ht):r.removeAttr("placeholder"),angular.isDefined(ct)?r.attr("maxlength",ct):r.removeAttr("maxlength"),r.val(f.$modelValue),f.$viewValue=f.$modelValue,!1}function bt(){e=tt=p(f.$modelValue||"");g=nt=w(e);s=ut(e);var n=s&&e.length?g:"";u.maxlength&&r.attr("maxlength",o[o.length-1]*2);r.attr("placeholder",c);r.val(n);f.$viewValue=n}function kt(){v||(r.bind("blur",at),r.bind("mousedown mouseup",b),r.bind("input keyup click focus",a),v=!0)}function dt(){v&&(r.unbind("blur",at),r.unbind("mousedown",b),r.unbind("mouseup",b),r.unbind("input",a),r.unbind("keyup",a),r.unbind("click",a),r.unbind("focus",a),v=!1)}function ut(n){return n.length?n.length>=d:!0}function p(n){var i="",t=k.slice();return n=n.toString(),angular.forEach(st,function(t){n=n.replace(t,"")}),angular.forEach(n.split(""),function(n){t.length&&t[0].test(n)&&(i+=n,t.shift())}),i}function w(n){var t="",i=o.slice();return angular.forEach(c.split(""),function(r,u){n.length&&u===i[0]?(t+=n.charAt(0)||"_",n=n.substr(1),i.shift()):t+=r}),t}function gt(n){var t=u.placeholder;return typeof t!="undefined"&&t[n]?t[n]:"_"}function ni(){return c.replace(/[_]+/g,"_").replace(/([^_]+)([a-zA-Z0-9])([^_])/g,"$1$2_$3").split("_")}function ti(n){var t=0,i,r;o=[];k=[];c="";typeof n=="string"&&(d=0,i=!1,r=n.split(""),angular.forEach(r,function(n,r){h.maskDefinitions[n]?(o.push(t),c+=gt(r),k.push(h.maskDefinitions[n]),t++,i||d++):n==="?"?i=!0:(c+=n,t++)}));o.push(o.slice().pop()+1);st=ni();l=o.length>1?!0:!1}function at(){h.clearOnBlur&&(it=0,y=0);s&&e.length!==0||(h.clearOnBlur&&(g="",r.val("")),n.$apply(function(){f.$setViewValue("")}))}function b(n){n.type==="mousedown"?r.bind("mouseout",ft):r.unbind("mouseout",ft)}function ft(){y=ot(this);r.unbind("mouseout",ft)}function a(t){var u,s,g;if(t=t||{},u=t.which,s=t.type,u!==16&&u!==91){var c=r.val(),v=nt,b,e=p(c),lt=tt,rt=!1,i=ii(this)||0,ut=it||0,ft=i-ut,h=o[0],l=o[e.length]||o.slice().shift(),a=y||0,at=ot(this)>0,st=a>0,ht=c.length>v.length||a&&c.length>v.length-a,k=c.length<v.length||a&&c.length===v.length-a,vt=u>=37&&u<=40&&t.shiftKey,yt=u===37,ct=u===8||s!=="keyup"&&k&&ft===-1,pt=u===46||s!=="keyup"&&k&&ft===0&&!st,d=(yt||ct||s==="click")&&i>h;if(y=ot(this),!vt&&(!at||s!=="click"&&s!=="keyup")){if(s==="input"&&k&&!st&&e===lt){while(ct&&i>h&&!et(i))i--;while(pt&&i<l&&o.indexOf(i)===-1)i++;g=o.indexOf(i);e=e.substring(0,g)+e.substring(g+1);rt=!0}for(b=w(e),nt=b,tt=e,r.val(b),rt&&n.$apply(function(){f.$setViewValue(e)}),ht&&i<=h&&(i=h+1),d&&i--,i=i>l?l:i<h?h:i;!et(i)&&i>h&&i<l;)i+=d?-1:1;(d&&i<l||ht&&!et(ut))&&i++;it=i;ri(this,i)}}}function et(n){return o.indexOf(n)>-1}function ii(n){if(!n)return 0;if(n.selectionStart!==undefined)return n.selectionStart;if(document.selection){n.focus();var t=document.selection.createRange();return t.moveStart("character",n.value?-n.value.length:0),t.text.length}return 0}function ri(n,t){if(!n)return 0;if(n.offsetWidth!==0&&n.offsetHeight!==0)if(n.setSelectionRange)n.focus(),n.setSelectionRange(t,t);else if(n.createTextRange){var i=n.createTextRange();i.collapse(!0);i.moveEnd("character",t);i.moveStart("character",t);i.select()}}function ot(n){return n?n.selectionStart!==undefined?n.selectionEnd-n.selectionStart:document.selection?document.selection.createRange().text.length:0:0}var l=!1,v=!1,o,k,c,st,d,e,g,s,ht=u.placeholder,ct=u.maxlength,nt,tt,it,y,h={},rt;u.uiOptions?(h=n.$eval("["+u.uiOptions+"]"),angular.isObject(h[0])&&(h=function(n,t){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]===undefined?t[i]=angular.copy(n[i]):angular.extend(t[i],n[i]));return t}(i,h[0]))):h=i;u.$observe("uiMask",vt);u.$observe("placeholder",yt);rt=!1;u.$observe("modelViewValue",function(n){n==="true"&&(rt=!0)});n.$watch(u.ngModel,function(i){if(rt&&i){var r=t(u.ngModel);r.assign(n,f.$viewValue)}});f.$formatters.push(pt);f.$parsers.push(wt);r.bind("mousedown mouseup",b);Array.prototype.indexOf||(Array.prototype.indexOf=function(n){var u,r,t,i;if(this===null)throw new TypeError;if((u=Object(this),r=u.length>>>0,r===0)||(t=0,arguments.length>1&&(t=Number(arguments[1]),t!==t?t=0:t!==0&&t!==Infinity&&t!==-Infinity&&(t=(t>0||-1)*Math.floor(Math.abs(t)))),t>=r))return-1;for(i=t>=0?t:Math.max(r-Math.abs(t),0);i<r;i++)if(i in u&&u[i]===n)return i;return-1})}}}}]);angular.module("ui.reset",[]).value("uiResetConfig",null).directive("uiReset",["uiResetConfig",function(n){"use strict";var t=null;return n!==undefined&&(t=n),{require:"ngModel",link:function(n,i,r,u){var f;f=angular.element('<a class="ui-reset" />');i.wrap('<span class="ui-resetwrap" />').after(f);f.bind("click",function(i){i.preventDefault();n.$apply(function(){r.uiReset?u.$setViewValue(n.$eval(r.uiReset)):u.$setViewValue(t);u.$render()})})}}}]);angular.module("ui.route",[]).directive("uiRoute",["$location","$parse",function(n,t){"use strict";return{restrict:"AC",scope:!0,compile:function(i,r){var u;if(r.uiRoute)u="uiRoute";else if(r.ngHref)u="ngHref";else if(r.href)u="href";else throw new Error("uiRoute missing a route or href property on "+i[0]);return function(i,r,f){function o(t){var r=t.indexOf("#");r>-1&&(t=t.substr(r+1));e=function(){s(i,n.path().indexOf(t)>-1)};e()}function h(t){var r=t.indexOf("#");r>-1&&(t=t.substr(r+1));e=function(){var r=new RegExp("^"+t+"$",["i"]);s(i,r.test(n.path()))};e()}var s=t(f.ngModel||f.routeModel||"$uiRoute").assign,e=angular.noop;switch(u){case"uiRoute":f.uiRoute?h(f.uiRoute):f.$observe("uiRoute",h);break;case"ngHref":f.ngHref?o(f.ngHref):f.$observe("ngHref",o);break;case"href":o(f.href)}i.$on("$routeChangeSuccess",function(){e()});i.$on("$stateChangeSuccess",function(){e()})}}}}]);angular.module("ui.scroll.jqlite",["ui.scroll"]).service("jqLiteExtras",["$log","$window",function(n,t){"use strict";return{registerFor:function(n){var i,u,s,r,f,e,o;return u=angular.element.prototype.css,n.prototype.css=function(n,t){var i,r;return r=this,i=r[0],(!i||i.nodeType===3||i.nodeType===8||!i.style)?void 0:u.call(r,n,t)},e=function(n){return n&&n.document&&n.location&&n.alert&&n.setInterval},o=function(n,t,i){var r,u,s,o,f;return r=n[0],f={top:["scrollTop","pageYOffset","scrollLeft"],left:["scrollLeft","pageXOffset","scrollTop"]}[t],u=f[0],o=f[1],s=f[2],e(r)?angular.isDefined(i)?r.scrollTo(n[s].call(n),i):o in r?r[o]:r.document.documentElement[u]:angular.isDefined(i)?r[u]=i:r[u]},t.getComputedStyle?(r=function(n){return t.getComputedStyle(n,null)},i=function(n,t){return parseFloat(t)}):(r=function(n){return n.currentStyle},i=function(n,t){var f,e,o,s,i,u,r;return f=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,s=new RegExp("^("+f+")(?!px)[a-z%]+$","i"),s.test(t)?(r=n.style,e=r.left,i=n.runtimeStyle,u=i&&i.left,i&&(i.left=r.left),r.left=t,o=r.pixelLeft,r.left=e,u&&(i.left=u),o):parseFloat(t)}),s=function(n,t){var f,c,l,a,v,u,o,s,y,p,w,b,h;return e(n)?(f=document.documentElement[{height:"clientHeight",width:"clientWidth"}[t]],{base:f,padding:0,border:0,margin:0}):(h={width:[n.offsetWidth,"Left","Right"],height:[n.offsetHeight,"Top","Bottom"]}[t],f=h[0],o=h[1],s=h[2],u=r(n),w=i(n,u["padding"+o])||0,b=i(n,u["padding"+s])||0,c=i(n,u["border"+o+"Width"])||0,l=i(n,u["border"+s+"Width"])||0,a=u["margin"+o],v=u["margin"+s],y=i(n,a)||0,p=i(n,v)||0,{base:f,padding:w+b,border:c+l,margin:y+p})},f=function(n,t,i){var e,u,f;return u=s(n,t),u.base>0?{base:u.base-u.padding-u.border,outer:u.base,outerfull:u.base+u.margin}[i]:(e=r(n),f=e[t],(f<0||f===null)&&(f=n.style[t]||0),f=parseFloat(f)||0,{base:f-u.padding-u.border,outer:f,outerfull:f+u.padding+u.border+u.margin}[i])},angular.forEach({before:function(n){var t,u,f,e,o,i,r;if(o=this,u=o[0],e=o.parent(),t=e.contents(),t[0]===u)return e.prepend(n);for(f=i=1,r=t.length-1;1<=r?i<=r:i>=r;f=1<=r?++i:--i)if(t[f]===u){angular.element(t[f-1]).after(n);return}throw new Error("invalid DOM structure "+u.outerHTML);},height:function(n){var t;return t=this,angular.isDefined(n)?(angular.isNumber(n)&&(n=n+"px"),u.call(t,"height",n)):f(this[0],"height","base")},outerHeight:function(n){return f(this[0],"height",n?"outerfull":"outer")},offset:function(n){var u,t,i,r,f,e;if(f=this,arguments.length){if(n===void 0)return f;throw new Error("offset setter method is not implemented");}if(u={top:0,left:0},r=f[0],t=r&&r.ownerDocument,t)return i=t.documentElement,r.getBoundingClientRect!=null&&(u=r.getBoundingClientRect()),e=t.defaultView||t.parentWindow,{top:u.top+(e.pageYOffset||i.scrollTop)-(i.clientTop||0),left:u.left+(e.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}},scrollTop:function(n){return o(this,"top",n)},scrollLeft:function(n){return o(this,"left",n)}},function(t,i){if(!n.prototype[i])return n.prototype[i]=t})}}}]).run(["$log","$window","jqLiteExtras",function(n,t,i){"use strict";if(!t.jQuery)return i.registerFor(angular.element)}]);angular.module("ui.scroll",[]).directive("uiScrollViewport",["$log",function(){"use strict";return{controller:["$scope","$element",function(n,t){return this.viewport=t,this}]}}]).directive("uiScroll",["$log","$injector","$rootScope","$timeout",function(n,t,i,r){"use strict";return{require:["?^uiScrollViewport"],transclude:"element",priority:1e3,terminal:!0,compile:function(u,f,e){return function(u,f,o,s){var c,p,oi,b,ot,h,tt,k,si,hi,v,st,vt,yt,d,it,pt,rt,a,wt,bt,ht,kt,g,ct,dt,lt,at,y,w,ci,nt,gt,ut,ni,li,ti,ii,ai,vi,yi,ri,ui,ft,fi,l,et,ei;if(lt=n.debug||n.log,at=o.uiScroll.match(/^\s*(\w+)\s+in\s+([\w\.]+)\s*$/),!at)throw new Error("Expected uiScroll in form of '_item_ in _datasource_' but got '"+o.uiScroll+"'");if(ct=at[1],st=at[2],kt=function(n){return angular.isObject(n)&&n.get&&angular.isFunction(n.get)},wt=function(n,t){var i;return n?(i=t.match(/^([\w]+)\.(.+)$/),!i||i.length!==3)?n[t]:wt(n[i[1]],i[2]):null},v=wt(u,st),!kt(v)&&(v=t.get(st),!kt(v)))throw new Error(""+st+" is not a valid datasource");return k=Math.max(3,+o.bufferSize||10),tt=function(){return l.outerHeight()*Math.max(.1,+o.padding||.1)},li=function(n){var t;return(t=n[0].scrollHeight)!=null?t:n[0].document.documentElement.scrollHeight},c=null,e(vi=u.$new(),function(n){var i,e,o,t,r,u;if(t=n[0].localName,t==="dl")throw new Error("ui-scroll directive does not support <"+n[0].localName+"> as a repeating tag: "+n[0].outerHTML);return t!=="li"&&t!=="tr"&&(t="div"),u=s[0]&&s[0].viewport?s[0].viewport:angular.element(window),u.css({"overflow-y":"auto",display:"block"}),o=function(n){var i,t,r;switch(n){case"tr":return r=angular.element("<table><tr><td><div><\/div><\/td><\/tr><\/table>"),i=r.find("div"),t=r.find("tr"),t.paddingHeight=function(){return i.height.apply(i,arguments)},t;default:return t=angular.element("<"+n+"><\/"+n+">"),t.paddingHeight=t.height,t}},e=function(n,t,i){return t[{top:"before",bottom:"after"}[i]](n),{paddingHeight:function(){return n.paddingHeight.apply(n,arguments)},insert:function(t){return n[{top:"after",bottom:"before"}[i]](t)}}},r=e(o(t),f,"top"),i=e(o(t),f,"bottom"),vi.$destroy(),c={viewport:u,topPadding:r.paddingHeight,bottomPadding:i.paddingHeight,append:i.insert,prepend:r.insert,bottomDataPos:function(){return li(u)-i.paddingHeight()},topDataPos:function(){return r.paddingHeight()}}}),l=c.viewport,et=l.scope()||i,angular.isDefined(o.topVisible)&&(ui=function(n){return et[o.topVisible]=n}),angular.isDefined(o.topVisibleElement)&&(ri=function(n){return et[o.topVisibleElement]=n}),angular.isDefined(o.topVisibleScope)&&(fi=function(n){return et[o.topVisibleScope]=n}),yi=function(n){return ui&&ui(n.scope[ct]),ri&&ri(n.element),fi&&fi(n.scope),v.topVisible?v.topVisible(n):void 0},dt=angular.isDefined(o.isLoading)?function(n){return et[o.isLoading]=n,v.loading?v.loading(n):void 0}:function(n){if(v.loading)return v.loading(n)},ut=0,a=1,y=1,h=[],w=[],d=!1,b=!1,g=!1,nt=function(n,t){for(var i,r=i=n;n<=t?i<t:i>t;r=n<=t?++i:--i)h[r].scope.$destroy(),h[r].element.remove();return h.splice(n,t-n)},ci=function(){return ut++,a=1,y=1,nt(0,h.length),c.topPadding(0),c.bottomPadding(0),w=[],d=!1,b=!1,p(ut,!1)},ot=function(){return l.scrollTop()+l.outerHeight()},ft=function(){return l.scrollTop()},ti=function(){return!d&&c.bottomDataPos()<ot()+tt()},si=function(){var i,u,f,e,o,r,n,l,t,s;for(i=0,n=0,u=t=s=h.length-1;s<=0?t<=0:t>=0;u=s<=0?++t:--t)if(f=h[u],o=f.element.offset().top,r=l!==o,l=o,r&&(e=f.element.outerHeight(!0)),c.bottomDataPos()-i-e>ot()+tt())r&&(i+=e),n++,d=!1;else{if(r)break;n++}if(n>0)return c.bottomPadding(c.bottomPadding()+i),nt(h.length-n,h.length),y-=n,lt("clipped off bottom "+n+" bottom padding "+c.bottomPadding())},ii=function(){return!b&&c.topDataPos()>ft()-tt()},hi=function(){var u,f,e,t,n,o,i,r,s;for(i=0,n=0,r=0,s=h.length;r<s;r++)if(u=h[r],e=u.element.offset().top,t=o!==e,o=e,t&&(f=u.element.outerHeight(!0)),c.topDataPos()+i+f<ft()-tt())t&&(i+=f),n++,b=!1;else{if(t)break;n++}if(n>0)return c.topPadding(c.topPadding()+i),nt(0,n),a+=n,lt("clipped off top "+n+" top padding "+c.topPadding())},yt=function(n,t,i){return g||(g=!0,dt(!0)),w.push(t)===1?pt(n,i):void 0},bt=function(n){return n.displayTemp=n.css("display"),n.css("display","none")},ai=function(n){if(n.hasOwnProperty("displayTemp"))return n.css("display",n.displayTemp)},ht=function(n,t){var i,f,r;return i=u.$new(),i[ct]=t,f=n>a,i.$index=n,f&&i.$index--,r={scope:i},e(i,function(t){return r.element=t,f?n===y?(bt(t),c.append(t),h.push(r)):(h[n-a].element.after(t),h.splice(n-a+1,0,r)):(bt(t),c.prepend(t),h.unshift(r))}),{appended:f,wrapper:r}},oi=function(n,t){var i;return n?c.bottomPadding(Math.max(0,c.bottomPadding()-t.element.outerHeight(!0))):(i=c.topPadding()-t.element.outerHeight(!0),i>=0?c.topPadding(i):l.scrollTop(l.scrollTop()+t.element.outerHeight(!0)))},vt=function(n,t,i){var r,e,o,u,a,s,f,v,l;if(lt("top {actual="+c.topDataPos()+" visible from="+ft()+" bottom {visible through="+ot()+" actual="+c.bottomDataPos()+"}"),ti()?yt(n,!0,t):ii()&&yt(n,!1,t),i&&i(n),w.length===0){for(s=0,l=[],f=0,v=h.length;f<v;f++)if(r=h[f],o=r.element.offset().top,u=a!==o,a=o,u&&(e=r.element.outerHeight(!0)),u&&c.topDataPos()+s+e<ft())l.push(s+=e);else{u&&yi(r);break}return l}},p=function(n,t,i,u){return i&&i.length?r(function(){var h,r,c,e,o,s,l,a;for(e=[],o=0,l=i.length;o<l;o++)r=i[o],f=r.wrapper.element,ai(f),h=f.offset().top,c!==h&&(e.push(r),c=h);for(s=0,a=e.length;s<a;s++)r=e[s],oi(r.appended,r.wrapper);return vt(n,t,u)}):vt(n,t,u)},rt=function(n,t,i){return p(n,t,i,function(){return w.shift(),w.length===0?(g=!1,dt(!1)):pt(n,t)})},pt=function(n,t){var i;return i=w[0],i?h.length&&!ti()?rt(n,t):v.get(y,k,function(i){var f,u,r,e;if(!n||n===ut){if(u=[],i.length<k&&(d=!0,c.bottomPadding(0)),i.length>0)for(hi(),r=0,e=i.length;r<e;r++)f=i[r],u.push(ht(++y,f));return rt(n,t,u)}}):h.length&&!ii()?rt(n,t):v.get(a-k,k,function(i){var u,f,r,e;if(!n||n===ut){if(f=[],i.length<k&&(b=!0,c.topPadding(0)),i.length>0)for(h.length&&si(),u=r=e=i.length-1;e<=0?r<=0:r>=0;u=e<=0?++r:--r)f.unshift(ht(--a,i[u]));return rt(n,t,f)}})},gt=function(){if(!i.$$phase&&!g)return p(null,!1),u.$apply()},l.bind("resize",gt),ni=function(){if(!i.$$phase&&!g)return p(null,!0),u.$apply()},l.bind("scroll",ni),ei=function(n){var t,i;return t=l[0].scrollTop,i=l[0].scrollHeight-l[0].clientHeight,t===0&&!b||t===i&&!d?n.preventDefault():void 0},l.bind("mousewheel",ei),u.$watch(v.revision,function(){return ci()}),it=v.scope?v.scope.$new():u.$new(),u.$on("$destroy",function(){return it.$destroy(),l.unbind("resize",gt),l.unbind("scroll",ni),l.unbind("mousewheel",ei)}),it.$on("update.items",function(n,t,i){var u,f,r,e,o;if(angular.isFunction(t))for(f=function(n){return t(n.scope)},r=0,e=h.length;r<e;r++)u=h[r],f(u);else 0<=(o=t-a-1)&&o<h.length&&(h[t-a-1].scope[ct]=i);return null}),it.$on("delete.items",function(n,t){var i,u,r,s,c,f,e,o,l,v,w,b;if(angular.isFunction(t)){for(r=[],f=0,l=h.length;f<l;f++)u=h[f],r.unshift(u);for(c=function(n){if(t(n.scope))return nt(r.length-1-i,r.length-i),y--},i=e=0,v=r.length;e<v;i=++e)s=r[i],c(s)}else 0<=(b=t-a-1)&&b<h.length&&(nt(t-a-1,t-a),y--);for(i=o=0,w=h.length;o<w;i=++o)u=h[i],u.scope.$index=a+i;return p(null,!1)}),it.$on("insert.item",function(n,t,i){var r,u,f,e,o;if(u=[],angular.isFunction(t))throw new Error("not implemented - Insert with locator function");else 0<=(o=t-a-1)&&o<h.length&&(u.push(ht(t,i)),y++);for(r=f=0,e=h.length;f<e;r=++f)i=h[r],i.scope.$index=a+r;return p(null,!1,u)})}}}}]);angular.module("ui.scrollfix",[]).directive("uiScrollfix",["$window",function(n){"use strict";function t(){if(angular.isDefined(n.pageYOffset))return n.pageYOffset;var t=document.compatMode&&document.compatMode!=="BackCompat"?document.documentElement:document.body;return t.scrollTop}return{require:"^?uiScrollfixTarget",link:function(i,r,u,f){function s(){var n=f?o[0].scrollTop:t();!r.hasClass("ui-scrollfix")&&n>u.uiScrollfix?r.addClass("ui-scrollfix"):r.hasClass("ui-scrollfix")&&n<u.uiScrollfix&&r.removeClass("ui-scrollfix")}var e=r[0].offsetTop,o=f&&f.$element||angular.element(n);u.uiScrollfix?typeof u.uiScrollfix=="string"&&(u.uiScrollfix.charAt(0)==="-"?u.uiScrollfix=e-parseFloat(u.uiScrollfix.substr(1)):u.uiScrollfix.charAt(0)==="+"&&(u.uiScrollfix=e+parseFloat(u.uiScrollfix.substr(1)))):u.uiScrollfix=e;o.on("scroll",s);i.$on("$destroy",function(){o.off("scroll",s)})}}}]).directive("uiScrollfixTarget",[function(){"use strict";return{controller:["$element",function(n){this.$element=n}]}}]);angular.module("ui.showhide",[]).directive("uiShow",[function(){"use strict";return function(n,t,i){n.$watch(i.uiShow,function(n){n?t.addClass("ui-show"):t.removeClass("ui-show")})}}]).directive("uiHide",[function(){"use strict";return function(n,t,i){n.$watch(i.uiHide,function(n){n?t.addClass("ui-hide"):t.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){"use strict";return function(n,t,i){n.$watch(i.uiToggle,function(n){n?t.removeClass("ui-hide").addClass("ui-show"):t.removeClass("ui-show").addClass("ui-hide")})}}]);angular.module("ui.unique",[]).filter("unique",["$parse",function(n){"use strict";return function(t,i){if(i===!1)return t;if((i||angular.isUndefined(i))&&angular.isArray(t)){var r=[],f=angular.isString(i)?n(i):function(n){return n},u=function(n){return angular.isObject(n)?f(n):n};angular.forEach(t,function(n){for(var i=!1,t=0;t<r.length;t++)if(angular.equals(u(r[t]),u(n))){i=!0;break}i||r.push(n)});t=r}return t}}]);angular.module("ui.uploader",[]).service("uiUploader",uiUploader);uiUploader.$inject=["$log"];angular.module("ui.validate",[]).directive("uiValidate",function(){"use strict";return{restrict:"A",require:"ngModel",link:function(n,t,i,r){function o(t){if(angular.isString(t)){n.$watch(t,function(){angular.forEach(u,function(n){n(r.$modelValue)})});return}if(angular.isArray(t)){angular.forEach(t,function(t){n.$watch(t,function(){angular.forEach(u,function(n){n(r.$modelValue)})})});return}angular.isObject(t)&&angular.forEach(t,function(t,i){angular.isString(t)&&n.$watch(t,function(){u[i](r.$modelValue)});angular.isArray(t)&&angular.forEach(t,function(t){n.$watch(t,function(){u[i](r.$modelValue)})})})}var e,u={},f=n.$eval(i.uiValidate);f&&(angular.isString(f)&&(f={validator:f}),angular.forEach(f,function(t,i){e=function(u){var f=n.$eval(t,{$value:u});return angular.isObject(f)&&angular.isFunction(f.then)?(f.then(function(){r.$setValidity(i,!0)},function(){r.$setValidity(i,!1)}),u):f?(r.$setValidity(i,!0),u):(r.$setValidity(i,!1),u)};u[i]=e;r.$formatters.push(e);r.$parsers.push(e)}),i.uiValidateWatch&&o(n.$eval(i.uiValidateWatch)))}}});angular.module("ui.utils",["ui.event","ui.format","ui.highlight","ui.include","ui.indeterminate","ui.inflector","ui.jq","ui.keypress","ui.mask","ui.reset","ui.route","ui.scrollfix","ui.scroll","ui.scroll.jqlite","ui.showhide","ui.unique","ui.validate"]);
/**
 * angular-ui-utils - Swiss-Army-Knife of AngularJS tools (with no external dependencies!)
 * @version v0.2.1 - 2015-01-02
 * @link http://angular-ui.github.com
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
(function(n,t){"use strict";var i=["ngInclude","ngPluralize","ngView","ngSwitch","uiCurrency","uiCodemirror","uiDate","uiEvent","uiKeypress","uiKeyup","uiKeydown","uiMask","uiMapInfoWindow","uiMapMarker","uiMapPolyline","uiMapPolygon","uiMapRectangle","uiMapCircle","uiMapGroundOverlay","uiModal","uiReset","uiScrollfix","uiSelect2","uiShow","uiHide","uiToggle","uiSortable","uiTinymce"],e,r,o,f,u,s,h;for(n.myCustomTags=n.myCustomTags||[],i.push.apply(i,n.myCustomTags),e=function(n){var t=[],e=n.replace(/([A-Z])/g,function(n){return" "+n.toLowerCase()}),u=e.split(" "),f,i,r;return u.length===1?(f=u[0],t.push(f),t.push("x-"+f),t.push("data-"+f)):(i=u[0],r=u.slice(1).join("-"),t.push(i+":"+r),t.push(i+"-"+r),t.push("x-"+i+"-"+r),t.push("data-"+i+"-"+r)),t},r=0,o=i.length;r<o;r++)for(f=e(i[r]),u=0,s=f.length;u<s;u++)h=f[u],t.createElement(h)})(window,document);angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]);angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]);angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(n){return{link:function(t,i,r){function u(){i.removeClass("collapse").addClass("collapsing");n.addClass(i,"in",{to:{height:i[0].scrollHeight+"px"}}).then(f)}function f(){i.removeClass("collapsing");i.css({height:"auto"})}function e(){i.css({height:i[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing");n.removeClass(i,"in",{to:{height:"0"}}).then(o)}function o(){i.css({height:"0"});i.removeClass("collapsing");i.addClass("collapse")}t.$watch(r.collapse,function(n){n?e():u()})}}}]);angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(n,t,i){this.groups=[];this.closeOthers=function(r){var u=angular.isDefined(t.closeOthers)?n.$eval(t.closeOthers):i.closeOthers;u&&angular.forEach(this.groups,function(n){n!==r&&(n.isOpen=!1)})};this.addGroup=function(n){var t=this;this.groups.push(n);n.$on("$destroy",function(){t.removeGroup(n)})};this.removeGroup=function(n){var t=this.groups.indexOf(n);t!==-1&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(n){this.heading=n}},link:function(n,t,i,r){r.addGroup(n);n.$watch("isOpen",function(t){t&&r.closeOthers(n)});n.toggleOpen=function(){n.isDisabled||(n.isOpen=!n.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(n,t,i,r,u){r.setHeading(u(n,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(n,t,i,r){n.$watch(function(){return r[i.accordionTransclude]},function(n){n&&(t.html(""),t.append(n))})}}});angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(n,t){n.closeable="close"in t;this.close=n.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(n){return{require:"alert",link:function(t,i,r,u){n(function(){u.close()},parseInt(r.dismissOnTimeout,10))}}}]);angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(n,t,i){t.addClass("ng-binding").data("$binding",i.bindHtmlUnsafe);n.$watch(i.bindHtmlUnsafe,function(n){t.html(n||"")})}});angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(n){this.activeClass=n.activeClass||"active";this.toggleEvent=n.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(n,t,i,r){var f=r[0],u=r[1];u.$render=function(){t.toggleClass(f.activeClass,angular.equals(u.$modelValue,n.$eval(i.btnRadio)))};t.bind(f.toggleEvent,function(){var r=t.hasClass(f.activeClass);(!r||angular.isDefined(i.uncheckable))&&n.$apply(function(){u.$setViewValue(r?null:n.$eval(i.btnRadio));u.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(n,t,i,r){function e(){return o(i.btnCheckboxTrue,!0)}function s(){return o(i.btnCheckboxFalse,!1)}function o(t,i){var r=n.$eval(t);return angular.isDefined(r)?r:i}var f=r[0],u=r[1];u.$render=function(){t.toggleClass(f.activeClass,angular.equals(u.$modelValue,e()))};t.bind(f.toggleEvent,function(){n.$apply(function(){u.$setViewValue(t.hasClass(f.activeClass)?s():e());u.$render()})})}}});angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$interval","$animate",function(n,t,i){function l(n){if(angular.isUndefined(u[n].index))return u[n];for(var i=u.length,t=0;t<u.length;++t)if(u[t].index==n)return u[t]}function h(){c();var i=+n.interval;!isNaN(i)&&i>0&&(e=t(a,i))}function c(){e&&(t.cancel(e),e=null)}function a(){var t=+n.interval;o&&!isNaN(t)&&t>0?n.next():n.pause()}var r=this,u=r.slides=n.slides=[],f=-1,e,o,s;r.currentSlide=null;s=!1;r.select=n.select=function(t,u){function o(){if(!s){if(angular.extend(t,{direction:u,active:!0}),angular.extend(r.currentSlide||{},{direction:u,active:!1}),i.enabled()&&!n.noTransition&&t.$element){n.$currentTransition=!0;t.$element.one("$animate:close",function(){n.$currentTransition=null})}r.currentSlide=t;f=e;h()}}var e=r.indexOfSlide(t);u===undefined&&(u=e>r.getCurrentIndex()?"next":"prev");t&&t!==r.currentSlide&&o()};n.$on("$destroy",function(){s=!0});r.getCurrentIndex=function(){return r.currentSlide&&angular.isDefined(r.currentSlide.index)?+r.currentSlide.index:f};r.indexOfSlide=function(n){return angular.isDefined(n.index)?+n.index:u.indexOf(n)};n.next=function(){var t=(r.getCurrentIndex()+1)%u.length;if(!n.$currentTransition)return r.select(l(t),"next")};n.prev=function(){var t=r.getCurrentIndex()-1<0?u.length-1:r.getCurrentIndex()-1;if(!n.$currentTransition)return r.select(l(t),"prev")};n.isActive=function(n){return r.currentSlide===n};n.$watch("interval",h);n.$on("$destroy",c);n.play=function(){o||(o=!0,h())};n.pause=function(){n.noPause||(o=!1,c())};r.addSlide=function(t,i){t.$element=i;u.push(t);u.length===1||t.active?(r.select(u[u.length-1]),u.length==1&&n.play()):t.active=!1};r.removeSlide=function(n){angular.isDefined(n.index)&&u.sort(function(n,t){return+n.index>+t.index});var t=u.indexOf(n);u.splice(t,1);u.length>0&&n.active?t>=u.length?r.select(u[t-1]):r.select(u[t]):f>t&&f--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?",index:"=?"},link:function(n,t,i,r){r.addSlide(n,t);n.$on("$destroy",function(){r.removeSlide(n)});n.$watch("active",function(t){t&&r.select(n)})}}}).animation(".item",["$animate",function(n){return{beforeAddClass:function(t,i,r){if(i=="active"&&t.parent()&&!t.parent().scope().noTransition){var f=!1,u=t.isolateScope().direction,e=u=="next"?"left":"right";return t.addClass(u),n.addClass(t,e).then(function(){f||t.removeClass(e+" "+u);r()}),function(){f=!0}}r()},beforeRemoveClass:function(t,i,r){if(i=="active"&&t.parent()&&!t.parent().scope().noTransition){var u=!1,e=t.isolateScope().direction,f=e=="next"?"left":"right";return n.addClass(t,f).then(function(){u||t.removeClass(f);r()}),function(){u=!0}}r()}}}]);angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(n,t){function u(n){var u=[],r=n.split("");return angular.forEach(i,function(t,i){var f=n.indexOf(i),e,o;if(f>-1){for(n=n.split(""),r[f]="("+t.regex+")",n[f]="$",e=f+1,o=f+i.length;e<o;e++)r[e]="",n[e]="$";n=n.join("");u.push({index:f,apply:t.apply})}}),{regex:new RegExp("^"+r.join("")+"$"),map:t(u,"index")}}function f(n,t,i){return i<1?!1:t===1&&i>28?i===29&&(n%4==0&&n%100!=0||n%400==0):t===3||t===5||t===8||t===10?i<31:!0}var r=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,i;this.parsers={};i={yyyy:{regex:"\\d{4}",apply:function(n){this.year=+n}},yy:{regex:"\\d{2}",apply:function(n){this.year=+n+2e3}},y:{regex:"\\d{1,4}",apply:function(n){this.year=+n}},MMMM:{regex:n.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=n.DATETIME_FORMATS.MONTH.indexOf(t)}},MMM:{regex:n.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=n.DATETIME_FORMATS.SHORTMONTH.indexOf(t)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(n){this.month=n-1}},M:{regex:"[1-9]|1[0-2]",apply:function(n){this.month=n-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(n){this.date=+n}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(n){this.date=+n}},EEEE:{regex:n.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:n.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(n){this.hours=+n}},H:{regex:"1?[0-9]|2[0-3]",apply:function(n){this.hours=+n}},mm:{regex:"[0-5][0-9]",apply:function(n){this.minutes=+n}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(n){this.minutes=+n}},sss:{regex:"[0-9][0-9][0-9]",apply:function(n){this.milliseconds=+n}},ss:{regex:"[0-5][0-9]",apply:function(n){this.seconds=+n}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(n){this.seconds=+n}}};this.parse=function(t,i,e){var o,a,s,v,c;if(!angular.isString(t)||!i)return t;i=n.DATETIME_FORMATS[i]||i;i=i.replace(r,"\\$&");this.parsers[i]||(this.parsers[i]=u(i));var l=this.parsers[i],y=l.regex,p=l.map,h=t.match(y);if(h&&h.length){for(o=e?{year:e.getFullYear(),month:e.getMonth(),date:e.getDate(),hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds(),milliseconds:e.getMilliseconds()}:{year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},s=1,v=h.length;s<v;s++)c=p[s-1],c.apply&&c.apply.call(o,h[s]);return f(o.year,o.month,o.date)&&(a=new Date(o.year,o.month,o.date,o.hours,o.minutes,o.seconds,o.milliseconds||0)),a}}}]);angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(n,t){function i(n,i){return n.currentStyle?n.currentStyle[i]:t.getComputedStyle?t.getComputedStyle(n)[i]:n.style[i]}function r(n){return(i(n,"position")||"static")==="static"}var u=function(t){for(var u=n[0],i=t.offsetParent||u;i&&i!==u&&r(i);)i=i.offsetParent;return i||u};return{position:function(t){var e=this.offset(t),r={top:0,left:0},i=u(t[0]),f;return i!=n[0]&&(r=this.offset(angular.element(i)),r.top+=i.clientTop-i.scrollTop,r.left+=i.clientLeft-i.scrollLeft),f=t[0].getBoundingClientRect(),{width:f.width||t.prop("offsetWidth"),height:f.height||t.prop("offsetHeight"),top:e.top-r.top,left:e.left-r.left}},offset:function(i){var r=i[0].getBoundingClientRect();return{width:r.width||i.prop("offsetWidth"),height:r.height||i.prop("offsetHeight"),top:r.top+(t.pageYOffset||n[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||n[0].documentElement.scrollLeft)}},positionElements:function(n,t,i,r){var a=i.split("-"),h=a[0],e=a[1]||"center",u,c,l,f,o,s;u=r?this.offset(n):this.position(n);c=t.prop("offsetWidth");l=t.prop("offsetHeight");o={center:function(){return u.left+u.width/2-c/2},left:function(){return u.left},right:function(){return u.left+u.width}};s={center:function(){return u.top+u.height/2-l/2},top:function(){return u.top},bottom:function(){return u.top+u.height}};switch(h){case"right":f={top:s[e](),left:o[h]()};break;case"left":f={top:s[e](),left:u.left-c};break;case"bottom":f={top:s[h](),left:o[e]()};break;default:f={top:u.top-l,left:o[e]()}}return f}}}]);angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(n,t,i,r,u,f,e,o){var s=this,h={$setViewValue:angular.noop},c;this.modes=["day","month","year"];angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange","shortcutPropagation"],function(i,u){s[i]=angular.isDefined(t[i])?u<8?r(t[i])(n.$parent):n.$parent.$eval(t[i]):o[i]});angular.forEach(["minDate","maxDate"],function(r){t[r]?n.$parent.$watch(i(t[r]),function(n){s[r]=n?new Date(n):null;s.refreshView()}):s[r]=o[r]?new Date(o[r]):null});n.datepickerMode=n.datepickerMode||o.datepickerMode;n.maxMode=s.maxMode;n.uniqueId="datepicker-"+n.$id+"-"+Math.floor(Math.random()*1e4);angular.isDefined(t.initDate)?(this.activeDate=n.$parent.$eval(t.initDate)||new Date,n.$parent.$watch(t.initDate,function(n){n&&(h.$isEmpty(h.$modelValue)||h.$invalid)&&(s.activeDate=n,s.refreshView())})):this.activeDate=new Date;n.isActive=function(t){return s.compare(t.date,s.activeDate)===0?(n.activeDateId=t.uid,!0):!1};this.init=function(n){h=n;h.$render=function(){s.render()}};this.render=function(){if(h.$viewValue){var n=new Date(h.$viewValue),t=!isNaN(n);t?this.activeDate=n:f.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.');h.$setValidity("date",t)}this.refreshView()};this.refreshView=function(){if(this.element){this._refreshView();var n=h.$viewValue?new Date(h.$viewValue):null;h.$setValidity("date-disabled",!n||this.element&&!this.isDisabled(n))}};this.createDateObject=function(n,t){var i=h.$viewValue?new Date(h.$viewValue):null;return{date:n,label:e(n,t),selected:i&&this.compare(n,i)===0,disabled:this.isDisabled(n),current:this.compare(n,new Date)===0,customClass:this.customClass(n)}};this.isDisabled=function(i){return this.minDate&&this.compare(i,this.minDate)<0||this.maxDate&&this.compare(i,this.maxDate)>0||t.dateDisabled&&n.dateDisabled({date:i,mode:n.datepickerMode})};this.customClass=function(t){return n.customClass({date:t,mode:n.datepickerMode})};this.split=function(n,t){for(var i=[];n.length>0;)i.push(n.splice(0,t));return i};n.select=function(t){if(n.datepickerMode===s.minMode){var i=h.$viewValue?new Date(h.$viewValue):new Date(0,0,0,0,0,0,0);i.setFullYear(t.getFullYear(),t.getMonth(),t.getDate());h.$setViewValue(i);h.$render()}else s.activeDate=t,n.datepickerMode=s.modes[s.modes.indexOf(n.datepickerMode)-1]};n.move=function(n){var t=s.activeDate.getFullYear()+n*(s.step.years||0),i=s.activeDate.getMonth()+n*(s.step.months||0);s.activeDate.setFullYear(t,i,1);s.refreshView()};n.toggleMode=function(t){(t=t||1,(n.datepickerMode!==s.maxMode||t!==1)&&(n.datepickerMode!==s.minMode||t!==-1))&&(n.datepickerMode=s.modes[s.modes.indexOf(n.datepickerMode)+t])};n.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};c=function(){u(function(){s.element[0].focus()},0,!1)};n.$on("datepicker.focus",c);n.keydown=function(t){var i=n.keys[t.which];if(i&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),s.shortcutPropagation||t.stopPropagation(),i==="enter"||i==="space"){if(s.isDisabled(s.activeDate))return;n.select(s.activeDate);c()}else t.ctrlKey&&(i==="up"||i==="down")?(n.toggleMode(i==="up"?1:-1),c()):(s.handleKeyDown(i,t),s.refreshView())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(n,t,i,r){var f=r[0],u=r[1];u&&f.init(u)}}}).directive("daypicker",["dateFilter",function(n){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,i,r,u){function f(n,t){return t===1&&n%4==0&&(n%100!=0||n%400==0)?29:e[t]}function o(n,t){var r=new Array(t),i=new Date(n),u=0;for(i.setHours(12);u<t;)r[u++]=new Date(i),i.setDate(i.getDate()+1);return r}function s(n){var t=new Date(n),i;return t.setDate(t.getDate()+4-(t.getDay()||7)),i=t.getTime(),t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1}t.showWeeks=u.showWeeks;u.step={months:1};u.element=i;var e=[31,28,31,30,31,30,31,31,30,31,30,31];u._refreshView=function(){var w=u.activeDate.getFullYear(),c=u.activeDate.getMonth(),l=new Date(w,c,1),h=u.startingDay-l.getDay(),a=h>0?7-h:-h,v=new Date(l),i,r,f,y,p,e;for(a>0&&v.setDate(-a+1),i=o(v,42),r=0;r<42;r++)i[r]=angular.extend(u.createDateObject(i[r],u.formatDay),{secondary:i[r].getMonth()!==c,uid:t.uniqueId+"-"+r});for(t.labels=new Array(7),f=0;f<7;f++)t.labels[f]={abbr:n(i[f].date,u.formatDayHeader),full:n(i[f].date,"EEEE")};if(t.title=n(u.activeDate,u.formatDayTitle),t.rows=u.split(i,7),t.showWeeks)for(t.weekNumbers=[],y=(11-u.startingDay)%7,p=t.rows.length,e=0;e<p;e++)t.weekNumbers.push(s(t.rows[e][y].date))};u.compare=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())};u.handleKeyDown=function(n){var t=u.activeDate.getDate(),i;n==="left"?t=t-1:n==="up"?t=t-7:n==="right"?t=t+1:n==="down"?t=t+7:n==="pageup"||n==="pagedown"?(i=u.activeDate.getMonth()+(n==="pageup"?-1:1),u.activeDate.setMonth(i,1),t=Math.min(f(u.activeDate.getFullYear(),u.activeDate.getMonth()),t)):n==="home"?t=1:n==="end"&&(t=f(u.activeDate.getFullYear(),u.activeDate.getMonth()));u.activeDate.setDate(t)};u.refreshView()}}}]).directive("monthpicker",["dateFilter",function(n){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,i,r,u){u.step={years:1};u.element=i;u._refreshView=function(){for(var r=new Array(12),f=u.activeDate.getFullYear(),i=0;i<12;i++)r[i]=angular.extend(u.createDateObject(new Date(f,i,1),u.formatMonth),{uid:t.uniqueId+"-"+i});t.title=n(u.activeDate,u.formatMonthTitle);t.rows=u.split(r,3)};u.compare=function(n,t){return new Date(n.getFullYear(),n.getMonth())-new Date(t.getFullYear(),t.getMonth())};u.handleKeyDown=function(n){var t=u.activeDate.getMonth(),i;n==="left"?t=t-1:n==="up"?t=t-3:n==="right"?t=t+1:n==="down"?t=t+3:n==="pageup"||n==="pagedown"?(i=u.activeDate.getFullYear()+(n==="pageup"?-1:1),u.activeDate.setFullYear(i)):n==="home"?t=0:n==="end"&&(t=11);u.activeDate.setMonth(t)};u.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(n,t,i,r){function f(n){return parseInt((n-1)/u,10)*u+1}var u=r.yearRange;r.step={years:u};r.element=t;r._refreshView=function(){for(var i=new Array(u),t=0,e=f(r.activeDate.getFullYear());t<u;t++)i[t]=angular.extend(r.createDateObject(new Date(e+t,0,1),r.formatYear),{uid:n.uniqueId+"-"+t});n.title=[i[0].label,i[u-1].label].join(" - ");n.rows=r.split(i,5)};r.compare=function(n,t){return n.getFullYear()-t.getFullYear()};r.handleKeyDown=function(n){var t=r.activeDate.getFullYear();n==="left"?t=t-1:n==="up"?t=t-5:n==="right"?t=t+1:n==="down"?t=t+5:n==="pageup"||n==="pagedown"?t+=(n==="pageup"?-1:1)*r.step.years:n==="home"?t=f(r.activeDate.getFullYear()):n==="end"&&(t=f(r.activeDate.getFullYear())+u-1);r.activeDate.setFullYear(t)};r.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(n,t,i,r,u,f,e){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(o,s,h,c){function g(n){return n.replace(/([A-Z])/g,function(n){return"-"+n.toLowerCase()})}function tt(n){if(angular.isNumber(n)&&(n=new Date(n)),n){if(angular.isDate(n)&&!isNaN(n))return n;if(angular.isString(n)){var t=f.parse(n,l,o.date)||new Date(n);return isNaN(t)?undefined:t}return undefined}return null}function it(n,t){var i=n||t,r;return angular.isNumber(i)&&(i=new Date(i)),i?angular.isDate(i)&&!isNaN(i)?!0:angular.isString(i)?(r=f.parse(i,l)||new Date(i),!isNaN(r)):!1:!0}var l,nt=angular.isDefined(h.closeOnDateSelection)?o.$parent.$eval(h.closeOnDateSelection):e.closeOnDateSelection,d=angular.isDefined(h.datepickerAppendToBody)?o.$parent.$eval(h.datepickerAppendToBody):e.appendToBody,v,y,a,p,w,k,b;if(o.showButtonBar=angular.isDefined(h.showButtonBar)?o.$parent.$eval(h.showButtonBar):e.showButtonBar,o.getText=function(n){return o[n+"Text"]||e[n+"Text"]},v=!1,e.html5Types[h.type]?(l=e.html5Types[h.type],v=!0):(l=h.datepickerPopup||e.datepickerPopup,h.$observe("datepickerPopup",function(n){var t=n||e.datepickerPopup;if(t!==l&&(l=t,c.$modelValue=null,!l))throw new Error("datepickerPopup must have a date format specified.");})),!l)throw new Error("datepickerPopup must have a date format specified.");if(v&&h.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");y=angular.element("<div datepicker-popup-wrap><div datepicker><\/div><\/div>");y.attr({"ng-model":"date","ng-change":"dateSelection()"});a=angular.element(y.children()[0]);v&&h.type=="month"&&(a.attr("datepicker-mode",'"month"'),a.attr("min-mode","month"));h.datepickerOptions&&(p=o.$parent.$eval(h.datepickerOptions),p.initDate&&(o.initDate=p.initDate,a.attr("init-date","initDate"),delete p.initDate),angular.forEach(p,function(n,t){a.attr(g(t),n)}));o.watchData={};angular.forEach(["minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(n){var i,r;h[n]&&(i=t(h[n]),o.$parent.$watch(i,function(t){o.watchData[n]=t}),a.attr(g(n),"watchData."+n),n==="datepickerMode"&&(r=i.assign,o.$watch("watchData."+n,function(n,t){n!==t&&r(o.$parent,n)})))});h.dateDisabled&&a.attr("date-disabled","dateDisabled({ date: date, mode: mode })");h.showWeeks&&a.attr("show-weeks",h.showWeeks);h.customClass&&a.attr("custom-class","customClass({ date: date, mode: mode })");v?c.$formatters.push(function(n){return o.date=n,n}):(c.$$parserName="date",c.$validators.date=it,c.$parsers.unshift(tt),c.$formatters.push(function(n){return o.date=n,c.$isEmpty(n)?n:u(n,l)}));o.dateSelection=function(n){angular.isDefined(n)&&(o.date=n);var t=o.date?u(o.date,l):"";s.val(t);c.$setViewValue(t);nt&&(o.isOpen=!1,s[0].focus())};c.$viewChangeListeners.push(function(){o.date=f.parse(c.$viewValue,l,o.date)||new Date(c.$viewValue)});w=function(n){o.isOpen&&n.target!==s[0]&&o.$apply(function(){o.isOpen=!1})};k=function(n){o.keydown(n)};s.bind("keydown",k);o.keydown=function(n){n.which===27?(n.preventDefault(),o.isOpen&&n.stopPropagation(),o.close()):n.which!==40||o.isOpen||(o.isOpen=!0)};o.$watch("isOpen",function(n){n?(o.$broadcast("datepicker.focus"),o.position=d?r.offset(s):r.position(s),o.position.top=o.position.top+s.prop("offsetHeight"),i.bind("click",w)):i.unbind("click",w)});o.select=function(n){if(n==="today"){var t=new Date;angular.isDate(o.date)?(n=new Date(o.date),n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):n=new Date(t.setHours(0,0,0,0))}o.dateSelection(n)};o.close=function(){o.isOpen=!1;s[0].focus()};b=n(y)(o);y.remove();d?i.find("body").append(b):s.after(b);o.$on("$destroy",function(){b.remove();s.unbind("keydown",k);i.unbind("click",w)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(n,t){t.bind("click",function(n){n.preventDefault();n.stopPropagation()})}}});angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(n,t){var i=null,r,u;this.open=function(t){i||(n.bind("click",r),n.bind("keydown",u));i&&i!==t&&(i.isOpen=!1);i=t};this.close=function(t){i===t&&(i=null,n.unbind("click",r),n.unbind("keydown",u))};r=function(n){var r,u;i&&(n&&i.getAutoClose()==="disabled"||(r=i.getToggleElement(),n&&r&&r[0].contains(n.target))||(u=i.getElement(),n&&i.getAutoClose()==="outsideClick"&&u&&u[0].contains(n.target))||(i.isOpen=!1,t.$$phase||i.$apply()))};u=function(n){n.which===27&&(i.focusToggleElement(),r())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document",function(n,t,i,r,u,f,e,o){var h=this,s=n.$new(),v=r.openClass,c,a=angular.noop,y=t.onToggle?i(t.onToggle):angular.noop,l=!1;this.init=function(r){if(h.$element=r,t.isOpen&&(c=i(t.isOpen),a=c.assign,n.$watch(c,function(n){s.isOpen=!!n})),l=angular.isDefined(t.dropdownAppendToBody),l&&h.dropdownMenu){o.find("body").append(h.dropdownMenu);r.on("$destroy",function(){h.dropdownMenu.remove()})}};this.toggle=function(n){return s.isOpen=arguments.length?!!n:!s.isOpen};this.isOpen=function(){return s.isOpen};s.getToggleElement=function(){return h.toggleElement};s.getAutoClose=function(){return t.autoClose||"always"};s.getElement=function(){return h.$element};s.focusToggleElement=function(){h.toggleElement&&h.toggleElement[0].focus()};s.$watch("isOpen",function(t,i){if(l&&h.dropdownMenu){var r=e.positionElements(h.$element,h.dropdownMenu,"bottom-left",!0);h.dropdownMenu.css({top:r.top+"px",left:r.left+"px",display:t?"block":"none"})}f[t?"addClass":"removeClass"](h.$element,v);t?(s.focusToggleElement(),u.open(s)):u.close(s);a(n,t);angular.isDefined(t)&&t!==i&&y(n,{open:!!t})});n.$on("$locationChangeSuccess",function(){s.isOpen=!1});n.$on("$destroy",function(){s.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(n,t,i,r){r.init(t)}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(n,t,i,r){r&&(r.dropdownMenu=t)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(n,t,i,r){if(r){r.toggleElement=t;var u=function(u){u.preventDefault();t.hasClass("disabled")||i.disabled||n.$apply(function(){r.toggle()})};t.bind("click",u);t.attr({"aria-haspopup":!0,"aria-expanded":!1});n.$watch(r.isOpen,function(n){t.attr("aria-expanded",!!n)});n.$on("$destroy",function(){t.unbind("click",u)})}}}});angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var n=[];return{add:function(t,i){n.push({key:t,value:i})},get:function(t){for(var i=0;i<n.length;i++)if(t==n[i].key)return n[i]},keys:function(){for(var i=[],t=0;t<n.length;t++)i.push(n[t].key);return i},top:function(){return n[n.length-1]},remove:function(t){for(var r=-1,i=0;i<n.length;i++)if(t==n[i].key){r=i;break}return n.splice(r,1)[0]},removeTop:function(){return n.splice(n.length-1,1)[0]},length:function(){return n.length}}}}}).directive("modalBackdrop",["$timeout",function(n){function t(t){t.animate=!1;n(function(){t.animate=!0})}return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(n,i){return n.addClass(i.backdropClass),t}}}]).directive("modalWindow",["$modalStack","$q",function(n,t){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(n,t){return t.templateUrl||"template/modal/window.html"},link:function(i,r,u){r.addClass(u.windowClass||"");i.size=u.size;i.close=function(t){var i=n.getTop();i&&i.value.backdrop&&i.value.backdrop!="static"&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),n.dismiss(i.key,"backdrop click"))};i.$isRendered=!0;var f=t.defer();u.$observe("modalRender",function(n){n=="true"&&f.resolve()});f.promise.then(function(){var t,u;i.animate=!0;t=r[0].querySelectorAll("[autofocus]");t.length?t[0].focus():r[0].focus();u=n.getTop();u&&n.modalRendered(u.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(n,t){t.modalAnimation&&n.addClass(t.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(n,t,i,r,u){u(n.$parent,function(n){t.empty();t.append(n)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$$stackedMap",function(n,t,i,r,u,f){function c(){for(var t=-1,i=e.keys(),n=0;n<i.length;n++)e.get(i[n]).value.backdrop&&(t=n);return t}function a(n){var r=i.find("body").eq(0),t=e.get(n).value;e.remove(n);v(t.modalDomEl,t.modalScope,function(){r.toggleClass(l,e.length()>0);p()})}function p(){if(h&&c()==-1){var n=o;v(h,o,function(){n=null});h=undefined;o=undefined}}function v(i,r,f){function e(){e.done||(e.done=!0,i.remove(),r.$destroy(),f&&f())}if(r.animate=!1,i.attr("modal-animation")&&n.enabled())i.one("$animate:close",function(){u.$evalAsync(e)});else t(e)}function y(n,t,i){return!n.value.modalScope.$broadcast("modal.closing",t,i).defaultPrevented}var l="modal-open",h,o,e=f.createNew(),s={};return u.$watch(c,function(n){o&&(o.index=n)}),i.bind("keydown",function(n){var t;n.which===27&&(t=e.top(),t&&t.value.keyboard&&(n.preventDefault(),u.$apply(function(){s.dismiss(t.key,"escape key press")})))}),s.open=function(n,t){var p=i[0].activeElement,f,v,s,a,y;e.add(n,{deferred:t.deferred,renderDeferred:t.renderDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});f=i.find("body").eq(0);v=c();v>=0&&!h&&(o=u.$new(!0),o.index=v,s=angular.element('<div modal-backdrop="modal-backdrop"><\/div>'),s.attr("backdrop-class",t.backdropClass),t.animation&&s.attr("modal-animation","true"),h=r(s)(o),f.append(h));a=angular.element('<div modal-window="modal-window"><\/div>');a.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:e.length()-1,animate:"animate"}).html(t.content);t.animation&&a.attr("modal-animation","true");y=r(a)(t.scope);e.top().value.modalDomEl=y;e.top().value.modalOpener=p;f.append(y);f.addClass(l)},s.close=function(n,t){var i=e.get(n);return i&&y(i,t,!0)?(i.value.deferred.resolve(t),a(n),i.value.modalOpener.focus(),!0):!i},s.dismiss=function(n,t){var i=e.get(n);return i&&y(i,t,!1)?(i.value.deferred.reject(t),a(n),i.value.modalOpener.focus(),!0):!i},s.dismissAll=function(n){for(var t=this.getTop();t&&this.dismiss(t.key,n);)t=this.getTop()},s.getTop=function(){return e.top()},s.modalRendered=function(n){var t=e.get(n);t&&t.value.renderDeferred.resolve()},s}]).provider("$modal",function(){var n={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(t,i,r,u,f,e){function s(n){return n.template?r.when(n.template):u(angular.isFunction(n.templateUrl)?n.templateUrl():n.templateUrl)}function h(n){var i=[];return angular.forEach(n,function(n){(angular.isFunction(n)||angular.isArray(n))&&i.push(r.when(t.invoke(n)))}),i}var o={};return o.open=function(t){var o=r.defer(),c=r.defer(),a=r.defer(),u={result:o.promise,opened:c.promise,rendered:a.promise,close:function(n){return e.close(u,n)},dismiss:function(n){return e.dismiss(u,n)}},l;if(t=angular.extend({},n.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");return l=r.all([s(t)].concat(h(t.resolve))),l.then(function(n){var r=(t.scope||i).$new(),h,s,c;r.$close=u.close;r.$dismiss=u.dismiss;s={};c=1;t.controller&&(s.$scope=r,s.$modalInstance=u,angular.forEach(t.resolve,function(t,i){s[i]=n[c++]}),h=f(t.controller,s),t.controllerAs&&(r[t.controllerAs]=h));e.open(u,{scope:r,deferred:o,renderDeferred:a,content:n[0],animation:t.animation,backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size})},function(n){o.reject(n)}),l.then(function(){c.resolve(!0)},function(n){c.reject(n)}),u},o}]};return n});angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(n,t,i){var u=this,r={$setViewValue:angular.noop},f=t.numPages?i(t.numPages).assign:angular.noop;this.init=function(e,o){r=e;this.config=o;r.$render=function(){u.render()};t.itemsPerPage?n.$parent.$watch(i(t.itemsPerPage),function(t){u.itemsPerPage=parseInt(t,10);n.totalPages=u.calculateTotalPages()}):this.itemsPerPage=o.itemsPerPage;n.$watch("totalItems",function(){n.totalPages=u.calculateTotalPages()});n.$watch("totalPages",function(t){f(n.$parent,t);n.page>t?n.selectPage(t):r.$render()})};this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(n.totalItems/this.itemsPerPage);return Math.max(t||0,1)};this.render=function(){n.page=parseInt(r.$viewValue,10)||1};n.selectPage=function(t,i){n.page!==t&&t>0&&t<=n.totalPages&&(i&&i.target&&i.target.blur(),r.$setViewValue(t),r.$render())};n.getText=function(t){return n[t+"Text"]||u.config[t+"Text"]};n.noPrevious=function(){return n.page===1};n.noNext=function(){return n.page===n.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(n,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(i,r,u,f){function h(n,t,i){return{number:n,text:t,active:i}}function a(n,t){var f=[],i=1,r=t,o=angular.isDefined(e)&&e<t,u,c,l,a;for(o&&(s?(i=Math.max(n-Math.floor(e/2),1),r=i+e-1,r>t&&(r=t,i=r-e+1)):(i=(Math.ceil(n/e)-1)*e+1,r=Math.min(i+e-1,t))),u=i;u<=r;u++)c=h(u,u,u===n),f.push(c);return o&&!s&&(i>1&&(l=h(i-1,"...",!1),f.unshift(l)),r<t&&(a=h(r+1,"...",!1),f.push(a))),f}var o=f[0],c=f[1],e,s,l;c&&(e=angular.isDefined(u.maxSize)?i.$parent.$eval(u.maxSize):t.maxSize,s=angular.isDefined(u.rotate)?i.$parent.$eval(u.rotate):t.rotate,i.boundaryLinks=angular.isDefined(u.boundaryLinks)?i.$parent.$eval(u.boundaryLinks):t.boundaryLinks,i.directionLinks=angular.isDefined(u.directionLinks)?i.$parent.$eval(u.directionLinks):t.directionLinks,o.init(c,t),u.maxSize&&i.$parent.$watch(n(u.maxSize),function(n){e=parseInt(n,10);o.render()}),l=o.render,o.render=function(){l();i.page>0&&i.page<=i.totalPages&&(i.pages=a(i.page,i.totalPages))})}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(n){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,i,r,u){var e=u[0],f=u[1];f&&(t.align=angular.isDefined(r.align)?t.$parent.$eval(r.align):n.align,e.init(f,n))}}}]);angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function r(n){var t="-";return n.replace(/[A-Z]/g,function(n,i){return(i?t:"")+n.toLowerCase()})}var i={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur"},t={};this.options=function(n){angular.extend(t,n)};this.setTriggers=function(t){angular.extend(n,t)};this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(u,f,e,o,s,h){return function(u,c,l,a){function p(t){var i=t||a.trigger||l,r=n[i]||i;return{show:i,hide:r}}a=angular.extend({},i,t,a);var w=r(u),v=h.startSymbol(),y=h.endSymbol(),b="<div "+w+'-popup title="'+v+"title"+y+'" '+(a.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+y+'" ')+'placement="'+v+"placement"+y+'" popup-class="'+v+"popupClass"+y+'" animation="animation" is-open="isOpen"origin-scope="origScope" ><\/div>';return{restrict:"EA",compile:function(){var n=f(b);return function(t,i,r){function ot(){f.isOpen?tt():nt()}function nt(){(!et||t.$eval(r[c+"Enable"]))&&(ht(),f.popupDelay?w||(w=e(ft,f.popupDelay,!1),w.then(function(n){n()})):ft()())}function tt(){t.$apply(function(){k()})}function ft(){return(w=null,y&&(e.cancel(y),y=null),!(a.useContentExp?f.contentExp():f.content))?angular.noop:(st(),h.css({top:0,left:0,display:"block"}),f.$digest(),g(),f.isOpen=!0,f.$apply(),g)}function k(){f.isOpen=!1;e.cancel(w);w=null;f.animation?y||(y=e(d,500)):d()}function st(){h&&d();v=f.$new();h=n(v,function(n){b?o.find("body").append(n):i.after(n)});v.$watch(function(){e(g,0,!1)});a.useContentExp&&v.$watch("contentExp()",function(n){!n&&f.isOpen&&k()})}function d(){y=null;h&&(h.remove(),h=null);v&&(v.$destroy(),v=null)}function ht(){ct();lt();at()}function ct(){f.popupClass=r[c+"Class"]}function lt(){var n=r[c+"Placement"];f.placement=angular.isDefined(n)?n:a.placement}function at(){var t=r[c+"PopupDelay"],n=parseInt(t,10);f.popupDelay=isNaN(n)?a.popupDelay:n}function vt(){var n=r[c+"Trigger"];it();l=p(n);l.show===l.hide?i.bind(l.show,ot):(i.bind(l.show,nt),i.bind(l.hide,tt))}var h,v,y,w,b=angular.isDefined(a.appendToBody)?a.appendToBody:!1,l=p(undefined),et=angular.isDefined(r[c+"Enable"]),f=t.$new(!0),g=function(){if(h){var n=s.positionElements(i,h,f.placement,b);n.top+="px";n.left+="px";h.css(n)}},it,rt,ut;f.origScope=t;f.isOpen=!1;f.contentExp=function(){return t.$eval(r[u])};a.useContentExp||r.$observe(u,function(n){f.content=n;!n&&f.isOpen&&k()});r.$observe("disabled",function(n){n&&f.isOpen&&k()});r.$observe(c+"Title",function(n){f.title=n});it=function(){i.unbind(l.show,nt);i.unbind(l.hide,tt)};vt();rt=t.$eval(r[c+"Animation"]);f.animation=angular.isDefined(rt)?!!rt:a.animation;ut=t.$eval(r[c+"AppendToBody"]);b=angular.isDefined(ut)?ut:b;b&&t.$on("$locationChangeSuccess",function(){f.isOpen&&k()});t.$on("$destroy",function(){e.cancel(y);e.cancel(w);it();d();f=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(n,t,i,r){return{link:function(u,f,e){var a=u.$eval(e.tooltipTemplateTranscludeScope),l=0,o,s,h,c=function(){s&&(s.remove(),s=null);o&&(o.$destroy(),o=null);h&&(n.leave(h).then(function(){s=null}),s=h,h=null)};u.$watch(t.parseAsResourceUrl(e.tooltipTemplateTransclude),function(t){var e=++l;t?(r(t,!0).then(function(r){if(e===l){var u=a.$new(),s=r,v=i(s)(u,function(t){c();n.enter(t,f)});o=u;h=v;o.$emit("$includeContentLoaded",t)}},function(){e===l&&(c(),u.$emit("$includeContentError",t))}),u.$emit("$includeContentRequested",t)):c()});u.$on("$destroy",c)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(n,t,i){n.placement&&t.addClass(n.placement);n.popupClass&&t.addClass(n.popupClass);n.animation()&&t.addClass(i.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(n){return n("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(n){return n("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(n){return n("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(n,t,i){return t||i.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),n("tooltipHtmlUnsafe","tooltip","mouseenter")}]);angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(n){return n("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(n){return n("popover","popover","click")}]);angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(n,t,i){var r=this,u=angular.isDefined(t.animate)?n.$parent.$eval(t.animate):i.animate;this.bars=[];n.max=angular.isDefined(n.max)?n.max:i.max;this.addBar=function(t,i){u||i.css({transition:"none"});this.bars.push(t);t.$watch("value",function(i){t.percent=+(100*i/n.max).toFixed(2)});t.$on("$destroy",function(){i=null;r.removeBar(t)})};this.removeBar=function(n){this.bars.splice(this.bars.indexOf(n),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(n,t,i,r){r.addBar(n,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(n,t,i,r){r.addBar(n,angular.element(t.children()[0]))}}});angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(n,t,i){var r={$setViewValue:angular.noop};this.init=function(u){r=u;r.$render=this.render;r.$formatters.push(function(n){return angular.isNumber(n)&&n<<0!==n&&(n=Math.round(n)),n});this.stateOn=angular.isDefined(t.stateOn)?n.$parent.$eval(t.stateOn):i.stateOn;this.stateOff=angular.isDefined(t.stateOff)?n.$parent.$eval(t.stateOff):i.stateOff;var f=angular.isDefined(t.ratingStates)?n.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?n.$parent.$eval(t.max):i.max);n.range=this.buildTemplateObjects(f)};this.buildTemplateObjects=function(n){for(var t=0,i=n.length;t<i;t++)n[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff},n[t]);return n};n.rate=function(t){!n.readonly&&t>=0&&t<=n.range.length&&(r.$setViewValue(t),r.$render())};n.enter=function(t){n.readonly||(n.value=t);n.onHover({value:t})};n.reset=function(){n.value=r.$viewValue;n.onLeave()};n.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),n.rate(n.value+(t.which===38||t.which===39?1:-1)))};this.render=function(){n.value=r.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(n,t,i,r){var u=r[0],f=r[1];u.init(f)}}});angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(n){var i=this,t=i.tabs=n.tabs=[],r;i.select=function(n){angular.forEach(t,function(t){t.active&&t!==n&&(t.active=!1,t.onDeselect())});n.active=!0;n.onSelect()};i.addTab=function(n){t.push(n);t.length===1&&n.active!==!1?n.active=!0:n.active?i.select(n):n.active=!1};i.removeTab=function(n){var u=t.indexOf(n),f;n.active&&t.length>1&&!r&&(f=u==t.length-1?u-1:u+1,i.select(t[f]));t.splice(u,1)};n.$on("$destroy",function(){r=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(n,t,i){n.vertical=angular.isDefined(i.vertical)?n.$parent.$eval(i.vertical):!1;n.justified=angular.isDefined(i.justified)?n.$parent.$eval(i.justified):!1}}}).directive("tab",["$parse","$log",function(n,t){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(i,r,u){return function(i,r,f,e){i.$watch("active",function(n){n&&e.select(i)});i.disabled=!1;f.disable&&i.$parent.$watch(n(f.disable),function(n){i.disabled=!!n});f.disabled&&(t.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),i.$parent.$watch(n(f.disabled),function(n){i.disabled=!!n}));i.select=function(){i.disabled||(i.active=!0)};e.addTab(i);i.$on("$destroy",function(){e.removeTab(i)});i.$transcludeFn=u}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(n,t){n.$watch("headingElement",function(n){n&&(t.html(""),t.append(n))})}}}]).directive("tabContentTransclude",function(){function n(n){return n.tagName&&(n.hasAttribute("tab-heading")||n.hasAttribute("data-tab-heading")||n.tagName.toLowerCase()==="tab-heading"||n.tagName.toLowerCase()==="data-tab-heading")}return{restrict:"A",require:"^tabset",link:function(t,i,r){var u=t.$eval(r.tabContentTransclude);u.$transcludeFn(u.$parent,function(t){angular.forEach(t,function(t){n(t)?u.headingElement=t:i.append(t)})})}}});angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(n,t,i,r,u,f){function p(){var t=parseInt(n.hours,10),i=n.showMeridian?t>0&&t<13:t>=0&&t<24;return i?(n.showMeridian&&(t===12&&(t=0),n.meridian===v[1]&&(t=t+12)),t):undefined}function w(){var t=parseInt(n.minutes,10);return t>=0&&t<60?t:undefined}function l(n){return angular.isDefined(n)&&n.toString().length<2?"0"+n:n.toString()}function a(n){b();o.$setViewValue(new Date(e));y(n)}function b(){o.$setValidity("time",!0);n.invalidHours=!1;n.invalidMinutes=!1}function y(t){var i=e.getHours(),r=e.getMinutes();n.showMeridian&&(i=i===0||i===12?12:i%12);n.hours=t==="h"?i:l(i);t!=="m"&&(n.minutes=l(r));n.meridian=e.getHours()<12?v[0]:v[1]}function s(n){var t=new Date(e.getTime()+n*6e4);e.setHours(t.getHours(),t.getMinutes());a()}var e=new Date,o={$setViewValue:angular.noop},v=angular.isDefined(t.meridians)?n.$parent.$eval(t.meridians):f.meridians||u.DATETIME_FORMATS.AMPMS,h,c;this.init=function(i,r){var s;o=i;o.$render=this.render;o.$formatters.unshift(function(n){return n?new Date(n):null});var u=r.eq(0),e=r.eq(1),h=angular.isDefined(t.mousewheel)?n.$parent.$eval(t.mousewheel):f.mousewheel;h&&this.setupMousewheelEvents(u,e);s=angular.isDefined(t.arrowkeys)?n.$parent.$eval(t.arrowkeys):f.arrowkeys;s&&this.setupArrowkeyEvents(u,e);n.readonlyInput=angular.isDefined(t.readonlyInput)?n.$parent.$eval(t.readonlyInput):f.readonlyInput;this.setupInputEvents(u,e)};h=f.hourStep;t.hourStep&&n.$parent.$watch(i(t.hourStep),function(n){h=parseInt(n,10)});c=f.minuteStep;t.minuteStep&&n.$parent.$watch(i(t.minuteStep),function(n){c=parseInt(n,10)});n.showMeridian=f.showMeridian;t.showMeridian&&n.$parent.$watch(i(t.showMeridian),function(t){if(n.showMeridian=!!t,o.$error.time){var i=p(),r=w();angular.isDefined(i)&&angular.isDefined(r)&&(e.setHours(i),a())}else y()});this.setupMousewheelEvents=function(t,i){var r=function(n){n.originalEvent&&(n=n.originalEvent);var t=n.wheelDelta?n.wheelDelta:-n.deltaY;return n.detail||t>0};t.bind("mousewheel wheel",function(t){n.$apply(r(t)?n.incrementHours():n.decrementHours());t.preventDefault()});i.bind("mousewheel wheel",function(t){n.$apply(r(t)?n.incrementMinutes():n.decrementMinutes());t.preventDefault()})};this.setupArrowkeyEvents=function(t,i){t.bind("keydown",function(t){t.which===38?(t.preventDefault(),n.incrementHours(),n.$apply()):t.which===40&&(t.preventDefault(),n.decrementHours(),n.$apply())});i.bind("keydown",function(t){t.which===38?(t.preventDefault(),n.incrementMinutes(),n.$apply()):t.which===40&&(t.preventDefault(),n.decrementMinutes(),n.$apply())})};this.setupInputEvents=function(t,i){if(n.readonlyInput){n.updateHours=angular.noop;n.updateMinutes=angular.noop;return}var r=function(t,i){o.$setViewValue(null);o.$setValidity("time",!1);angular.isDefined(t)&&(n.invalidHours=t);angular.isDefined(i)&&(n.invalidMinutes=i)};n.updateHours=function(){var n=p();angular.isDefined(n)?(e.setHours(n),a("h")):r(!0)};t.bind("blur",function(){!n.invalidHours&&n.hours<10&&n.$apply(function(){n.hours=l(n.hours)})});n.updateMinutes=function(){var n=w();angular.isDefined(n)?(e.setMinutes(n),a("m")):r(undefined,!0)};i.bind("blur",function(){!n.invalidMinutes&&n.minutes<10&&n.$apply(function(){n.minutes=l(n.minutes)})})};this.render=function(){var n=o.$viewValue;isNaN(n)?(o.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(n&&(e=n),b(),y())};n.incrementHours=function(){s(h*60)};n.decrementHours=function(){s(-h*60)};n.incrementMinutes=function(){s(c)};n.decrementMinutes=function(){s(-c)};n.toggleMeridian=function(){s(720*(e.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(n,t,i,r){var f=r[0],u=r[1];u&&f.init(u,t.find("input"))}}});angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(n,t,i,r,u){function e(n){for(var t in n)if(o.style[t]!==undefined)return n[t]}u||r.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var f=function(r,u,e){e=e||{};var s=n.defer(),o=f[e.animation?"animationEndEventName":"transitionEndEventName"],h=function(){i.$apply(function(){r.unbind(o,h);s.resolve(r)})};return o&&r.bind(o,h),t(function(){angular.isString(u)?r.addClass(u):angular.isFunction(u)?u(r):angular.isObject(u)&&r.css(u);o||s.resolve(r)}),s.promise.cancel=function(){o&&r.unbind(o,h);s.reject("Transition cancelled")},s.promise},o=document.createElement("trans");return f.transitionEndEventName=e({WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}),f.animationEndEventName=e({WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"}),f}]);angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(n){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(i){var r=i.match(t);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+i+'".');return{itemName:r[3],source:n(r[4]),viewMapper:n(r[2]||r[1]),modelMapper:n(r[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(n,t,i,r,u,f,e){var o=[9,13,27,38,40];return{require:"ngModel",link:function(s,h,c,l){var ht=s.$eval(c.typeaheadMinLength)||1,ft=s.$eval(c.typeaheadWaitMs)||0,et=s.$eval(c.typeaheadEditable)!==!1,w=t(c.typeaheadLoading).assign||angular.noop,ct=t(c.typeaheadOnSelect),ot=c.typeaheadInputFormatter?t(c.typeaheadInputFormatter):undefined,d=c.typeaheadAppendToBody?s.$eval(c.typeaheadAppendToBody):!1,lt=s.$eval(c.typeaheadFocusFirst)!==!1,at=t(c.ngModel).assign,v=e.parse(c.typeahead),g,a=s.$new(),b,p,y,nt,tt,it,st,rt,ut,k;s.$on("$destroy",function(){a.$destroy()});b="typeahead-"+a.$id+"-"+Math.floor(Math.random()*1e4);h.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":b});p=angular.element("<div typeahead-popup><\/div>");p.attr({id:b,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"});angular.isDefined(c.typeaheadTemplateUrl)&&p.attr("template-url",c.typeaheadTemplateUrl);y=function(){a.matches=[];a.activeIdx=-1;h.attr("aria-expanded",!1)};nt=function(n){return b+"-option-"+n};a.$watch("activeIdx",function(n){n<0?h.removeAttr("aria-activedescendant"):h.attr("aria-activedescendant",nt(n))});tt=function(n){var t={$viewValue:n};w(s,!0);i.when(v.source(s,t)).then(function(i){var u=n===l.$viewValue,r;if(u&&g)if(i&&i.length>0){for(a.activeIdx=lt?0:-1,a.matches.length=0,r=0;r<i.length;r++)t[v.itemName]=i[r],a.matches.push({id:nt(r),label:v.viewMapper(a,t),model:i[r]});a.query=n;a.position=d?f.offset(h):f.position(h);a.position.top=a.position.top+h.prop("offsetHeight");h.attr("aria-expanded",!0)}else y();u&&w(s,!1)},function(){y();w(s,!1)})};y();a.query=undefined;st=function(n){it=r(function(){tt(n)},ft)};rt=function(){it&&r.cancel(it)};l.$parsers.unshift(function(n){return g=!0,n&&n.length>=ht?ft>0?(rt(),st(n)):tt(n):(w(s,!1),rt(),y()),et?n:n?(l.$setValidity("editable",!1),undefined):(l.$setValidity("editable",!0),n)});l.$formatters.push(function(n){var i,r,t={};return et||l.$setValidity("editable",!0),ot?(t.$model=n,ot(s,t)):(t[v.itemName]=n,i=v.viewMapper(s,t),t[v.itemName]=undefined,r=v.viewMapper(s,t),i!==r?i:n)});a.select=function(n){var t={},i,u;t[v.itemName]=u=a.matches[n].model;i=v.modelMapper(s,t);at(s,i);l.$setValidity("editable",!0);l.$setValidity("parse",!0);ct(s,{$item:u,$model:i,$label:v.viewMapper(s,t)});y();r(function(){h[0].focus()},0,!1)};h.bind("keydown",function(n){a.matches.length!==0&&o.indexOf(n.which)!==-1&&(a.activeIdx!=-1||n.which!==13&&n.which!==9)&&(n.preventDefault(),n.which===40?(a.activeIdx=(a.activeIdx+1)%a.matches.length,a.$digest()):n.which===38?(a.activeIdx=(a.activeIdx>0?a.activeIdx:a.matches.length)-1,a.$digest()):n.which===13||n.which===9?a.$apply(function(){a.select(a.activeIdx)}):n.which===27&&(n.stopPropagation(),y(),a.$digest()))});h.bind("blur",function(){g=!1});ut=function(n){h[0]!==n.target&&(y(),a.$digest())};u.bind("click",ut);s.$on("$destroy",function(){u.unbind("click",ut);d&&k.remove();p.remove()});k=n(p)(a);d?u.find("body").append(k):h.after(k)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(n,t,i){n.templateUrl=i.templateUrl;n.isOpen=function(){return n.matches.length>0};n.isActive=function(t){return n.active==t};n.selectActive=function(t){n.active=t};n.selectMatch=function(t){n.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(n,t,i){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(r,u,f){var e=i(f.templateUrl)(r.$parent)||"template/typeahead/typeahead-match.html";n(e).then(function(n){t(n.trim())(r,function(n){u.replaceWith(n)})})}}}]).filter("typeaheadHighlight",function(){function n(n){return n.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,i){return i?(""+t).replace(new RegExp(n(i),"gi"),"<strong>$&<\/strong>"):t}});angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(n){n.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href="javascript:void(0)" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}<\/span><\/a>\n    <\/h4>\n  <\/div>\n  <div class="panel-collapse collapse" collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude><\/div>\n  <\/div>\n<\/div>\n')}]);angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(n){n.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude><\/div>')}]);angular.module("template/alert/alert.html",[]).run(["$templateCache",function(n){n.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;<\/span>\n        <span class="sr-only">Close<\/span>\n    <\/button>\n    <div ng-transclude><\/div>\n<\/div>\n')}]);angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(n){n.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides | orderBy:\'index\' track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"><\/li>\n    <\/ol>\n    <div class="carousel-inner" ng-transclude><\/div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"><\/span><\/a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"><\/span><\/a>\n<\/div>\n')}]);angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(n){n.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude><\/div>\n')}]);angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(n){n.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"><\/daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"><\/monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"><\/yearpicker>\n<\/div>')}]);angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(n){n.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"><\/i><\/button><\/th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}<\/strong><\/button><\/th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"><\/i><\/button><\/th>\n    <\/tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"><\/th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}<\/small><\/th>\n    <\/tr>\n  <\/thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}<\/em><\/td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}" ng-class="dt.customClass">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}<\/span><\/button>\n      <\/td>\n    <\/tr>\n  <\/tbody>\n<\/table>\n')}]);angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(n){n.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"><\/i><\/button><\/th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}<\/strong><\/button><\/th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"><\/i><\/button><\/th>\n    <\/tr>\n  <\/thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}<\/span><\/button>\n      <\/td>\n    <\/tr>\n  <\/tbody>\n<\/table>\n')}]);angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(n){n.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n\t<li ng-transclude><\/li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}<\/button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}<\/button>\n\t\t<\/span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}<\/button>\n\t<\/li>\n<\/ul>\n')}]);angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(n){n.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"><\/i><\/button><\/th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}<\/strong><\/button><\/th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"><\/i><\/button><\/th>\n    <\/tr>\n  <\/thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}<\/span><\/button>\n      <\/td>\n    <\/tr>\n  <\/tbody>\n<\/table>\n')}]);angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(n){n.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n><\/div>\n')}]);angular.module("template/modal/window.html",[]).run(["$templateCache",function(n){n.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n\tng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude><\/div><\/div>\n<\/div>\n')}]);angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(n){n.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{getText(\'previous\')}}<\/a><\/li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1, $event)">{{getText(\'next\')}}<\/a><\/li>\n<\/ul>')}]);angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(n){n.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1, $event)">{{getText(\'first\')}}<\/a><\/li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1, $event)">{{getText(\'previous\')}}<\/a><\/li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number, $event)">{{page.text}}<\/a><\/li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1, $event)">{{getText(\'next\')}}<\/a><\/li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages, $event)">{{getText(\'last\')}}<\/a><\/li>\n<\/ul>')}]);angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(n){n.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"><\/div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"><\/div>\n<\/div>\n')}]);angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(n){n.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"><\/div>\n  <div class="tooltip-inner" bind-html-unsafe="content"><\/div>\n<\/div>\n')}]);angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(n){n.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"><\/div>\n  <div class="tooltip-inner" ng-bind="content"><\/div>\n<\/div>\n')}]);angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(n){n.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"><\/div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"><\/div>\n<\/div>\n')}]);angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(n){n.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"><\/div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"><\/h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"><\/div>\n  <\/div>\n<\/div>\n')}]);angular.module("template/popover/popover-window.html",[]).run(["$templateCache",function(n){n.put("template/popover/popover-window.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen, fade: animation }">\n  <div class="arrow"><\/div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"><\/h3>\n      <div class="popover-content" tooltip-template-transclude><\/div>\n  <\/div>\n<\/div>\n')}]);angular.module("template/popover/popover.html",[]).run(["$templateCache",function(n){n.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"><\/div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"><\/h3>\n      <div class="popover-content" ng-bind="content"><\/div>\n  <\/div>\n<\/div>\n')}]);angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(n){n.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude><\/div>\n')}]);angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(n){n.put("template/progressbar/progress.html",'<div class="progress" ng-transclude><\/div>')}]);angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(n){n.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude><\/div>\n<\/div>\n')}]);angular.module("template/rating/rating.html",[]).run(["$templateCache",function(n){n.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})<\/span>\n    <\/i>\n<\/span>')}]);angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(n){n.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}<\/a>\n<\/li>\n')}]);angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(n){n.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude><\/ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    <\/div>\n  <\/div>\n<\/div>\n')}]);angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(n){n.put("template/timepicker/timepicker.html",'<table>\n\t<tbody>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"><\/span><\/a><\/td>\n\t\t\t<td>&nbsp;<\/td>\n\t\t\t<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"><\/span><\/a><\/td>\n\t\t\t<td ng-show="showMeridian"><\/td>\n\t\t<\/tr>\n\t\t<tr>\n\t\t\t<td class="form-group" ng-class="{\'has-error\': invalidHours}">\n\t\t\t\t<input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t<\/td>\n\t\t\t<td>:<\/td>\n\t\t\t<td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n\t\t\t\t<input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t<\/td>\n\t\t\t<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}<\/button><\/td>\n\t\t<\/tr>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"><\/span><\/a><\/td>\n\t\t\t<td>&nbsp;<\/td>\n\t\t\t<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"><\/span><\/a><\/td>\n\t\t\t<td ng-show="showMeridian"><\/td>\n\t\t<\/tr>\n\t<\/tbody>\n<\/table>\n')}]);angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(n){n.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"><\/a>')}]);angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(n){n.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"><\/div>\n    <\/li>\n<\/ul>\n')}]);angular.$$csp()||angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}<\/style>');
/*! angular-google-maps 2.1.0-X.6 2015-03-16
 *  AngularJS directives for Google Maps
 *  git: https://github.com/angular-ui/angular-google-maps.git
 */
(function(n,t,i){"use strict";(function(){t.module("uiGmapgoogle-maps.providers",[]);t.module("uiGmapgoogle-maps.wrapped",[]);t.module("uiGmapgoogle-maps.extensions",["uiGmapgoogle-maps.wrapped","uiGmapgoogle-maps.providers"]);t.module("uiGmapgoogle-maps.directives.api.utils",["uiGmapgoogle-maps.extensions"]);t.module("uiGmapgoogle-maps.directives.api.managers",[]);t.module("uiGmapgoogle-maps.directives.api.options",["uiGmapgoogle-maps.directives.api.utils"]);t.module("uiGmapgoogle-maps.directives.api.options.builders",[]);t.module("uiGmapgoogle-maps.directives.api.models.child",["uiGmapgoogle-maps.directives.api.utils","uiGmapgoogle-maps.directives.api.options","uiGmapgoogle-maps.directives.api.options.builders"]);t.module("uiGmapgoogle-maps.directives.api.models.parent",["uiGmapgoogle-maps.directives.api.managers","uiGmapgoogle-maps.directives.api.models.child","uiGmapgoogle-maps.providers"]);t.module("uiGmapgoogle-maps.directives.api",["uiGmapgoogle-maps.directives.api.models.parent"]);t.module("uiGmapgoogle-maps",["uiGmapgoogle-maps.directives.api","uiGmapgoogle-maps.providers"])}).call(this),function(){t.module("uiGmapgoogle-maps.providers").factory("uiGmapMapScriptLoader",["$q","uiGmapuuid",function(i,r){var o,f,e,u;return u=void 0,o=function(n){return n.china?"http://maps.google.cn/maps/api/js?":"https://maps.googleapis.com/maps/api/js?"},f=function(n){var i,t;return i=_.map(n,function(n,t){return t+"="+n}),u&&document.getElementById(u).remove(),i=i.join("&"),t=document.createElement("script"),t.id=u="ui_gmap_map_load_"+r.generate(),t.type="text/javascript",t.src=o(n)+i,document.body.appendChild(t)},e=function(){return t.isDefined(n.google)&&t.isDefined(n.google.maps)},{load:function(t){var r,u;return(r=i.defer(),e())?(r.resolve(n.google.maps),r.promise):(u=t.callback="onGoogleMapsReady"+Math.round(Math.random()*1e3),n[u]=function(){n[u]=null;r.resolve(n.google.maps)},n.navigator.connection&&n.Connection&&n.navigator.connection.type===n.Connection.NONE?document.addEventListener("online",function(){if(!e())return f(t)}):f(t),r.promise)}}}]).provider("uiGmapGoogleMapApi",function(){return this.options={china:!1,v:"3.17",libraries:"",language:"en",sensor:"false"},this.configure=function(n){t.extend(this.options,n)},this.$get=["uiGmapMapScriptLoader",function(n){return function(t){return t.load(n.options)}}(this)],this})}.call(this),function(){var i=function(n,t){return function(){return n.apply(t,arguments)}},r={}.hasOwnProperty,u=function(n,t){function u(){this.constructor=n}for(var i in t)r.call(t,i)&&(n[i]=t[i]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n};t.module("uiGmapgoogle-maps.extensions").service("uiGmapExtendGWin",function(){return{init:_.once(function(){var t;if((google||(typeof google!="undefined"&&google!==null?google.maps:void 0)||google.maps.InfoWindow!=null))return google.maps.InfoWindow.prototype._open=google.maps.InfoWindow.prototype.open,google.maps.InfoWindow.prototype._close=google.maps.InfoWindow.prototype.close,google.maps.InfoWindow.prototype._isOpen=!1,google.maps.InfoWindow.prototype.open=function(n,t,i){i==null&&(this._isOpen=!0,this._open(n,t,!0))},google.maps.InfoWindow.prototype.close=function(n){n==null&&(this._isOpen=!1,this._close(!0))},google.maps.InfoWindow.prototype.isOpen=function(n){return n==null&&(n=void 0),n==null?this._isOpen:this._isOpen=n},n.InfoBox&&(n.InfoBox.prototype._open=n.InfoBox.prototype.open,n.InfoBox.prototype._close=n.InfoBox.prototype.close,n.InfoBox.prototype._isOpen=!1,n.InfoBox.prototype.open=function(n,t){this._isOpen=!0;this._open(n,t)},n.InfoBox.prototype.close=function(){this._isOpen=!1;this._close()},n.InfoBox.prototype.isOpen=function(n){return n==null&&(n=void 0),n==null?this._isOpen:this._isOpen=n},t=function(t){function r(t){this.getOrigCloseBoxImg_=i(this.getOrigCloseBoxImg_,this);this.getCloseBoxDiv_=i(this.getCloseBoxDiv_,this);var r;r=new n.InfoBox(t);_.extend(this,r);t.closeBoxDiv!=null&&(this.closeBoxDiv_=t.closeBoxDiv)}return u(r,t),r.prototype.getCloseBoxDiv_=function(){return this.closeBoxDiv_},r.prototype.getCloseBoxImg_=function(){var n,t;return n=this.getCloseBoxDiv_(),t=this.getOrigCloseBoxImg_(),n||t},r.prototype.getOrigCloseBoxImg_=function(){var n;return n="",this.closeBoxURL_!==""&&(n="<img",n+=" src='"+this.closeBoxURL_+"'",n+=" align=right",n+=" style='",n+=" position: relative;",n+=" cursor: pointer;",n+=" margin: "+this.closeBoxMargin_+";",n+="'>"),n},r}(n.InfoBox),n.uiGmapInfoBox=t),n.MarkerLabel_?n.MarkerLabel_.prototype.setContent=function(){var n;(n=this.marker_.get("labelContent"),n&&!_.isEqual(this.oldContent,n))&&(typeof(n!=null?n.nodeType:void 0)=="undefined"?(this.labelDiv_.innerHTML=n,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML,this.oldContent=n):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(n),n=n.cloneNode(!0),this.labelDiv_.innerHTML="",this.eventDiv_.appendChild(n),this.oldContent=n))}:void 0})}})}.call(this),function(){t.module("uiGmapgoogle-maps.extensions").service("uiGmapLodash",function(){return this.intersectionObjects=function(n,t,i){var r;return i==null&&(i=void 0),r=_.map(n,function(){return function(n){return _.find(t,function(t){return i!=null?i(n,t):_.isEqual(n,t)})}}(this)),_.filter(r,function(n){return n!=null})},this.containsObject=_.includeObject=function(n,t,i){return(i==null&&(i=void 0),n===null)?!1:_.any(n,function(){return function(n){return i!=null?i(n,t):_.isEqual(n,t)}}(this))},this.differenceObjects=function(n,t,i){return i==null&&(i=void 0),_.filter(n,function(n){return function(r){return!n.containsObject(t,r,i)}}(this))},this.withoutObjects=this.differenceObjects,this.indexOfObject=function(n,t,i,r){var u,f;if(n==null)return-1;if(u=0,f=n.length,r)if(typeof r=="number")u=r<0?Math.max(0,f+r):r;else return u=_.sortedIndex(n,t),n[u]===t?u:-1;while(u<f){if(i!=null){if(i(n[u],t))return u}else if(_.isEqual(n[u],t))return u;u++}return-1},this["extends"]=function(n){return _.reduce(n,function(n,t){return _.extend(n,t)},{})},this.isNullOrUndefined=function(n){return _.isNull(n||_.isUndefined(n))},this})}.call(this),function(){t.module("uiGmapgoogle-maps.extensions").factory("uiGmapString",function(){return function(n){return this.contains=function(t,i){return n.indexOf(t,i)!==-1},this}})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmap_sync",[function(){return{fakePromise:function(){var n;return n=void 0,{then:function(t){return n=t},resolve:function(){return n.apply(void 0,arguments)}}}}}]).service("uiGmap_async",["$timeout","uiGmapPromise","uiGmapLogger","$q","uiGmapDataStructures","uiGmapGmapUtil",function(n,i,r,u,f,e){var b,k,d,c,l,g,a,s,v,y,p,w,nt,tt,it,o,rt,h,ut;return o=i.promiseTypes,v=i.isInProgress,it=i.promiseStatus,b=i.ExposedPromise,d=i.SniffedPromise,y=function(n,t){var i;return i=n.promise(),i.promiseType=n.promiseType,i.$$state&&r.debug("promiseType: "+i.promiseType+", state: "+it(i.$$state.status)),i.cancelCb=t,i},g=function(n,t){return n.promiseType===o.create&&t.promiseType!==o["delete"]&&t.promiseType!==o.init?(r.debug("lastPromise.promiseType "+t.promiseType+", newPromiseType: "+n.promiseType+", SKIPPED MUST COME AFTER DELETE ONLY"),!0):!1},tt=function(n,t,i){var u;if(t.promiseType===o["delete"]&&i.promiseType!==o["delete"]&&i.cancelCb!=null&&_.isFunction(i.cancelCb)&&v(i)&&(r.debug("promiseType: "+t.promiseType+", CANCELING LAST PROMISE type: "+i.promiseType),i.cancelCb("cancel safe"),u=n.peek(),u!=null&&v(u)))return u.hasOwnProperty("cancelCb")&&_.isFunction(u.cancelCb)?(r.debug("promiseType: "+u.promiseType+", CANCELING FIRST PROMISE type: "+u.promiseType),u.cancelCb("cancel safe")):r.warn("first promise was not cancelable")},k=function(n,t,i){var r,u;return n.existingPieces?(r=_.last(n.existingPieces._content),g(t,r))?void 0:(tt(n.existingPieces,t,r),u=b(r["finally"](function(){return y(t,i)})),u.cancelCb=i,u.promiseType=t.promiseType,n.existingPieces.enqueue(u),r["finally"](function(){return n.existingPieces.dequeue()})):(n.existingPieces=new f.Queue,n.existingPieces.enqueue(y(t,i)))},w=function(n,t,i,u,f){var e;return i==null&&(i=""),e=function(n){return r.debug(""+n+": "+n),u(n)},k(n,d(f,t),e)},c=80,s={value:null},rt=function(n,t,i){var r;try{return n.apply(t,i)}catch(u){return r=u,s.value=r,s}},p=function(n,t,i,u){var f,e;return(e=rt(n,t,u),e===s&&(f="error within chunking iterator: "+s.value,r.error(f),i.reject(f)),e==="cancel safe")?!1:!0},ut=function(n,t,i){var r,u;return(u=n===t,r=t[i],u)?r:n[r]},h=function(n,i,r,u){var f;return(t.isArray(n)?f=n:(f=i?i:Object.keys(_.omit(n,["length","forEach","map"])),i=f),u==null&&(u=r),t.isArray(f)&&(f===void 0||(f!=null?f.length:void 0)<=0)&&u!==r)?r():u(f,i)},l=function(i,r,u,f,e,o,s,c){return h(i,c,function(h,c){var w,a,v,y;for(w=r&&r<h.length?r:h.length,a=s,v=!0;v&&w--&&a<(h?h.length:a+1);)y=ut(i,h,a),v=t.isFunction(y)?!0:p(f,void 0,o,[y,a]),++a;if(h)if(v&&a<h.length){if(s=a,r)return e!=null&&_.isFunction(e)&&p(e,void 0,o,[]),n(function(){return l(i,r,u,f,e,o,s,c)},u,!1)}else return o.resolve()})},a=function(n,t,u,f,e,o,s){var y,a,v;return(u==null&&(u=c),e==null&&(e=0),o==null&&(o=1),v=void 0,a=i.defer(),v=a.promise,!o)?(y="pause (delay) must be set from _async!",r.error(y),a.reject(y),v):h(n,s,function(){return a.resolve(),v},function(i,r){return l(n,u,o,t,f,a,e,r),v})},nt=function(n,t,r,u,f,e,o){var s;return s=[],h(n,o,function(){return i.resolve(s)},function(i,o){return a(n,function(n){return s.push(t(n))},r,u,f,e,o).then(function(){return s})})},{each:a,map:nt,managePromiseQueue:w,promiseLock:w,defaultChunkSize:c,chunkSizeFrom:function(n,t){return t==null&&(t=void 0),_.isNumber(n)&&(t=n),(e.isFalse(n)||n===!1)&&(t=!1),t}}}])}.call(this),function(){var n=[].indexOf||function(n){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===n)return t;return-1};t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapBaseObject",function(){var t;return t=["extended","included"],function(){function i(){}return i.extend=function(i){var r,u,f;for(r in i)u=i[r],n.call(t,r)<0&&(this[r]=u);return(f=i.extended)!=null&&f.apply(this),this},i.include=function(i){var r,u,f;for(r in i)u=i[r],n.call(t,r)<0&&(this.prototype[r]=u);return(f=i.included)!=null&&f.apply(this),this},i}()})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapChildEvents",function(){return{onChildCreation:function(){}}})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapCtrlHandle",["$q",function(n){var t;return t={handle:function(i){return i.$on("$destroy",function(){return t.handle(i)}),i.deferred=n.defer(),{getScope:function(){return i}}},mapPromise:function(n,t){var i;return i=t.getScope(),i.deferred.promise.then(function(t){return n.map=t}),i.deferred.promise}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapEventsHelper",["uiGmapLogger",function(){var i,n;return n=function(n){return t.isDefined(n.events)&&n.events!=null&&t.isObject(n.events)},i=function(t,i){return n(t)?t:n(i)?i:void 0},{setEvents:function(n,r,u,f){var e;return e=i(r,u),e!=null?_.compact(_.map(e.events,function(i,o){var s;return f&&(s=_(f).contains(o)),e.events.hasOwnProperty(o)&&t.isFunction(e.events[o])&&!s?google.maps.event.addListener(n,o,function(){return r.$evalAsync||(r.$evalAsync=function(){}),r.$evalAsync(i.apply(r,[n,o,u,arguments]))}):void 0})):void 0},removeEvents:function(n){if(n)return n.forEach(function(n){if(n)return google.maps.event.removeListener(n)})}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapFitHelper",["uiGmapLogger","uiGmap_async",function(){return{fit:function(n,t){var r,i;if(t&&n&&n.length>0&&(r=new google.maps.LatLngBounds,i=!1,n.forEach(function(){return function(n){if(n)return i||(i=!0),r.extend(n.getPosition())}}(this)),i))return t.fitBounds(r)}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapGmapUtil",["uiGmapLogger","$compile",function(n,i){var u,f,e,s,o,r;return r=function(n,t,i){return n===t||i.indexOf(n)!==-1},o=function(n){return r(n,!1,["false","FALSE",0,"n","N","no","NO"])},f=function(n){return Array.isArray(n)&&n.length===2?n[1]:t.isDefined(n.type)&&n.type==="Point"?n.coordinates[1]:n.latitude},e=function(n){return Array.isArray(n)&&n.length===2?n[0]:t.isDefined(n.type)&&n.type==="Point"?n.coordinates[0]:n.longitude},u=function(n){if(n)return Array.isArray(n)&&n.length===2?new google.maps.LatLng(n[1],n[0]):t.isDefined(n.type)&&n.type==="Point"?new google.maps.LatLng(n.coordinates[1],n.coordinates[0]):new google.maps.LatLng(n.latitude,n.longitude)},s=function(n){if(t.isUndefined(n))return!1;if(_.isArray(n)){if(n.length===2)return!0}else if(n!=null&&(n!=null?n.type:void 0)&&n.type==="Point"&&_.isArray(n.coordinates)&&n.coordinates.length===2)return!0;return n&&t.isDefined((n!=null?n.latitude:void 0)&&t.isDefined(n!=null?n.longitude:void 0))?!0:!1},{setCoordsFromEvent:function(n,i){if(n)return Array.isArray(n)&&n.length===2?(n[1]=i.lat(),n[0]=i.lng()):t.isDefined(n.type)&&n.type==="Point"?(n.coordinates[1]=i.lat(),n.coordinates[0]=i.lng()):(n.latitude=i.lat(),n.longitude=i.lng()),n},getLabelPositionPoint:function(n){var t,i;if(n!==void 0)return n=/^([-\d\.]+)\s([-\d\.]+)$/.exec(n),t=parseFloat(n[1]),i=parseFloat(n[2]),t!=null&&i!=null?new google.maps.Point(t,i):void 0},createWindowOptions:function(r,f,e,o){var s;return e!=null&&o!=null&&i!=null?(s=t.extend({},o,{content:this.buildContent(f,o,e),position:o.position!=null?o.position:t.isObject(r)?r.getPosition():u(f.coords)}),r!=null&&(s!=null?s.pixelOffset:void 0)==null&&(s.boxClass==null||(s.pixelOffset={height:0,width:-2})),s):o?o:(n.error("infoWindow defaults not defined"),!e)?n.error("infoWindow content not defined"):void 0},buildContent:function(n,t,r){var f,u;return t.content!=null?u=t.content:i!=null?(r=r.replace(/^\s+|\s+$/g,""),f=r===""?"":i(r)(n),f.length>0&&(u=f[0])):u=r,u},defaultDelay:50,isTrue:function(n){return r(n,!0,["true","TRUE",1,"y","Y","yes","YES"])},isFalse:o,isFalsy:function(n){return r(n,!1,[void 0,null])||o(n)},getCoords:u,validateCoords:s,equalCoords:function(n,t){return f(n)===f(t)&&e(n)===e(t)},validatePath:function(n){var r,i,f,u;if(i=0,t.isUndefined(n.type)){if(!Array.isArray(n)||n.length<2)return!1;while(i<n.length){if(!(t.isDefined(n[i].latitude)&&t.isDefined(n[i].longitude)||typeof n[i].lat=="function"&&typeof n[i].lng=="function"))return!1;i++}return!0}if(t.isUndefined(n.coordinates))return!1;if(n.type==="Polygon"){if(n.coordinates[0].length<4)return!1;r=n.coordinates[0]}else if(n.type==="MultiPolygon"){if(u={max:0,index:0},_.forEach(n.coordinates,function(n,t){if(n[0].length>this.max)return this.max=n[0].length,this.index=t},u),f=n.coordinates[u.index],r=f[0],r.length<4)return!1}else if(n.type==="LineString"){if(n.coordinates.length<2)return!1;r=n.coordinates}else return!1;while(i<r.length){if(r[i].length!==2)return!1;i++}return!0},convertPathPoints:function(n){var r,i,u,f,e;if(i=0,f=new google.maps.MVCArray,t.isUndefined(n.type))while(i<n.length)u,t.isDefined(n[i].latitude)&&t.isDefined(n[i].longitude)?u=new google.maps.LatLng(n[i].latitude,n[i].longitude):typeof n[i].lat=="function"&&typeof n[i].lng=="function"&&(u=n[i]),f.push(u),i++;else for(r,n.type==="Polygon"?r=n.coordinates[0]:n.type==="MultiPolygon"?(e={max:0,index:0},_.forEach(n.coordinates,function(n,t){if(n[0].length>this.max)return this.max=n[0].length,this.index=t},e),r=n.coordinates[e.index][0]):n.type==="LineString"&&(r=n.coordinates);i<r.length;)f.push(new google.maps.LatLng(r[i][1],r[i][0])),i++;return f},extendMapBounds:function(n,t){for(var r=new google.maps.LatLngBounds,i=0;i<t.length;)r.extend(t.getAt(i)),i++;return n.fitBounds(r)},getPath:function(n,t){var i;return t==null||!_.isString(t)?t:(i=n,_.each(t.split("."),function(n){if(i)return i=i[n]}),i)},validateBoundPoints:function(n){return t.isUndefined(n.sw.latitude)||t.isUndefined(n.sw.longitude)||t.isUndefined(n.ne.latitude)||t.isUndefined(n.ne.longitude)?!1:!0},convertBoundPoints:function(n){return new google.maps.LatLngBounds(new google.maps.LatLng(n.sw.latitude,n.sw.longitude),new google.maps.LatLng(n.ne.latitude,n.ne.longitude))},fitMapBounds:function(n,t){return n.fitBounds(t)}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapIsReady",["$q","$timeout",function(n,t){var i,u,r;return i=0,r=[],u=function(){return n.all(r)},{spawn:function(){var t;return t=n.defer(),r.push(t.promise),i+=1,{instance:i,deferred:t}},promises:u,instances:function(){return i},promise:function(r){var f,e;return r==null&&(r=1),f=n.defer(),e=function(){return t(function(){return i!==r?e():f.resolve(u())})},e(),f.promise},reset:function(){return i=0,r.length=0}}}])}.call(this),function(){var n={}.hasOwnProperty,i=function(t,i){function u(){this.constructor=t}for(var r in i)n.call(i,r)&&(t[r]=i[r]);return u.prototype=i.prototype,t.prototype=new u,t.__super__=i.prototype,t};t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapLinked",["uiGmapBaseObject",function(n){return function(n){function t(n,t,i,r){this.scope=n;this.element=t;this.attrs=i;this.ctrls=r}return i(t,n),t}(n)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapLogger",["$log",function(n){var t,i,r,u;return t={log:1,info:2,debug:3,warn:4,error:5,none:6},u=function(n,t,i){if(n>=t)return i()},r=function(t,i){return n!=null?n[t](i):console[t](i)},i=function(){function i(){var n;this.doLog=!0;n={};["log","info","debug","warn","error"].forEach(function(i){return function(f){return n[f]=function(n){if(i.doLog)return u(t[f],i.currentLevel,function(){return r(f,n)})}}}(this));this.LEVELS=t;this.currentLevel=t.error;this.log=n.log;this.info=n.info;this.debug=n.debug;this.warn=n.warn;this.error=n.error}return i.prototype.spawn=function(){return new i},i.prototype.setLog=function(t){return n=t},i}(),new i}])}.call(this),function(){var n=function(n,t){return function(){return n.apply(t,arguments)}},i={}.hasOwnProperty,r=function(n,t){function u(){this.constructor=n}for(var r in t)i.call(t,r)&&(n[r]=t[r]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n};t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapModelKey",["uiGmapBaseObject","uiGmapGmapUtil","uiGmapPromise","$q","$timeout",function(i,u){return function(i){function f(t){this.scope=t;this.modelsLength=n(this.modelsLength,this);this.updateChild=n(this.updateChild,this);this.destroy=n(this.destroy,this);this.onDestroy=n(this.onDestroy,this);this.setChildScope=n(this.setChildScope,this);this.getChanges=n(this.getChanges,this);this.getProp=n(this.getProp,this);this.setIdKey=n(this.setIdKey,this);this.modelKeyComparison=n(this.modelKeyComparison,this);f.__super__.constructor.call(this);this["interface"]={};this["interface"].scopeKeys=[];this.defaultIdKey="id";this.idKey=void 0}return r(f,i),f.prototype.evalModelHandle=function(n,t){if(n!=null&&t!=null)return t==="self"?n:(_.isFunction(t)&&(t=t()),u.getPath(n,t))},f.prototype.modelKeyComparison=function(n,t){var r,f,i;if(r=_.contains(this["interface"].scopeKeys,"coords"),(r&&this.scope.coords!=null||!r)&&(i=this.scope),i==null)throw"No scope set!";return r&&(f=u.equalCoords(this.scopeOrModelVal("coords",i,n),this.scopeOrModelVal("coords",i,t)),!f)?f:_.every(_.without(this["interface"].scopeKeys,"coords"),function(r){return function(u){return r.scopeOrModelVal(i[u],i,n)===r.scopeOrModelVal(i[u],i,t)}}(this))},f.prototype.setIdKey=function(n){return this.idKey=n.idKey!=null?n.idKey:this.defaultIdKey},f.prototype.setVal=function(n,t,i){var r;return r=this.modelOrKey(n,t),r=i,n},f.prototype.modelOrKey=function(n,t){if(t!=null)return t!=="self"?n[t]:n},f.prototype.getProp=function(n,t,i){return this.scopeOrModelVal(n,t,i)},f.prototype.getChanges=function(n,t,i){var f,u,r;i&&(t=_.pick(t,i),n=_.pick(n,i));u={};r={};f={};for(r in n)t&&t[r]===n[r]||(_.isArray(n[r])?u[r]=n[r]:_.isObject(n[r])?(f=this.getChanges(n[r],t?t[r]:null),_.isEmpty(f)||(u[r]=f)):u[r]=n[r]);return u},f.prototype.scopeOrModelVal=function(n,t,i,r){var f,e,o,u;return(r==null&&(r=!1),f=function(n,t,i){return(i==null&&(i=!1),i)?{isScope:n,value:t}:t},u=t[n],_.isFunction(u))?f(!0,u(i),r):_.isObject(u)?f(!0,u,r):_.isString(u)?(e=u,o=e?e==="self"?i:i[e]:i[n],_.isFunction(o))?f(!1,o(),r):f(!1,o,r):f(!0,u,r)},f.prototype.setChildScope=function(n,t,i){return _.each(n,function(n){return function(r){var u,f;return u=n.scopeOrModelVal(r,t,i,!0),(u!=null?u.value:void 0)!=null&&(f=u.value,f!==t[r])?t[r]=f:void 0}}(this)),t.model=i},f.prototype.onDestroy=function(){},f.prototype.destroy=function(n){var t;return n==null&&(n=!1),this.scope==null||((t=this.scope)!=null?t.$$destroyed:void 0)||!(this.needToManualDestroy||n)?this.clean():this.scope.$destroy()},f.prototype.updateChild=function(n,t){if(t[this.idKey]==null){this.$log.error("Model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key.");return}return n.updateModel(t)},f.prototype.modelsLength=function(n){var r,i;return(n==null&&(n=void 0),r=0,i=n?n:this.scope.models,i==null)?r:t.isArray(i)||i.length!=null?i.length:Object.keys(i).length},f}(i)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapModelsWatcher",["uiGmapLogger","uiGmap_async","$q","uiGmapPromise",function(n,t,i,r){return{didQueueInitPromise:function(n,i){return i.models.length===0?(t.promiseLock(n,r.promiseTypes.init,null,null,function(){return function(){return r.resolve()}}(this)),!0):!1},figureOutState:function(t,i,r,u){var f,h,e,o,s;return f=[],e={},o=[],s=[],i.models.forEach(function(o){var h;if(o[t]!=null){if(e[o[t]]={},r.get(o[t])==null)return f.push(o);if(h=r.get(o[t]),!u(o,h.clonedModel,i))return s.push({model:o,child:h})}else return n.error(" id missing for model #{m.toString()},\ncan not use do comparison/insertion")}),h=r.values(),h.forEach(function(i){var r;if(i==null){n.error("child undefined in ModelsWatcher.");return}if(i.model==null){n.error("child.model undefined in ModelsWatcher.");return}return r=i.model[t],e[r]==null?o.push(i):void 0}),{adds:f,removals:o,updates:s}}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapPromise",["$q","$timeout","uiGmapLogger",function(n,t,i){var u,f,e,o,s,h,c,r,l,a,v;return l={create:"create",update:"update","delete":"delete",init:"init"},r={IN_PROGRESS:0,RESOLVED:1,REJECTED:2},v=function(){var n;return n={},n[""+r.IN_PROGRESS]="in-progress",n[""+r.RESOLVED]="resolved",n[""+r.REJECTED]="rejected",n}(),o=function(n){return n.$$state?n.$$state.status===r.IN_PROGRESS:n.hasOwnProperty("$$v")?void 0:!0},s=function(n){return n.$$state?n.$$state.status===r.RESOLVED:n.hasOwnProperty("$$v")?!0:void 0},c=function(n){return v[n]||"done w error"},u=function(t){var r,u,i;return r=n.defer(),u=n.all([t,r.promise]),i=n.defer(),t.then(r.resolve,function(){},function(n){return r.notify(n),i.notify(n)}),u.then(function(n){return i.resolve(n[0]||n[1])},function(n){return i.reject(n)}),i.promise.cancel=function(n){return n==null&&(n="canceled"),r.reject(n)},i.promise.notify=function(n){return n==null&&(n="cancel safe"),i.notify(n),t.hasOwnProperty("notify")?t.notify(n):void 0},t.promiseType!=null&&(i.promise.promiseType=t.promiseType),i.promise},f=function(n,t){return{promise:n,promiseType:t}},e=function(){return n.defer()},a=function(){var t;return t=n.defer(),t.resolve.apply(void 0,arguments),t.promise},h=function(r){var u;if(!_.isFunction(r)){i.error("uiGmapPromise.promise() only accepts functions");return}return u=n.defer(),t(function(){var n;return n=r(),u.resolve(n)}),u.promise},{defer:e,promise:h,resolve:a,promiseTypes:l,isInProgress:o,isResolved:s,promiseStatus:c,ExposedPromise:u,SniffedPromise:f}}])}.call(this),function(){var n=function(n,t){return function(){return n.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapPropMap",function(){return function(){function t(){this.removeAll=n(this.removeAll,this);this.slice=n(this.slice,this);this.push=n(this.push,this);this.keys=n(this.keys,this);this.values=n(this.values,this);this.remove=n(this.remove,this);this.put=n(this.put,this);this.stateChanged=n(this.stateChanged,this);this.get=n(this.get,this);this.length=0;this.dict={};this.didValsStateChange=!1;this.didKeysStateChange=!1;this.allVals=[];this.allKeys=[]}return t.prototype.get=function(n){return this.dict[n]},t.prototype.stateChanged=function(){return this.didValsStateChange=!0,this.didKeysStateChange=!0},t.prototype.put=function(n,t){return this.get(n)==null&&this.length++,this.stateChanged(),this.dict[n]=t},t.prototype.remove=function(n,t){var i;if(t==null&&(t=!1),!t||this.get(n))return i=this.dict[n],delete this.dict[n],this.length--,this.stateChanged(),i},t.prototype.valuesOrKeys=function(n){var t,i;return(n==null&&(n="Keys"),!this["did"+n+"StateChange"])?this["all"+n]:(i=[],t=[],_.each(this.dict,function(n,r){return i.push(n),t.push(r)}),this.didKeysStateChange=!1,this.didValsStateChange=!1,this.allVals=i,this.allKeys=t,this["all"+n])},t.prototype.values=function(){return this.valuesOrKeys("Vals")},t.prototype.keys=function(){return this.valuesOrKeys()},t.prototype.push=function(n,t){return t==null&&(t="key"),this.put(n[t],n)},t.prototype.slice=function(){return this.keys().map(function(n){return function(t){return n.remove(t)}}(this))},t.prototype.removeAll=function(){return this.slice()},t.prototype.each=function(n){return _.each(this.dict,function(t){return n(t)})},t.prototype.map=function(n){return _.map(this.dict,function(t){return n(t)})},t}()})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapPropertyAction",["uiGmapLogger",function(){return function(n){return this.setIfChange=function(t,i){var r;return r=this.exp,_.isEqual(i,t)?void 0:n(r,t)},this.sic=this.setIfChange,this}}])}.call(this),function(){var n=function(n,t){return function(){return n.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapClustererMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap",function(i,r,u){return function(){function f(t,r,e,o){r==null&&(r={});this.opt_options=e!=null?e:{};this.opt_events=o;this.checkSync=n(this.checkSync,this);this.getGMarkers=n(this.getGMarkers,this);this.fit=n(this.fit,this);this.destroy=n(this.destroy,this);this.clear=n(this.clear,this);this.draw=n(this.draw,this);this.removeMany=n(this.removeMany,this);this.remove=n(this.remove,this);this.addMany=n(this.addMany,this);this.update=n(this.update,this);this.add=n(this.add,this);this.type=f.type;this.clusterer=new NgMapMarkerClusterer(t,r,this.opt_options);this.propMapGMarkers=new u;this.attachEvents(this.opt_events,"opt_events");this.clusterer.setIgnoreHidden(!0);this.noDrawOnSingleAddRemoves=!0;i.info(this)}return f.type="ClustererMarkerManager",f.prototype.checkKey=function(n){var t;if(n.key==null)return t="gMarker.key undefined and it is REQUIRED!!",i.error(t)},f.prototype.add=function(n){return this.checkKey(n),this.clusterer.addMarker(n,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.put(n.key,n),this.checkSync()},f.prototype.update=function(n){return this.remove(n),this.add(n)},f.prototype.addMany=function(n){return n.forEach(function(n){return function(t){return n.add(t)}}(this))},f.prototype.remove=function(n){var t;return this.checkKey(n),t=this.propMapGMarkers.get(n.key),t&&(this.clusterer.removeMarker(n,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.remove(n.key)),this.checkSync()},f.prototype.removeMany=function(n){return n.forEach(function(n){return function(t){return n.remove(t)}}(this))},f.prototype.draw=function(){return this.clusterer.repaint()},f.prototype.clear=function(){return this.removeMany(this.getGMarkers()),this.clusterer.repaint()},f.prototype.attachEvents=function(n,r){var e,u,f;if(t.isDefined(n)&&n!=null&&t.isObject(n)){f=[];for(u in n)e=n[u],n.hasOwnProperty(u)&&t.isFunction(n[u])?(i.info(""+r+": Attaching event: "+u+" to clusterer"),f.push(google.maps.event.addListener(this.clusterer,u,n[u]))):f.push(void 0);return f}},f.prototype.clearEvents=function(n,r){var e,u,f;if(t.isDefined(n)&&n!=null&&t.isObject(n)){f=[];for(u in n)e=n[u],n.hasOwnProperty(u)&&t.isFunction(n[u])?(i.info(""+r+": Clearing event: "+u+" to clusterer"),f.push(google.maps.event.clearListeners(this.clusterer,u))):f.push(void 0);return f}},f.prototype.destroy=function(){return this.clearEvents(this.opt_events,"opt_events"),this.clear()},f.prototype.fit=function(){return r.fit(this.getGMarkers(),this.clusterer.getMap())},f.prototype.getGMarkers=function(){return this.clusterer.getMarkers().values()},f.prototype.checkSync=function(){},f}()}])}.call(this),function(){var n=function(n,t){return function(){return n.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap",function(t,i,r){return function(){function u(i){this.getGMarkers=n(this.getGMarkers,this);this.fit=n(this.fit,this);this.handleOptDraw=n(this.handleOptDraw,this);this.clear=n(this.clear,this);this.draw=n(this.draw,this);this.removeMany=n(this.removeMany,this);this.remove=n(this.remove,this);this.addMany=n(this.addMany,this);this.update=n(this.update,this);this.add=n(this.add,this);this.type=u.type;this.gMap=i;this.gMarkers=new r;this.$log=t;this.$log.info(this)}return u.type="MarkerManager",u.prototype.add=function(n,i){var u,r;if(i==null&&(i=!0),n.key==null){r="gMarker.key undefined and it is REQUIRED!!";t.error(r);throw r;}return u=this.gMarkers.get(n.key),u?void 0:(this.handleOptDraw(n,i,!0),this.gMarkers.put(n.key,n))},u.prototype.update=function(n,t){return t==null&&(t=!0),this.remove(n,t),this.add(n,t)},u.prototype.addMany=function(n){return n.forEach(function(n){return function(t){return n.add(t)}}(this))},u.prototype.remove=function(n,t){return t==null&&(t=!0),this.handleOptDraw(n,t,!1),this.gMarkers.get(n.key)?this.gMarkers.remove(n.key):void 0},u.prototype.removeMany=function(n){return n.forEach(function(n){return function(t){return n.remove(t)}}(this))},u.prototype.draw=function(){var n;return n=[],this.gMarkers.each(function(t){return function(i){if(!i.isDrawn)return i.doAdd?(i.setMap(t.gMap),i.isDrawn=!0):n.push(i)}}(this)),n.forEach(function(n){return function(t){return t.isDrawn=!1,n.remove(t,!0)}}(this))},u.prototype.clear=function(){return this.gMarkers.each(function(n){return n.setMap(null)}),delete this.gMarkers,this.gMarkers=new r},u.prototype.handleOptDraw=function(n,t,i){return t===!0?(i?n.setMap(this.gMap):n.setMap(null),n.isDrawn=!0):(n.isDrawn=!1,n.doAdd=i)},u.prototype.fit=function(){return i.fit(this.getGMarkers(),this.gMap)},u.prototype.getGMarkers=function(){return this.gMarkers.values()},u}()}])}.call(this),function(){t.module("uiGmapgoogle-maps").factory("uiGmapadd-events",["$timeout",function(n){var i;return i=function(t,i,r){return google.maps.event.addListener(t,i,function(){return r.apply(this,arguments),n(function(){},!0)})},function(n,r,u){var f;return u?i(n,r,u):(f=[],t.forEach(r,function(t,r){return f.push(i(n,r,t))}),function(){return t.forEach(f,function(n){return google.maps.event.removeListener(n)}),f=null})}}])}.call(this),function(){t.module("uiGmapgoogle-maps").factory("uiGmaparray-sync",["uiGmapadd-events",function(n){return function(i,r,u,f){var s,l,a,o,v,y,c,e,h;return o=!1,e=r.$eval(u),r["static"]||(v={set_at:function(n){var t;if(!o)return(t=i.getAt(n),!t)?void 0:t.lng&&t.lat?(e[n].latitude=t.lat(),e[n].longitude=t.lng()):e[n]=t},insert_at:function(n){var t;if(!o)return(t=i.getAt(n),!t)?void 0:t.lng&&t.lat?e.splice(n,0,{latitude:t.lat(),longitude:t.lng()}):e.splice(n,0,t)},remove_at:function(n){if(!o)return e.splice(n,1)}},s,e.type==="Polygon"?s=e.coordinates[0]:e.type==="LineString"&&(s=e.coordinates),l={set_at:function(n){var t;if(!o)return(t=i.getAt(n),!t)?void 0:!t.lng||!t.lat?void 0:(s[n][1]=t.lat(),s[n][0]=t.lng())},insert_at:function(n){var t;if(!o)return(t=i.getAt(n),!t)?void 0:!t.lng||!t.lat?void 0:s.splice(n,0,[t.lng(),t.lat()])},remove_at:function(n){if(!o)return s.splice(n,1)}},c=n(i,t.isUndefined(e.type)?v:l)),y=function(n){var e,r,l,h,t,u,c,s;if(o=!0,u=i,e=!1,n){for(r=0,c=u.getLength(),h=n.length,l=Math.min(c,h),t=void 0;r<l;)s=u.getAt(r),t=n[r],typeof t.equals=="function"?t.equals(s)||(u.setAt(r,t),e=!0):(s.lat()!==t.latitude||s.lng()!==t.longitude)&&(u.setAt(r,new google.maps.LatLng(t.latitude,t.longitude)),e=!0),r++;while(r<h)t=n[r],typeof t.lat=="function"&&typeof t.lng=="function"?u.push(t):u.push(new google.maps.LatLng(t.latitude,t.longitude)),e=!0,r++;while(r<c)u.pop(),e=!0,r++}return o=!1,e?f(u):void 0},a=function(n){var s,h,t,v,c,r,u,l,a;if(o=!0,u=i,h=!1,n){for(s,e.type==="Polygon"?s=n.coordinates[0]:e.type==="LineString"&&(s=n.coordinates),t=0,l=u.getLength(),c=s.length,v=Math.min(l,c),r=void 0;t<v;)a=u.getAt(t),r=s[t],(a.lat()!==r[1]||a.lng()!==r[0])&&(u.setAt(t,new google.maps.LatLng(r[1],r[0])),h=!0),t++;while(t<c)r=s[t],u.push(new google.maps.LatLng(r[1],r[0])),h=!0,t++;while(t<l)u.pop(),h=!0,t++}return o=!1,h?f(u):void 0},h,r["static"]||(h=t.isUndefined(e.type)?r.$watchCollection(u,y):r.$watch(u,a,!0)),function(){return c&&(c(),c=null),h?(h(),h=null):void 0}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapChromeFixes",["$timeout",function(n){return{maybeRepaint:function(t){if(t)return t.style.opacity=.9,n(function(){return t.style.opacity=1})}}}])}.call(this),function(){t.module("uiGmapgoogle-maps").service("uiGmapObjectIterators",function(){var t,n,i,r;return t=["length","forEach","map"],n=[],i=function(n){return n.forEach=function(i){return _.each(_.omit(n,t),function(n){if(!_.isFunction(n))return i(n)})},n},n.push(i),r=function(n){return n.map=function(i){return _.map(_.omit(n,t),function(n){if(!_.isFunction(n))return i(n)})},n},n.push(r),{slapMap:r,slapForEach:i,slapAll:function(t){return n.forEach(function(n){return n(t)}),t}}})}.call(this),function(){var n=function(n,t){return function(){return n.apply(t,arguments)}},i={}.hasOwnProperty,r=function(n,t){function u(){this.constructor=n}for(var r in t)i.call(t,r)&&(n[r]=t[r]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n};t.module("uiGmapgoogle-maps.directives.api.options.builders").service("uiGmapCommonOptionsBuilder",["uiGmapBaseObject","uiGmapLogger","uiGmapModelKey",function(i,u,f){return function(i){function f(){return this.watchProps=n(this.watchProps,this),this.buildOpts=n(this.buildOpts,this),f.__super__.constructor.apply(this,arguments)}return r(f,i),f.prototype.props=["clickable","draggable","editable","visible",{prop:"stroke",isColl:!0}],f.prototype.getCorrectModel=function(n){return t.isDefined(n!=null?n.model:void 0)?n.model:n},f.prototype.buildOpts=function(n,i,r){var o,e,f;if(n==null&&(n={}),r==null&&(r={}),!this.scope){u.error("this.scope not defined in CommonOptionsBuilder can not buildOpts");return}if(!this.map){u.error("this.map not defined in CommonOptionsBuilder can not buildOpts");return}return o=this.getCorrectModel(this.scope),f=this.scopeOrModelVal("stroke",this.scope,o),e=t.extend(n,this.DEFAULTS,{map:this.map,strokeColor:f!=null?f.color:void 0,strokeOpacity:f!=null?f.opacity:void 0,strokeWeight:f!=null?f.weight:void 0}),t.forEach(t.extend(r,{clickable:!0,draggable:!1,editable:!1,"static":!1,fit:!1,visible:!0,zIndex:0,icons:[]}),function(n){return function(r,u){var f;return f=i?i[u]:n.scopeOrModelVal(u,n.scope,o),e[u]=t.isUndefined(f)?r:o[u]}}(this)),e["static"]&&(e.editable=!1),e},f.prototype.watchProps=function(n){return n==null&&(n=this.props),n.forEach(function(n){return function(t){if(n.attrs[t]!=null||n.attrs[t!=null?t.prop:void 0]!=null)return(t!=null?t.isColl:void 0)?n.scope.$watchCollection(t.prop,n.setMyOptions):n.scope.$watch(t,n.setMyOptions)}}(this))},f}(f)}])}.call(this),function(){var i={}.hasOwnProperty,n=function(n,t){function u(){this.constructor=n}for(var r in t)i.call(t,r)&&(n[r]=t[r]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n};t.module("uiGmapgoogle-maps.directives.api.options.builders").factory("uiGmapPolylineOptionsBuilder",["uiGmapCommonOptionsBuilder",function(t){return function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return n(i,t),i.prototype.buildOpts=function(n,t){return i.__super__.buildOpts.call(this,{path:n},t,{geodesic:!1})},i}(t)}]).factory("uiGmapShapeOptionsBuilder",["uiGmapCommonOptionsBuilder",function(i){return function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return n(r,i),r.prototype.buildOpts=function(n,i,u){var f,e;return e=this.getCorrectModel(this.scope),f=i?i.fill:this.scopeOrModelVal("fill",this.scope,e),n=t.extend(n,{fillColor:f!=null?f.color:void 0,fillOpacity:f!=null?f.opacity:void 0}),r.__super__.buildOpts.call(this,n,i,u)},r}(i)}]).factory("uiGmapPolygonOptionsBuilder",["uiGmapShapeOptionsBuilder",function(t){return function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return n(i,t),i.prototype.buildOpts=function(n,t){return i.__super__.buildOpts.call(this,{path:n},t,{geodesic:!1})},i}(t)}]).factory("uiGmapRectangleOptionsBuilder",["uiGmapShapeOptionsBuilder",function(t){return function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return n(i,t),i.prototype.buildOpts=function(n,t){return i.__super__.buildOpts.call(this,{bounds:n},t)},i}(t)}]).factory("uiGmapCircleOptionsBuilder",["uiGmapShapeOptionsBuilder",function(t){return function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return n(i,t),i.prototype.buildOpts=function(n,t,r){return i.__super__.buildOpts.call(this,{center:n,radius:t},r)},i}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.options").service("uiGmapMarkerOptions",["uiGmapLogger","uiGmapGmapUtil",function(n,i){return _.extend(i,{createOptions:function(n,r,u,f){var e;return u==null&&(u={}),e=t.extend({},u,{position:u.position!=null?u.position:i.getCoords(n),visible:u.visible!=null?u.visible:i.validateCoords(n)}),(u.icon!=null||r!=null)&&(e=t.extend(e,{icon:u.icon!=null?u.icon:r})),f!=null&&(e.map=f),e},isLabel:function(n){return n==null?!1:n.labelContent!=null||n.labelAnchor!=null||n.labelClass!=null||n.labelStyle!=null||n.labelVisible!=null}})}])}.call(this),function(){var n=function(n,t){return function(){return n.apply(t,arguments)}},i={}.hasOwnProperty,r=function(n,t){function u(){this.constructor=n}for(var r in t)i.call(t,r)&&(n[r]=t[r]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapBasePolyChildModel",["uiGmapLogger","$timeout","uiGmaparray-sync","uiGmapGmapUtil","uiGmapEventsHelper",function(i,u,f,e,o){return function(i,u){return function(i){function s(i,r,e,s,h){var c;this.scope=i;this.attrs=r;this.map=e;this.defaults=s;this.model=h;this.clean=n(this.clean,this);this.clonedModel=_.clone(this.model,!0);this.isDragging=!1;this.internalEvents={dragend:function(n){return function(){return _.defer(function(){return n.isDragging=!1})}}(this),dragstart:function(n){return function(){return n.isDragging=!0}}(this)};c=function(n){return function(){var s,r;if(!n.isDragging)return r=n.convertPathPoints(n.scope.path),n.gObject!=null&&n.clean(),i.model!=null&&(s=i),r.length>0&&(n.gObject=u(n.buildOpts(r,s))),n.gObject?(n.scope.fit&&n.extendMapBounds(e,r),f(n.gObject.getPath(),n.scope,"path",function(t){if(n.scope.fit)return n.extendMapBounds(e,t)}),t.isDefined(i.events)&&t.isObject(i.events)&&(n.listeners=n.model?o.setEvents(n.gObject,n.scope,n.model):o.setEvents(n.gObject,n.scope,n.scope)),n.internalListeners=n.model?o.setEvents(n.gObject,{events:n.internalEvents},n.model):o.setEvents(n.gObject,{events:n.internalEvents},n.scope)):void 0}}(this);c();i.$watch("path",function(n){return function(t,i){if(!_.isEqual(t,i)||!n.gObject)return c()}}(this),!0);!i["static"]&&t.isDefined(i.editable)&&i.$watch("editable",function(n){return function(t,i){var r;if(t!==i)return t=!n.isFalse(t),(r=n.gObject)!=null?r.setEditable(t):void 0}}(this),!0);t.isDefined(i.draggable)&&i.$watch("draggable",function(n){return function(t,i){var r;if(t!==i)return t=!n.isFalse(t),(r=n.gObject)!=null?r.setDraggable(t):void 0}}(this),!0);t.isDefined(i.visible)&&i.$watch("visible",function(n){return function(t,i){var r;return t!==i&&(t=!n.isFalse(t)),(r=n.gObject)!=null?r.setVisible(t):void 0}}(this),!0);t.isDefined(i.geodesic)&&i.$watch("geodesic",function(n){return function(t,i){var r;if(t!==i)return t=!n.isFalse(t),(r=n.gObject)!=null?r.setOptions(n.buildOpts(n.gObject.getPath())):void 0}}(this),!0);t.isDefined(i.stroke)&&t.isDefined(i.stroke.weight)&&i.$watch("stroke.weight",function(n){return function(t,i){var r;if(t!==i)return(r=n.gObject)!=null?r.setOptions(n.buildOpts(n.gObject.getPath())):void 0}}(this),!0);t.isDefined(i.stroke)&&t.isDefined(i.stroke.color)&&i.$watch("stroke.color",function(n){return function(t,i){var r;if(t!==i)return(r=n.gObject)!=null?r.setOptions(n.buildOpts(n.gObject.getPath())):void 0}}(this),!0);t.isDefined(i.stroke)&&t.isDefined(i.stroke.opacity)&&i.$watch("stroke.opacity",function(n){return function(t,i){var r;if(t!==i)return(r=n.gObject)!=null?r.setOptions(n.buildOpts(n.gObject.getPath())):void 0}}(this),!0);t.isDefined(i.icons)&&i.$watch("icons",function(n){return function(t,i){var r;if(t!==i)return(r=n.gObject)!=null?r.setOptions(n.buildOpts(n.gObject.getPath())):void 0}}(this),!0);i.$on("$destroy",function(n){return function(){return n.clean(),n.scope=null}}(this));t.isDefined(i.fill)&&t.isDefined(i.fill.color)&&i.$watch("fill.color",function(n){return function(t,i){if(t!==i)return n.gObject.setOptions(n.buildOpts(n.gObject.getPath()))}}(this));t.isDefined(i.fill)&&t.isDefined(i.fill.opacity)&&i.$watch("fill.opacity",function(n){return function(t,i){if(t!==i)return n.gObject.setOptions(n.buildOpts(n.gObject.getPath()))}}(this));t.isDefined(i.zIndex)&&i.$watch("zIndex",function(n){return function(t,i){if(t!==i)return n.gObject.setOptions(n.buildOpts(n.gObject.getPath()))}}(this))}return r(s,i),s.include(e),s.prototype.clean=function(){var n;return o.removeEvents(this.listeners),o.removeEvents(this.internalListeners),(n=this.gObject)!=null&&n.setMap(null),this.gObject=null},s}(i)}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapDrawFreeHandChildModel",["uiGmapLogger","$q",function(n,t){var i;return i=function(n,t,i){var u,r;return r=new google.maps.Polyline({map:n,clickable:!1}),u=google.maps.event.addListener(n,"mousemove",function(n){return r.getPath().push(n.latLng)}),google.maps.event.addListenerOnce(n,"mouseup",function(){var f;return google.maps.event.removeListener(u),f=r.getPath(),r.setMap(null),t.push(new google.maps.Polygon({map:n,path:f})),r=null,google.maps.event.clearListeners(n.getDiv(),"mousedown"),i()}),void 0},function(r,u){var f,e;return this.map=r,f=function(t){return function(){var i;return i={draggable:!1,disableDefaultUI:!0,scrollwheel:!1,disableDoubleClickZoom:!1},n.info("disabling map move"),t.map.setOptions(i)}}(this),e=function(n){return function(){var t,i;return t={draggable:!0,disableDefaultUI:!1,scrollwheel:!0,disableDoubleClickZoom:!0},(i=n.deferred)!=null&&i.resolve(),_.defer(function(){return n.map.setOptions(_.extend(t,u.options))})}}(this),this.engage=function(r){return function(u){return r.polys=u,r.deferred=t.defer(),f(),n.info("DrawFreeHandChildModel is engaged (drawing)."),google.maps.event.addDomListener(r.map.getDiv(),"mousedown",function(){return i(r.map,r.polys,e)}),r.deferred.promise}}(this),this}}])}.call(this),function(){var n=function(n,t){return function(){return n.apply(t,arguments)}},i={}.hasOwnProperty,r=function(n,t){function u(){this.constructor=n}for(var r in t)i.call(t,r)&&(n[r]=t[r]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n};t.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapMarkerChildModel",["uiGmapModelKey","uiGmapGmapUtil","uiGmapLogger","uiGmapEventsHelper","uiGmapPropertyAction","uiGmapMarkerOptions","uiGmapIMarker","uiGmapMarkerManager","uiGmapPromise",function(t,i,u,f,e,o,s,h,c){return function(t){function l(t,i,r,f,o,s,h,v,y,p){var w;this.model=i;this.keys=r;this.gMap=f;this.defaults=o;this.doClick=s;this.gManager=h;this.doDrawSelf=v!=null?v:!0;this.trackModel=y!=null?y:!0;this.needRedraw=p!=null?p:!1;this.internalEvents=n(this.internalEvents,this);this.setLabelOptions=n(this.setLabelOptions,this);this.setOptions=n(this.setOptions,this);this.setIcon=n(this.setIcon,this);this.setCoords=n(this.setCoords,this);this.isNotValid=n(this.isNotValid,this);this.maybeSetScopeValue=n(this.maybeSetScopeValue,this);this.createMarker=n(this.createMarker,this);this.setMyScope=n(this.setMyScope,this);this.updateModel=n(this.updateModel,this);this.handleModelChanges=n(this.handleModelChanges,this);this.destroy=n(this.destroy,this);this.clonedModel=_.extend({},this.model);this.deferred=c.defer();_.each(this.keys,function(n){return function(t,i){var r;return r=n.keys[i],r!=null&&!_.isFunction(r)&&_.isString(r)?n[i+"Key"]=r:void 0}}(this));this.idKey=this.idKeyKey||"id";this.model[this.idKey]!=null&&(this.id=this.model[this.idKey]);l.__super__.constructor.call(this,t);this.scope.getGMarker=function(n){return function(){return n.gObject}}(this);this.firstTime=!0;this.trackModel?(this.scope.model=this.model,this.scope.$watch("model",function(n){return function(t,i){if(t!==i)return n.handleModelChanges(t,i)}}(this),!0)):(w=new e(function(n){return function(i){if(!n.firstTime)return n.setMyScope(i,t)}}(this),!1),_.each(this.keys,function(n,i){return t.$watch(i,w.sic,!0)}));this.scope.$on("$destroy",function(n){return function(){return a(n)}}(this));this.createMarker(this.model);u.info(this)}var a;return r(l,t),l.include(i),l.include(f),l.include(o),a=function(n){if((n!=null?n.gObject:void 0)!=null&&(n.removeEvents(n.externalListeners),n.removeEvents(n.internalListeners),n!=null?n.gObject:void 0))return n.removeFromManager&&n.gManager.remove(n.gObject),n.gObject.setMap(null),n.gObject=null},l.prototype.destroy=function(n){return n==null&&(n=!0),this.removeFromManager=n,this.scope.$destroy()},l.prototype.handleModelChanges=function(n,t){var i,r,u;return i=this.getChanges(n,t,s.keys),this.firstTime?void 0:(r=0,u=_.keys(i).length,_.each(i,function(i){return function(f,e){var o;return r+=1,o=u===r,i.setMyScope(e,n,t,!1,!0,o),i.needRedraw=!0}}(this)))},l.prototype.updateModel=function(n){return this.clonedModel=_.extend({},n),this.setMyScope("all",n,this.model)},l.prototype.renderGMarker=function(n,t){var i;if(n==null&&(n=!0),i=this.getProp("coords",this.scope,this.model),i!=null){if(!this.validateCoords(i)){u.debug("MarkerChild does not have coords yet. They may be defined later.");return}if(t!=null&&t(),n&&this.gObject)return this.gManager.add(this.gObject)}else if(n&&this.gObject)return this.gManager.remove(this.gObject)},l.prototype.setMyScope=function(n,t,i,r,u){var f;i==null&&(i=void 0);r==null&&(r=!1);u==null&&(u=!0);t==null?t=this.model:this.model=t;this.gObject||(this.setOptions(this.scope,u),f=!0);switch(n){case"all":return _.each(this.keys,function(n){return function(f,e){return n.setMyScope(e,t,i,r,u)}}(this));case"icon":return this.maybeSetScopeValue("icon",t,i,this.iconKey,this.evalModelHandle,r,this.setIcon,u);case"coords":return this.maybeSetScopeValue("coords",t,i,this.coordsKey,this.evalModelHandle,r,this.setCoords,u);case"options":if(!f)return this.createMarker(t,i,r,u)}},l.prototype.createMarker=function(n,t,i,r){return t==null&&(t=void 0),i==null&&(i=!1),r==null&&(r=!0),this.maybeSetScopeValue("options",n,t,this.optionsKey,this.evalModelHandle,i,this.setOptions,r),this.firstTime=!1},l.prototype.maybeSetScopeValue=function(n,t,i,r,u,f,e,o){return e==null&&(e=void 0),o==null&&(o=!0),e!=null?e(this.scope,o):void 0},l.doDrawSelf&&doDraw&&l.gManager.draw(),l.prototype.isNotValid=function(n,t){var i,r;return t==null&&(t=!0),r=t?this.gObject===void 0:!1,i=this.trackModel?!1:n.$id!==this.scope.$id,i||r},l.prototype.setCoords=function(n,t){if(t==null&&(t=!0),!this.isNotValid(n)&&this.gObject!=null)return this.renderGMarker(t,function(t){return function(){var i,u,r;if(u=t.getProp("coords",n,t.model),i=t.getCoords(u),r=t.gObject.getPosition(),r==null||i==null||i.lng()!==r.lng()||i.lat()!==r.lat())return t.gObject.setPosition(i),t.gObject.setVisible(t.validateCoords(u))}}(this))},l.prototype.setIcon=function(n,t){if(t==null&&(t=!0),!this.isNotValid(n)&&this.gObject!=null)return this.renderGMarker(t,function(t){return function(){var i,r,u;if(u=t.gObject.getIcon(),r=t.getProp("icon",n,t.model),u!==r)return t.gObject.setIcon(r),i=t.getProp("coords",n,t.model),t.gObject.setPosition(t.getCoords(i)),t.gObject.setVisible(t.validateCoords(i))}}(this))},l.prototype.setOptions=function(n,t){var i;if(t==null&&(t=!0),!this.isNotValid(n,!1)){if(this.renderGMarker(t,function(t){return function(){var i,r,u;return i=t.getProp("coords",n,t.model),r=t.getProp("icon",n,t.model),u=t.getProp("options",n,t.model),t.opts=t.createOptions(i,r,u),t.isLabel(t.gObject)!==t.isLabel(t.opts)&&t.gObject!=null&&(t.gManager.remove(t.gObject),t.gObject=void 0),t.gObject!=null&&t.gObject.setOptions(t.setLabelOptions(t.opts)),t.gObject||(t.gObject=t.isLabel(t.opts)?new MarkerWithLabel(t.setLabelOptions(t.opts)):new google.maps.Marker(t.opts),_.extend(t.gObject,{model:t.model})),t.externalListeners&&t.removeEvents(t.externalListeners),t.internalListeners&&t.removeEvents(t.internalListeners),t.externalListeners=t.setEvents(t.gObject,t.scope,t.model,["dragend"]),t.internalListeners=t.setEvents(t.gObject,{events:t.internalEvents(),$evalAsync:function(){}},t.model),t.id!=null?t.gObject.key=t.id:void 0}}(this)),this.gObject&&(this.gObject.getMap()||this.gManager.type!==h.type))this.deferred.resolve(this.gObject);else{if(!this.gObject)return this.deferred.reject("gObject is null");((i=this.gObject)!=null?i.getMap():void 0)&&this.gManager.type===h.type||(u.debug("gObject has no map yet"),this.deferred.resolve(this.gObject))}if(this.model[this.fitKey])return this.gManager.fit()}},l.prototype.setLabelOptions=function(n){return n.labelAnchor=this.getLabelPositionPoint(n.labelAnchor),n},l.prototype.internalEvents=function(){return{dragend:function(n){return function(t,i,r,u){var f,e,o;return e=n.trackModel?n.scope.model:n.model,o=n.setCoordsFromEvent(n.modelOrKey(e,n.coordsKey),n.gObject.getPosition()),e=n.setVal(r,n.coordsKey,o),f=n.scope.events,(f!=null?f.dragend:void 0)!=null&&f.dragend(t,i,e,u),n.scope.$apply()}}(this),click:function(n){return function(t,i,r,u){var f;return f=n.getProp("click",n.scope,n.model),n.doClick&&f!=null?n.scope.$evalAsync(f(t,i,n.model,u)):void 0}}(this)}},l}(t)}])}.call(this),function(){var n={}.hasOwnProperty,i=function(t,i){function u(){this.constructor=t}for(var r in i)n.call(i,r)&&(t[r]=i[r]);return u.prototype=i.prototype,t.prototype=new u,t.__super__=i.prototype,t};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygonChildModel",["uiGmapBasePolyChildModel","uiGmapPolygonOptionsBuilder",function(n,t){var r,u;return u=function(n){return new google.maps.Polygon(n)},r=new n(t,u),function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,n),t}(r)}])}.call(this),function(){var n={}.hasOwnProperty,i=function(t,i){function u(){this.constructor=t}for(var r in i)n.call(i,r)&&(t[r]=i[r]);return u.prototype=i.prototype,t.prototype=new u,t.__super__=i.prototype,t};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolylineChildModel",["uiGmapBasePolyChildModel","uiGmapPolylineOptionsBuilder",function(n,t){var r,u;return u=function(n){return new google.maps.Polyline(n)},r=n(t,u),function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,n),t}(r)}])}.call(this),function(){var i=function(n,t){return function(){return n.apply(t,arguments)}},r={}.hasOwnProperty,u=function(n,t){function u(){this.constructor=n}for(var i in t)r.call(t,i)&&(n[i]=t[i]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n};t.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapWindowChildModel",["uiGmapBaseObject","uiGmapGmapUtil","uiGmapLogger","$compile","$http","$templateCache","uiGmapChromeFixes","uiGmapEventsHelper",function(r,f,e,o,s,h,c,l){return function(r){function a(n,t,r,u,f,o,s,h,c){var l;this.model=n;this.scope=t;this.opts=r;this.isIconVisibleOnClick=u;this.mapCtrl=f;this.markerScope=o;this.element=s;this.needToManualDestroy=h!=null?h:!1;this.markerIsVisibleAfterWindowClose=c!=null?c:!0;this.updateModel=i(this.updateModel,this);this.destroy=i(this.destroy,this);this.remove=i(this.remove,this);this.getLatestPosition=i(this.getLatestPosition,this);this.hideWindow=i(this.hideWindow,this);this.showWindow=i(this.showWindow,this);this.handleClick=i(this.handleClick,this);this.watchOptions=i(this.watchOptions,this);this.watchCoords=i(this.watchCoords,this);this.createGWin=i(this.createGWin,this);this.watchElement=i(this.watchElement,this);this.watchAndDoShow=i(this.watchAndDoShow,this);this.doShow=i(this.doShow,this);this.clonedModel=_.clone(this.model,!0);this.getGmarker=function(){var n,t;if(((n=this.markerScope)!=null?n.getGMarker:void 0)!=null)return(t=this.markerScope)!=null?t.getGMarker():void 0};this.listeners=[];this.createGWin();l=this.getGmarker();l!=null&&l.setClickable(!0);this.watchElement();this.watchOptions();this.watchCoords();this.watchAndDoShow();this.scope.$on("$destroy",function(n){return function(){return n.destroy()}}(this));e.info(this)}return u(a,r),a.include(f),a.include(l),a.prototype.doShow=function(n){return this.scope.show===!0||n?this.showWindow():this.hideWindow()},a.prototype.watchAndDoShow=function(){return this.model.show!=null&&(this.scope.show=this.model.show),this.scope.$watch("show",this.doShow,!0),this.doShow()},a.prototype.watchElement=function(){return this.scope.$watch(function(n){return function(){var t,i;if((n.element||n.html))return n.html!==n.element.html()&&n.gObject?((i=n.opts)!=null&&(i.content=void 0),t=n.gObject.isOpen(),n.remove(),n.createGWin(t)):void 0}}(this))},a.prototype.createGWin=function(t){var r,i,u,f,e;return t==null&&(t=!1),i=this.getGmarker(),r={},this.opts!=null&&(this.scope.coords&&(this.opts.position=this.getCoords(this.scope.coords)),r=this.opts),this.element&&(this.html=_.isObject(this.element)?this.element.html():this.element),u=this.scope.options?this.scope.options:r,this.opts=this.createWindowOptions(i,this.markerScope||this.scope,this.html,u),this.opts!=null?(this.gObject||(this.gObject=this.opts.boxClass&&n.InfoBox&&typeof n.InfoBox=="function"?new n.InfoBox(this.opts):new google.maps.InfoWindow(this.opts),this.listeners.push(google.maps.event.addListener(this.gObject,"domready",function(){return c.maybeRepaint(this.content)})),this.listeners.push(google.maps.event.addListener(this.gObject,"closeclick",function(n){return function(){return i&&(i.setAnimation(n.oldMarkerAnimation),n.markerIsVisibleAfterWindowClose&&_.delay(function(){return i.setVisible(!1),i.setVisible(n.markerIsVisibleAfterWindowClose)},250)),n.gObject.close(),n.model.show=!1,n.scope.closeClick!=null?n.scope.$evalAsync(n.scope.closeClick()):n.scope.$evalAsync()}}(this)))),this.gObject.setContent(this.opts.content),this.handleClick(((f=this.scope)!=null?(e=f.options)!=null?e.forceClick:void 0:void 0)||t),this.doShow(this.gObject.isOpen())):void 0},a.prototype.watchCoords=function(){var n;return n=this.markerScope!=null?this.markerScope:this.scope,n.$watch("coords",function(n){return function(t,i){var r;if(t!==i){if(t==null)n.hideWindow();else if(!n.validateCoords(t)){e.error("WindowChildMarker cannot render marker as scope.coords as no position on marker: "+JSON.stringify(n.model));return}if(r=n.getCoords(t),n.doShow(),n.gObject.setPosition(r),n.opts)return n.opts.position=r}}}(this),!0)},a.prototype.watchOptions=function(){return this.scope.$watch("options",function(n){return function(t,i){if(t!==i&&(n.opts=t,n.gObject!=null)){if(n.gObject.setOptions(n.opts),n.opts.visible!=null&&n.opts.visible)return n.showWindow();if(n.opts.visible!=null)return n.hideWindow()}}}(this),!0)},a.prototype.handleClick=function(n){var i,t;if(this.gObject!=null)return t=this.getGmarker(),i=function(n){return function(){return n.gObject==null&&n.createGWin(),n.showWindow(),t!=null?(n.initialMarkerVisibility=t.getVisible(),n.oldMarkerAnimation=t.getAnimation(),t.setVisible(n.isIconVisibleOnClick)):void 0}}(this),n&&i(),t?this.listeners=this.listeners.concat(this.setEvents(t,{events:{click:i}},this.model)):void 0},a.prototype.showWindow=function(){var r,n,i;if(this.gObject!=null)return n=function(n){return function(){var i,t,r;if(!n.gObject.isOpen()){if(t=n.getGmarker(),n.gObject!=null&&n.gObject.getPosition!=null&&(r=n.gObject.getPosition()),t&&(r=t.getPosition()),!r)return;if(n.gObject.open(n.mapCtrl,t),i=n.gObject.isOpen(),n.model.show!==i)return n.model.show=i}}}(this),this.scope.templateUrl?s.get(this.scope.templateUrl,{cache:h}).then(function(i){return function(r){var f,u;return u=i.scope.$new(),t.isDefined(i.scope.templateParameter)&&(u.parameter=i.scope.templateParameter),f=o(r.data)(u),i.gObject.setContent(f[0]),n()}}(this)):this.scope.template?(i=this.scope.$new(),t.isDefined(this.scope.templateParameter)&&(i.parameter=this.scope.templateParameter),r=o(this.scope.template)(i),this.gObject.setContent(r[0]),n()):n()},a.prototype.hideWindow=function(){if(this.gObject!=null&&this.gObject.isOpen())return this.gObject.close()},a.prototype.getLatestPosition=function(n){var t;if(t=this.getGmarker(),this.gObject==null||t==null||n){if(n)return this.gObject.setPosition(n)}else return this.gObject.setPosition(t.getPosition())},a.prototype.remove=function(){return this.hideWindow(),this.removeEvents(this.listeners),this.listeners.length=0,delete this.gObject,delete this.opts},a.prototype.destroy=function(n){var t;return n==null&&(n=!1),this.remove(),this.scope!=null&&!((t=this.scope)!=null?t.$$destroyed:void 0)&&(this.needToManualDestroy||n)?this.scope.$destroy():void 0},a.prototype.updateModel=function(n){return this.clonedModel=_.extend({},n),_.extend(this.model,this.clonedModel)},a}(r)}])}.call(this),function(){var n=function(n,t){return function(){return n.apply(t,arguments)}},i={}.hasOwnProperty,r=function(n,t){function u(){this.constructor=n}for(var r in t)i.call(t,r)&&(n[r]=t[r]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n};t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapBasePolysParentModel",["$timeout","uiGmapLogger","uiGmapModelKey","uiGmapModelsWatcher","uiGmapPropMap","uiGmap_async","uiGmapPromise",function(i,u,f,e,o,s,h){return function(i,c,l){return function(f){function a(t,r,f,e,s){var h;this.scope=t;this.element=r;this.attrs=f;this.gMap=e;this.defaults=s;this.createChild=n(this.createChild,this);this.pieceMeal=n(this.pieceMeal,this);this.createAllNew=n(this.createAllNew,this);this.watchIdKey=n(this.watchIdKey,this);this.createChildScopes=n(this.createChildScopes,this);this.watchDestroy=n(this.watchDestroy,this);this.onDestroy=n(this.onDestroy,this);this.rebuildAll=n(this.rebuildAll,this);this.doINeedToWipe=n(this.doINeedToWipe,this);this.watchModels=n(this.watchModels,this);a.__super__.constructor.call(this,t);this["interface"]=i;h=this;this.$log=u;this.plurals=new o;_.each(i.scopeKeys,function(n){return function(t){return n[t+"Key"]=void 0}}(this));this.models=void 0;this.firstTime=!0;this.$log.info(this);this.createChildScopes()}return r(a,f),a.include(e),a.prototype.watchModels=function(n){return n.$watchCollection("models",function(t){return function(i,r){if(i!==r)return t.doINeedToWipe(i)||n.doRebuildAll?t.rebuildAll(n,!0,!0):t.createChildScopes(!1)}}(this))},a.prototype.doINeedToWipe=function(n){var t;return t=n!=null?n.length===0:!0,this.plurals.length>0&&t},a.prototype.rebuildAll=function(n,t,i){return this.onDestroy(i).then(function(n){return function(){if(t)return n.createChildScopes()}}(this))},a.prototype.onDestroy=function(){return a.__super__.onDestroy.call(this,this.scope),s.promiseLock(this,h.promiseTypes["delete"],void 0,void 0,function(n){return function(){return s.each(n.plurals.values(),function(n){return n.destroy(!0)},s.chunkSizeFrom(n.scope.cleanchunk,!1)).then(function(){var t;if((t=n.plurals)!=null)return t.removeAll()})}}(this))},a.prototype.watchDestroy=function(n){return n.$on("$destroy",function(t){return function(){return t.rebuildAll(n,!1,!0)}}(this))},a.prototype.createChildScopes=function(n){if(n==null&&(n=!0),t.isUndefined(this.scope.models)){this.$log.error("No models to create "+l+"s from! I Need direct models!");return}if(this.gMap!=null&&this.scope.models!=null)return this.watchIdKey(this.scope),n?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1)},a.prototype.watchIdKey=function(n){return this.setIdKey(n),n.$watch("idKey",function(t){return function(i,r){if(i!==r&&i==null)return t.idKey=i,t.rebuildAll(n,!0,!0)}}(this))},a.prototype.createAllNew=function(n,t){var i;if(t==null&&(t=!1),this.models=n.models,this.firstTime&&(this.watchModels(n),this.watchDestroy(n)),!this.didQueueInitPromise(this,n))return i=null,s.promiseLock(this,h.promiseTypes.create,"createAllNew",function(n){return i=n},function(t){return function(){return s.each(n.models,function(n){var r;return r=t.createChild(n,t.gMap),i&&(u.debug("createNew should fall through safely"),r.isEnabled=!1),i},s.chunkSizeFrom(n.chunk)).then(function(){return t.firstTime=!1})}}(this))},a.prototype.pieceMeal=function(n,t){var r,i;if(t==null&&(t=!0),!n.$$destroyed)return r=null,i=null,this.models=n.models,n!=null&&this.modelsLength()&&this.plurals.length?s.promiseLock(this,h.promiseTypes.update,"pieceMeal",function(n){return r=n},function(t){return function(){return h.promise(function(){return t.figureOutState(t.idKey,n,t.plurals,t.modelKeyComparison)}).then(function(f){return i=f,i.updates.length&&u.info("polygons updates: "+i.updates.length+" will be missed"),s.each(i.removals,function(n){if(n!=null)return n.destroy(),t.plurals.remove(n.model[t.idKey]),r},s.chunkSizeFrom(n.chunk))}).then(function(){return s.each(i.adds,function(n){return r&&u.debug("pieceMeal should fall through safely"),t.createChild(n,t.gMap),r},s.chunkSizeFrom(n.chunk))})}}(this)):(this.inProgress=!1,this.rebuildAll(this.scope,!0,!0))},a.prototype.createChild=function(n,t){var u,r;if(r=this.scope.$new(!1),this.setChildScope(i.scopeKeys,r,n),r.$watch("model",function(n){return function(t,i){if(t!==i)return n.setChildScope(r,t)}}(this),!0),r["static"]=this.scope["static"],u=new c(r,this.attrs,t,this.defaults,n),n[this.idKey]==null){this.$log.error(""+l+" model has no id to assign a child to.\nThis is required for performance. Please assign id,\nor redirect id to a different key.");return}return this.plurals.put(n[this.idKey],u),u},a}(f)}}])}.call(this),function(){var n={}.hasOwnProperty,i=function(t,i){function u(){this.constructor=t}for(var r in i)n.call(i,r)&&(t[r]=i[r]);return u.prototype=i.prototype,t.prototype=new u,t.__super__=i.prototype,t};t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapCircleParentModel",["uiGmapLogger","$timeout","uiGmapGmapUtil","uiGmapEventsHelper","uiGmapCircleOptionsBuilder",function(n,r,u,f,e){return function(r){function e(i,r,f,e,o){var c,s,h;this.scope=i;this.attrs=f;this.map=e;this.DEFAULTS=o;h=null;c=function(n){return function(){return h=null,n.listeners!=null?(n.removeEvents(n.listeners),n.listeners=void 0):void 0}}(this);s=new google.maps.Circle(this.buildOpts(u.getCoords(i.center),i.radius));this.setMyOptions=function(n){return function(t,r){if(!_.isEqual(t,r))return s.setOptions(n.buildOpts(u.getCoords(i.center),i.radius))}}(this);this.props=this.props.concat([{prop:"center",isColl:!0},{prop:"fill",isColl:!0},"radius","zIndex"]);this.watchProps();this.scope.control!=null&&(this.scope.control.getCircle=function(){return s});c();this.listeners=this.setEvents(s,i,i,["radius_changed"]);this.listeners!=null&&this.listeners.push(google.maps.event.addListener(s,"radius_changed",function(){var n,r;if(n=s.getRadius(),n!==h)return h=n,r=function(){var t,r;return n!==i.radius&&(i.radius=n),((t=i.events)!=null?t.radius_changed:void 0)&&_.isFunction((r=i.events)!=null?r.radius_changed:void 0)?i.events.radius_changed(s,"radius_changed",i,arguments):void 0},t.mock?r():i.$evalAsync(function(){return r()})}));this.listeners!=null&&this.listeners.push(google.maps.event.addListener(s,"center_changed",function(){return i.$evalAsync(function(){return t.isDefined(i.center.type)?(i.center.coordinates[1]=s.getCenter().lat(),i.center.coordinates[0]=s.getCenter().lng()):(i.center.latitude=s.getCenter().lat(),i.center.longitude=s.getCenter().lng())})}));i.$on("$destroy",function(){return function(){return c(),s.setMap(null)}}(this));n.info(this)}return i(e,r),e.include(u),e.include(f),e}(e)}])}.call(this),function(){var n={}.hasOwnProperty,i=function(t,i){function u(){this.constructor=t}for(var r in i)n.call(i,r)&&(t[r]=i[r]);return u.prototype=i.prototype,t.prototype=new u,t.__super__=i.prototype,t};t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapDrawingManagerParentModel",["uiGmapLogger","$timeout","uiGmapBaseObject","uiGmapEventsHelper",function(n,t,r,u){return function(n){function t(n,t,i,r){var u,f;this.scope=n;this.attrs=i;this.map=r;u=new google.maps.drawing.DrawingManager(this.scope.options);u.setMap(this.map);f=void 0;this.scope.control!=null&&(this.scope.control.getDrawingManager=function(){return u});!this.scope["static"]&&this.scope.options&&this.scope.$watch("options",function(n){if(u!=null)return u.setOptions(n)},!0);this.scope.events!=null&&(f=this.setEvents(u,this.scope,this.scope),n.$watch("events",function(n){return function(t,i){if(!_.isEqual(t,i))return f!=null&&n.removeEvents(f),f=n.setEvents(u,n.scope,n.scope)}}(this)));n.$on("$destroy",function(n){return function(){return f!=null&&n.removeEvents(f),u.setMap(null),u=null}}(this))}return i(t,n),t.include(u),t}(r)}])}.call(this),function(){var n=function(n,t){return function(){return n.apply(t,arguments)}},i={}.hasOwnProperty,r=function(n,t){function u(){this.constructor=n}for(var r in t)i.call(t,r)&&(n[r]=t[r]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n};t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapIMarkerParentModel",["uiGmapModelKey","uiGmapLogger",function(i,u){return function(i){function f(i,r,e,o){if(this.scope=i,this.element=r,this.attrs=e,this.map=o,this.onWatch=n(this.onWatch,this),this.watch=n(this.watch,this),this.validateScope=n(this.validateScope,this),f.__super__.constructor.call(this,this.scope),this.$log=u,!this.validateScope(i))throw new String("Unable to construct IMarkerParentModel due to invalid scope");this.doClick=t.isDefined(e.click);i.options!=null&&(this.DEFAULTS=i.options);this.watch("coords",this.scope);this.watch("icon",this.scope);this.watch("options",this.scope);i.$on("$destroy",function(n){return function(){return n.onDestroy(i)}}(this))}return r(f,i),f.prototype.DEFAULTS={},f.prototype.validateScope=function(n){var t;return n==null?(this.$log.error(this.constructor.name+": invalid scope used"),!1):(t=n.coords!=null,!t)?(this.$log.error(this.constructor.name+": no valid coords attribute found"),!1):t},f.prototype.watch=function(n,t,i){return i==null&&(i=!0),t.$watch(n,function(i){return function(r,u){if(!_.isEqual(r,u))return i.onWatch(n,t,r,u)}}(this),i)},f.prototype.onWatch=function(){},f}(i)}])}.call(this),function(){var n={}.hasOwnProperty,i=function(t,i){function u(){this.constructor=t}for(var r in i)n.call(i,r)&&(t[r]=i[r]);return u.prototype=i.prototype,t.prototype=new u,t.__super__=i.prototype,t};t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapIWindowParentModel",["uiGmapModelKey","uiGmapGmapUtil","uiGmapLogger",function(n,t,r){return function(n){function u(n,t,i,f,e,o,s,h){u.__super__.constructor.call(this,n);this.$log=r;this.$timeout=e;this.$compile=o;this.$http=s;this.$templateCache=h;this.DEFAULTS={};n.options!=null&&(this.DEFAULTS=n.options)}return i(u,n),u.include(t),u.prototype.getItem=function(n,t,i){return t==="models"?n[t][i]:n[t].get(i)},u}(n)}])}.call(this),function(){var n=function(n,t){return function(){return n.apply(t,arguments)}},i={}.hasOwnProperty,r=function(n,t){function u(){this.constructor=n}for(var r in t)i.call(t,r)&&(n[r]=t[r]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n};t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapLayerParentModel",["uiGmapBaseObject","uiGmapLogger","$timeout",function(i,u){return function(i){function f(i,r,f,e,o,s){if(this.scope=i,this.element=r,this.attrs=f,this.gMap=e,this.onLayerCreated=o!=null?o:void 0,this.$log=s!=null?s:u,this.createGoogleLayer=n(this.createGoogleLayer,this),this.attrs.type==null){this.$log.info("type attribute for the layer directive is mandatory. Layer creation aborted!!");return}this.createGoogleLayer();this.doShow=!0;t.isDefined(this.attrs.show)&&(this.doShow=this.scope.show);this.doShow&&this.gMap!=null&&this.gObject.setMap(this.gMap);this.scope.$watch("show",function(n){return function(t,i){if(t!==i)return n.doShow=t,t?n.gObject.setMap(n.gMap):n.gObject.setMap(null)}}(this),!0);this.scope.$watch("options",function(n){return function(t,i){if(t!==i)return n.gObject.setMap(null),n.gObject=null,n.createGoogleLayer()}}(this),!0);this.scope.$on("$destroy",function(n){return function(){return n.gObject.setMap(null)}}(this))}return r(f,i),f.prototype.createGoogleLayer=function(){var n;return this.gObject=this.attrs.options==null?this.attrs.namespace===void 0?new google.maps[this.attrs.type]:new google.maps[this.attrs.namespace][this.attrs.type]:this.attrs.namespace===void 0?new google.maps[this.attrs.type](this.scope.options):new google.maps[this.attrs.namespace][this.attrs.type](this.scope.options),this.gObject!=null&&this.onLayerCreated!=null?typeof(n=this.onLayerCreated(this.scope,this.gObject))=="function"?n(this.gObject):void 0:void 0},f}(i)}])}.call(this),function(){var n=function(n,t){return function(){return n.apply(t,arguments)}},i={}.hasOwnProperty,r=function(n,t){function u(){this.constructor=n}for(var r in t)i.call(t,r)&&(n[r]=t[r]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n};t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMapTypeParentModel",["uiGmapBaseObject","uiGmapLogger",function(i,u){return function(i){function f(i,r,f,e,o){if(this.scope=i,this.element=r,this.attrs=f,this.gMap=e,this.$log=o!=null?o:u,this.hideOverlay=n(this.hideOverlay,this),this.showOverlay=n(this.showOverlay,this),this.refreshMapType=n(this.refreshMapType,this),this.createMapType=n(this.createMapType,this),this.attrs.options==null){this.$log.info("options attribute for the map-type directive is mandatory. Map type creation aborted!!");return}this.id=this.gMap.overlayMapTypesCount=this.gMap.overlayMapTypesCount+1||0;this.doShow=!0;this.createMapType();t.isDefined(this.attrs.show)&&(this.doShow=this.scope.show);this.doShow&&this.gMap!=null&&this.showOverlay();this.scope.$watch("show",function(n){return function(t,i){if(t!==i)return n.doShow=t,t?n.showOverlay():n.hideOverlay()}}(this),!0);this.scope.$watch("options",function(n){return function(t,i){if(!_.isEqual(t,i))return n.refreshMapType()}}(this),!0);t.isDefined(this.attrs.refresh)&&this.scope.$watch("refresh",function(n){return function(t,i){if(!_.isEqual(t,i))return n.refreshMapType()}}(this),!0);this.scope.$on("$destroy",function(n){return function(){return n.hideOverlay(),n.mapType=null}}(this))}return r(f,i),f.prototype.createMapType=function(){if(this.scope.options.getTile!=null)this.mapType=this.scope.options;else if(this.scope.options.getTileUrl!=null)this.mapType=new google.maps.ImageMapType(this.scope.options);else{this.$log.info("options should provide either getTile or getTileUrl methods. Map type creation aborted!!");return}return this.attrs.id&&this.scope.id&&(this.gMap.mapTypes.set(this.scope.id,this.mapType),t.isDefined(this.attrs.show)||(this.doShow=!1)),this.mapType.layerId=this.id},f.prototype.refreshMapType=function(){return this.hideOverlay(),this.mapType=null,this.createMapType(),this.doShow&&this.gMap!=null?this.showOverlay():void 0},f.prototype.showOverlay=function(){return this.gMap.overlayMapTypes.push(this.mapType)},f.prototype.hideOverlay=function(){var n;return n=!1,this.gMap.overlayMapTypes.forEach(function(t){return function(i,r){n||i.layerId!==t.id||(n=!0,t.gMap.overlayMapTypes.removeAt(r))}}(this))},f}(i)}])}.call(this),function(){var n=function(n,t){return function(){return n.apply(t,arguments)}},i={}.hasOwnProperty,r=function(n,t){function u(){this.constructor=n}for(var r in t)i.call(t,r)&&(n[r]=t[r]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n};t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMarkersParentModel",["uiGmapIMarkerParentModel","uiGmapModelsWatcher","uiGmapPropMap","uiGmapMarkerChildModel","uiGmap_async","uiGmapClustererMarkerManager","uiGmapMarkerManager","$timeout","uiGmapIMarker","uiGmapPromise","uiGmapGmapUtil","uiGmapLogger",function(i,u,f,e,o,s,h,c,l,a,v){var y;return y=function(n,t){return t.plurals=new f,t.scope.plurals=t.plurals,t},function(i){function c(t,i,r,u){this.onDestroy=n(this.onDestroy,this);this.newChildMarker=n(this.newChildMarker,this);this.pieceMeal=n(this.pieceMeal,this);this.rebuildAll=n(this.rebuildAll,this);this.createAllNew=n(this.createAllNew,this);this.createChildScopes=n(this.createChildScopes,this);this.validateScope=n(this.validateScope,this);this.onWatch=n(this.onWatch,this);var e;c.__super__.constructor.call(this,t,i,r,u);this["interface"]=l;e=this;y(new f,this);this.scope.pluralsUpdate={updateCtr:0};this.$log.info(this);this.doRebuildAll=this.scope.doRebuildAll!=null?this.scope.doRebuildAll:!1;this.setIdKey(t);this.scope.$watch("doRebuildAll",function(n){return function(t,i){if(t!==i)return n.doRebuildAll=t}}(this));this.modelsLength()||(this.modelsRendered=!1);this.scope.$watch("models",function(n){return function(i,r){if(!_.isEqual(i,r)||!n.modelsRendered){if(i.length===0&&r.length===0)return;n.modelsRendered=!0;return n.onWatch("models",t,i,r)}}}(this),!this.isTrue(r.modelsbyref));this.watch("doCluster",t);this.watch("clusterOptions",t);this.watch("clusterEvents",t);this.watch("fit",t);this.watch("idKey",t);this.gManager=void 0;this.createAllNew(t)}return r(c,i),c.include(v),c.include(u),c.prototype.onWatch=function(n,t,i,r){return n==="idKey"&&i!==r&&(this.idKey=i),this.doRebuildAll||n==="doCluster"?this.rebuildAll(t):this.pieceMeal(t)},c.prototype.validateScope=function(n){var i;return i=t.isUndefined(n.models)||n.models===void 0,i&&this.$log.error(this.constructor.name+": no valid models attribute found"),c.__super__.validateScope.call(this,n)||i},c.prototype.createChildScopes=function(n){if(this.gMap!=null&&this.scope.models!=null)return n?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1)},c.prototype.createAllNew=function(n){var r,i,u,f,e;if(this.gManager!=null&&(this.gManager.clear(),delete this.gManager),n.doCluster?(n.clusterEvents&&(i=this,this.origClusterEvents?t.extend(n.clusterEvents,this.origClusterEvents):this.origClusterEvents={click:(u=n.clusterEvents)!=null?u.click:void 0,mouseout:(f=n.clusterEvents)!=null?f.mouseout:void 0,mouseover:(e=n.clusterEvents)!=null?e.mouseover:void 0},t.extend(n.clusterEvents,{click:function(n){return i.maybeExecMappedEvent(n,"click")},mouseout:function(n){return i.maybeExecMappedEvent(n,"mouseout")},mouseover:function(n){return i.maybeExecMappedEvent(n,"mouseover")}})),this.gManager=new s(this.map,void 0,n.clusterOptions,n.clusterEvents)):this.gManager=new h(this.map),!this.didQueueInitPromise(this,n))return r=null,o.promiseLock(this,a.promiseTypes.create,"createAllNew",function(n){return r=n},function(t){return function(){return o.each(n.models,function(i){return t.newChildMarker(i,n),r},o.chunkSizeFrom(n.chunk)).then(function(){return t.modelsRendered=!0,n.fit&&t.gManager.fit(),t.gManager.draw(),t.scope.pluralsUpdate.updateCtr+=1},o.chunkSizeFrom(n.chunk))}}(this))},c.prototype.rebuildAll=function(n){var t;if(n.doRebuild||n.doRebuild===void 0)return((t=this.scope.plurals)!=null?t.length:void 0)?this.onDestroy(n).then(function(t){return function(){return t.createAllNew(n)}}(this)):this.createAllNew(n)},c.prototype.pieceMeal=function(n){var i,t;if(!n.$$destroyed)return i=null,t=null,this.modelsLength()&&this.scope.plurals.length?o.promiseLock(this,a.promiseTypes.update,"pieceMeal",function(n){return i=n},function(r){return function(){return a.promise(function(){return r.figureOutState(r.idKey,n,r.scope.plurals,r.modelKeyComparison)}).then(function(u){return t=u,o.each(t.removals,function(n){if(n!=null)return n.destroy!=null&&n.destroy(),r.scope.plurals.remove(n.id),i},o.chunkSizeFrom(n.chunk))}).then(function(){return o.each(t.adds,function(t){return r.newChildMarker(t,n),i},o.chunkSizeFrom(n.chunk))}).then(function(){return o.each(t.updates,function(n){return r.updateChild(n.child,n.model),i},o.chunkSizeFrom(n.chunk))}).then(function(){return(t.adds.length>0||t.removals.length>0||t.updates.length>0)&&(n.plurals=r.scope.plurals,n.fit&&r.gManager.fit(),r.gManager.draw()),r.scope.pluralsUpdate.updateCtr+=1})}}(this)):(this.inProgress=!1,this.rebuildAll(n))},c.prototype.newChildMarker=function(n,t){var i,r,f,u;if(n[this.idKey]==null){this.$log.error("Marker model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key.");return}return this.$log.info("child",i,"markers",this.scope.markerModels),r=t.$new(!1),r.events=t.events,u={},l.scopeKeys.forEach(function(n){return u[n]=t[n]}),i=new e(r,n,u,this.map,this.DEFAULTS,this.doClick,this.gManager,f=!1),this.scope.plurals.put(n[this.idKey],i),i},c.prototype.onDestroy=function(n){return c.__super__.onDestroy.call(this,n),o.promiseLock(this,a.promiseTypes["delete"],void 0,void 0,function(n){return function(){return o.each(n.scope.plurals.values(),function(n){if(n!=null)return n.destroy(!1)},o.chunkSizeFrom(n.scope.cleanchunk,!1)).then(function(){return n.gManager!=null&&n.gManager.clear(),n.plurals.removeAll(),n.plurals!==n.scope.plurals&&console.error("plurals out of sync for MarkersParentModel"),n.scope.pluralsUpdate.updateCtr+=1})}}(this))},c.prototype.maybeExecMappedEvent=function(n,t){var i,r;if(_.isFunction((r=this.scope.clusterEvents)!=null?r[t]:void 0)&&(i=this.mapClusterToPlurals(n),this.origClusterEvents[t]))return this.origClusterEvents[t](i.cluster,i.mapped)},c.prototype.mapClusterToPlurals=function(n){var t;return t=n.getMarkers().map(function(n){return function(t){return n.scope.plurals.get(t.key).model}}(this)),{cluster:n,mapped:t}},c.prototype.getItem=function(n,t,i){return t==="models"?n[t][i]:n[t].get(i)},c}(i)}])}.call(this),function(){["Polygon","Polyline"].forEach(function(n){return t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmap"+n+"sParentModel",["uiGmapBasePolysParentModel","uiGmap"+n+"ChildModel","uiGmapI"+n,function(t,i,r){return t(r,i,n)}])})}.call(this),function(){var n={}.hasOwnProperty,i=function(t,i){function u(){this.constructor=t}for(var r in i)n.call(i,r)&&(t[r]=i[r]);return u.prototype=i.prototype,t.prototype=new u,t.__super__=i.prototype,t};t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapRectangleParentModel",["uiGmapLogger","uiGmapGmapUtil","uiGmapEventsHelper","uiGmapRectangleOptionsBuilder",function(n,t,r,u){return function(u){function f(t,i,r,u,f){var e,a,v,c,y,o,p,s,h,l,w;this.scope=t;this.attrs=r;this.map=u;this.DEFAULTS=f;e=void 0;c=!1;h=[];s=void 0;y=function(n){return function(){if(n.isTrue(r.fit))return n.fitMapBounds(n.map,e)}}(this);v=function(i){return function(){var r,u;return t.bounds!=null&&((r=t.bounds)!=null?r.sw:void 0)!=null&&((u=t.bounds)!=null?u.ne:void 0)!=null&&i.validateBoundPoints(t.bounds)?(e=i.convertBoundPoints(t.bounds),n.info("new new bounds created: "+JSON.stringify(e))):t.bounds.getNorthEast!=null&&t.bounds.getSouthWest!=null?e=t.bounds:t.bounds!=null?n.error("Invalid bounds for newValue: "+JSON.stringify(t!=null?t.bounds:void 0)):void 0}}(this);v();o=new google.maps.Rectangle(this.buildOpts(e));n.info("gObject (rectangle) created: "+o);l=!1;w=function(){return function(){var n,i,r;if(n=o.getBounds(),i=n.getNorthEast(),r=n.getSouthWest(),!l)return t.$evalAsync(function(t){return t.bounds!=null&&t.bounds.sw!=null&&t.bounds.ne!=null&&(t.bounds.ne={latitude:i.lat(),longitude:i.lng()},t.bounds.sw={latitude:r.lat(),longitude:r.lng()}),t.bounds.getNorthEast!=null&&t.bounds.getSouthWest!=null?t.bounds=n:void 0})}}(this);p=function(n){return function(){return y(),n.removeEvents(h),h.push(google.maps.event.addListener(o,"dragstart",function(){return c=!0})),h.push(google.maps.event.addListener(o,"dragend",function(){return c=!1,w()})),h.push(google.maps.event.addListener(o,"bounds_changed",function(){if(!c)return w()}))}}(this);a=function(n){return function(){return n.removeEvents(h),s!=null&&n.removeEvents(s),o.setMap(null)}}(this);e!=null&&p();t.$watch("bounds",function(n,t){var i;if((!_.isEqual(n,t)||e==null)&&!c){if(l=!0,n==null){a();return}return e==null?i=!0:y(),v(),o.setBounds(e),l=!1,i&&e!=null?p():void 0}},!0);this.setMyOptions=function(n){return function(t,i){if(!_.isEqual(t,i)&&e!=null&&t!=null)return o.setOptions(n.buildOpts(e))}}(this);this.props.push("bounds");this.watchProps(this.props);r.events!=null&&(s=this.setEvents(o,t,t),t.$watch("events",function(n){return function(i,r){if(!_.isEqual(i,r))return s!=null&&n.removeEvents(s),s=n.setEvents(o,t,t)}}(this)));t.$on("$destroy",function(){return function(){return a()}}(this));n.info(this)}return i(f,u),f.include(t),f.include(r),f}(u)}])}.call(this),function(){var n=function(n,t){return function(){return n.apply(t,arguments)}},i={}.hasOwnProperty,r=function(n,t){function u(){this.constructor=n}for(var r in t)i.call(t,r)&&(n[r]=t[r]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n};t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapSearchBoxParentModel",["uiGmapBaseObject","uiGmapLogger","uiGmapEventsHelper","$timeout","$http","$templateCache",function(i,u,f){return function(i){function e(i,r,f,e,o,s,h){var c;if(this.scope=i,this.element=r,this.attrs=f,this.gMap=e,this.ctrlPosition=o,this.template=s,this.$log=h!=null?h:u,this.setVisibility=n(this.setVisibility,this),this.getBounds=n(this.getBounds,this),this.setBounds=n(this.setBounds,this),this.createSearchBox=n(this.createSearchBox,this),this.addToParentDiv=n(this.addToParentDiv,this),this.addAsMapControl=n(this.addAsMapControl,this),this.init=n(this.init,this),this.attrs.template==null){this.$log.error("template attribute for the search-box directive is mandatory. Places Search Box creation aborted!!");return}t.isUndefined(this.scope.options)&&(this.scope.options={},this.scope.options.visible=!0);t.isUndefined(this.scope.options.visible)&&(this.scope.options.visible=!0);t.isUndefined(this.scope.options.autocomplete)&&(this.scope.options.autocomplete=!1);this.visible=i.options.visible;this.autocomplete=i.options.autocomplete;c=t.element("<div><\/div>");c.append(this.template);this.input=c.find("input")[0];this.init()}return r(e,i),e.include(f),e.prototype.init=function(){return this.createSearchBox(),this.scope.$watch("options",function(n){return function(i){if(t.isObject(i)&&(i.bounds!=null&&n.setBounds(i.bounds),i.visible!=null&&n.visible!==i.visible))return n.setVisibility(i.visible)}}(this),!0),this.attrs.parentdiv!=null?this.addToParentDiv():this.addAsMapControl(),this.listener=this.autocomplete?google.maps.event.addListener(this.gObject,"place_changed",function(n){return function(){return n.places=n.gObject.getPlace()}}(this)):google.maps.event.addListener(this.gObject,"places_changed",function(n){return function(){return n.places=n.gObject.getPlaces()}}(this)),this.listeners=this.setEvents(this.gObject,this.scope,this.scope),this.$log.info(this),this.scope.$on("$destroy",function(n){return function(){return n.gObject=null}}(this))},e.prototype.addAsMapControl=function(){return this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input)},e.prototype.addToParentDiv=function(){return this.parentDiv=t.element(document.getElementById(this.scope.parentdiv)),this.parentDiv.append(this.input)},e.prototype.createSearchBox=function(){return this.gObject=this.autocomplete?new google.maps.places.Autocomplete(this.input,this.scope.options):new google.maps.places.SearchBox(this.input,this.scope.options)},e.prototype.setBounds=function(n){if(t.isUndefined(n.isEmpty))this.$log.error("Error: SearchBoxParentModel setBounds. Bounds not an instance of LatLngBounds.");else if(n.isEmpty()===!1&&this.gObject!=null)return this.gObject.setBounds(n)},e.prototype.getBounds=function(){return this.gObject.getBounds()},e.prototype.setVisibility=function(n){return this.attrs.parentdiv!=null?n===!1?this.parentDiv.addClass("ng-hide"):this.parentDiv.removeClass("ng-hide"):n===!1?this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].clear():this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input),this.visible=n},e}(i)}])}.call(this),function(){var n=function(n,t){return function(){return n.apply(t,arguments)}},i={}.hasOwnProperty,r=function(n,t){function u(){this.constructor=n}for(var r in t)i.call(t,r)&&(n[r]=t[r]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n};t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapWindowsParentModel",["uiGmapIWindowParentModel","uiGmapModelsWatcher","uiGmapPropMap","uiGmapWindowChildModel","uiGmapLinked","uiGmap_async","uiGmapLogger","$timeout","$compile","$http","$templateCache","$interpolate","uiGmapPromise","uiGmapIWindow","uiGmapGmapUtil",function(i,u,f,e,o,s,h,c,l,a,v,y,p,w,b){return function(i){function k(t,i,r,u,e,s){this.gMap=e;this.markersScope=s;this.modelKeyComparison=n(this.modelKeyComparison,this);this.interpolateContent=n(this.interpolateContent,this);this.setChildScope=n(this.setChildScope,this);this.createWindow=n(this.createWindow,this);this.setContentKeys=n(this.setContentKeys,this);this.pieceMeal=n(this.pieceMeal,this);this.createAllNew=n(this.createAllNew,this);this.watchIdKey=n(this.watchIdKey,this);this.createChildScopes=n(this.createChildScopes,this);this.watchOurScope=n(this.watchOurScope,this);this.watchDestroy=n(this.watchDestroy,this);this.onDestroy=n(this.onDestroy,this);this.rebuildAll=n(this.rebuildAll,this);this.doINeedToWipe=n(this.doINeedToWipe,this);this.watchModels=n(this.watchModels,this);this.go=n(this.go,this);k.__super__.constructor.call(this,t,i,r,u,c,l,a,v);this["interface"]=w;this.plurals=new f;_.each(w.scopeKeys,function(n){return function(t){return n[t+"Key"]=void 0}}(this));this.linked=new o(t,i,r,u);this.contentKeys=void 0;this.isIconVisibleOnClick=void 0;this.firstTime=!0;this.firstWatchModels=!0;this.$log.info(self);this.parentScope=void 0;this.go(t)}return r(k,i),k.include(u),k.prototype.go=function(n){return this.watchOurScope(n),this.doRebuildAll=this.scope.doRebuildAll!=null?this.scope.doRebuildAll:!1,n.$watch("doRebuildAll",function(n){return function(t,i){if(t!==i)return n.doRebuildAll=t}}(this)),this.createChildScopes()},k.prototype.watchModels=function(n){var t;return t=this.markersScope!=null?"pluralsUpdate":"models",n.$watch(t,function(t){return function(i,r){var u;if(!_.isEqual(i,r)||t.firstWatchModels)return t.firstWatchModels=!1,t.doRebuildAll||t.doINeedToWipe(n.models)?t.rebuildAll(n,!0,!0):(u=t.plurals.length===0,t.existingPieces!=null?_.last(t.existingPieces._content).then(function(){return t.createChildScopes(u)}):t.createChildScopes(u))}}(this),!0)},k.prototype.doINeedToWipe=function(n){var t;return t=n!=null?n.length===0:!0,this.plurals.length>0&&t},k.prototype.rebuildAll=function(n,t,i){return this.onDestroy(i).then(function(n){return function(){if(t)return n.createChildScopes()}}(this))},k.prototype.onDestroy=function(){return k.__super__.onDestroy.call(this,this.scope),s.promiseLock(this,p.promiseTypes["delete"],void 0,void 0,function(n){return function(){return s.each(n.plurals.values(),function(n){return n.destroy()},s.chunkSizeFrom(n.scope.cleanchunk,!1)).then(function(){var t;if((t=n.plurals)!=null)return t.removeAll()})}}(this))},k.prototype.watchDestroy=function(n){return n.$on("$destroy",function(t){return function(){return t.firstWatchModels=!0,t.firstTime=!0,t.rebuildAll(n,!1,!0)}}(this))},k.prototype.watchOurScope=function(n){return _.each(w.scopeKeys,function(t){return function(i){var r;return r=i+"Key",t[r]=typeof n[i]=="function"?n[i]():n[i]}}(this))},k.prototype.createChildScopes=function(n){var i,r,u;if(n==null&&(n=!0),this.isIconVisibleOnClick=!0,t.isDefined(this.linked.attrs.isiconvisibleonclick)&&(this.isIconVisibleOnClick=this.linked.scope.isIconVisibleOnClick),i=t.isUndefined(this.linked.scope.models),i&&(this.markersScope===void 0||((r=this.markersScope)!=null?r.plurals:void 0)===void 0||((u=this.markersScope)!=null?u.models:void 0)===void 0)){this.$log.error("No models to create windows from! Need direct models or models derived from markers!");return}if(this.gMap!=null)return this.linked.scope.models!=null?(this.watchIdKey(this.linked.scope),n?this.createAllNew(this.linked.scope,!1):this.pieceMeal(this.linked.scope,!1)):(this.parentScope=this.markersScope,this.watchIdKey(this.parentScope),n?this.createAllNew(this.markersScope,!0,"plurals",!1):this.pieceMeal(this.markersScope,!0,"plurals",!1))},k.prototype.watchIdKey=function(n){return this.setIdKey(n),n.$watch("idKey",function(t){return function(i,r){if(i!==r&&i==null)return t.idKey=i,t.rebuildAll(n,!0,!0)}}(this))},k.prototype.createAllNew=function(n,t,i,r){var u;if(i==null&&(i="models"),r==null&&(r=!1),this.firstTime&&(this.watchModels(n),this.watchDestroy(n)),this.setContentKeys(n.models),!this.didQueueInitPromise(this,n))return u=null,s.promiseLock(this,p.promiseTypes.create,"createAllNew",function(n){return u=n},function(r){return function(){return s.each(n.models,function(f){var e,o;return e=t?(o=r.getItem(n,i,f[r.idKey]))!=null?o.gObject:void 0:void 0,u||(!e&&r.markersScope&&h.error("Unable to get gMarker from markersScope!"),r.createWindow(f,e,r.gMap)),u},s.chunkSizeFrom(n.chunk)).then(function(){return r.firstTime=!1})}}(this))},k.prototype.pieceMeal=function(n,t,i,r){var u,f;if(i==null&&(i="models"),r==null&&(r=!0),!n.$$destroyed)return u=null,f=null,n!=null&&this.modelsLength()&&this.plurals.length?s.promiseLock(this,p.promiseTypes.update,"pieceMeal",function(n){return u=n},function(t){return function(){return p.promise(function(){return t.figureOutState(t.idKey,n,t.plurals,t.modelKeyComparison)}).then(function(i){return f=i,s.each(f.removals,function(n){if(n!=null)return t.plurals.remove(n.id),n.destroy!=null&&n.destroy(!0),u},s.chunkSizeFrom(n.chunk))}).then(function(){return s.each(f.adds,function(r){var f,e;if(f=(e=t.getItem(n,i,r[t.idKey]))!=null?e.gObject:void 0,!f)throw"Gmarker undefined";return t.createWindow(r,f,t.gMap),u})}).then(function(){return s.each(f.updates,function(n){return t.updateChild(n.child,n.model),u},s.chunkSizeFrom(n.chunk))})}}(this)):(h.debug("pieceMeal: rebuildAll"),this.rebuildAll(this.scope,!0,!0))},k.prototype.setContentKeys=function(n){if(this.modelsLength(n))return this.contentKeys=Object.keys(n[0])},k.prototype.createWindow=function(n,t,i){var u,r,f,o,s,h;if(r=this.linked.scope.$new(!1),this.setChildScope(r,n),r.$watch("model",function(n){return function(t,i){if(t!==i)return n.setChildScope(r,t)}}(this),!0),f={html:function(t){return function(){return t.interpolateContent(t.linked.element.html(),n)}}(this)},this.DEFAULTS=this.scopeOrModelVal(this.optionsKey,this.scope,n)||{},o=this.createWindowOptions(t,r,f.html(),this.DEFAULTS),u=new e(n,r,o,this.isIconVisibleOnClick,i,(s=this.markersScope)!=null?(h=s.plurals.get(n[this.idKey]))!=null?h.scope:void 0:void 0,f,!1,!0),n[this.idKey]==null){this.$log.error("Window model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key.");return}return this.plurals.put(n[this.idKey],u),u},k.prototype.setChildScope=function(n,t){return _.each(w.scopeKeys,function(i){return function(r){var u,f;return u=r+"Key",f=i[u]==="self"?t:t[i[u]],f!==n[r]?n[r]=f:void 0}}(this)),n.model=t},k.prototype.interpolateContent=function(n,t){var e,r,u,i,o,f;if(this.contentKeys!==void 0&&this.contentKeys.length!==0){for(e=y(n),r={},f=this.contentKeys,i=0,o=f.length;i<o;i++)u=f[i],r[u]=t[u];return e(r)}},k.prototype.modelKeyComparison=function(n,t){var r,i;if(i=this.scope.coords!=null?this.scope:this.parentScope,i==null)throw"No scope or parentScope set!";return(r=b.equalCoords(this.evalModelHandle(n,i.coords),this.evalModelHandle(t,i.coords)),!r)?r:_.every(_.without(this["interface"].scopeKeys,"coords"),function(r){return function(u){return r.evalModelHandle(n,i[u])===r.evalModelHandle(t,i[u])}}(this))},k}(i)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapCircle",["uiGmapICircle","uiGmapCircleParentModel",function(n,t){return _.extend(n,{link:function(n,i,r,u){return u.getScope().deferred.promise.then(function(){return function(u){return new t(n,i,r,u)}}(this))}})}])}.call(this),function(){var n=function(n,t){return function(){return n.apply(t,arguments)}},i={}.hasOwnProperty,r=function(n,t){function u(){this.constructor=n}for(var r in t)i.call(t,r)&&(n[r]=t[r]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapControl",["uiGmapIControl","$http","$templateCache","$compile","$controller","uiGmapGoogleMapApi",function(i,u,f,e,o,s){return function(h){function c(){this.link=n(this.link,this);c.__super__.constructor.call(this)}return r(c,h),c.prototype.link=function(n,r,h,c){return s.then(function(r){return function(s){var h,l;if(t.isUndefined(n.template)){r.$log.error("mapControl: could not find a valid template property");return}if(h=t.isDefined(n.index&&!isNaN(parseInt(n.index)))?parseInt(n.index):void 0,l=t.isDefined(n.position)?n.position.toUpperCase().replace(/-/g,"_"):"TOP_CENTER",!s.ControlPosition[l]){r.$log.error("mapControl: invalid position property");return}return i.mapPromise(n,c).then(function(i){var s,c;return s=void 0,c=t.element("<div><\/div>"),u.get(n.template,{cache:f}).success(function(i){var u,r;return r=n.$new(),c.append(i),t.isDefined(n.controller)&&(u=o(n.controller,{$scope:r}),c.children().data("$ngControllerController",u)),s=e(c.children())(r),h?s[0].index=h:void 0}).error(function(){return r.$log.error("mapControl: template could not be found")}).then(function(){return i.controls[google.maps.ControlPosition[l]].push(s[0])})})}}(this))},c}(i)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapDragZoom",["uiGmapCtrlHandle","uiGmapPropertyAction",function(n,t){return{restrict:"EMA",transclude:!0,template:'<div class="angular-google-map-dragzoom" ng-transclude style="display: none"><\/div>',require:"^uiGmapGoogleMap",scope:{keyboardkey:"=",options:"=",spec:"="},controller:["$scope","$element",function(t,i){return t.ctrlType="uiGmapDragZoom",_.extend(this,n.handle(t,i))}],link:function(i,r,u,f){return n.mapPromise(i,f).then(function(n){var r,u,f;return r=function(t){return n.enableKeyDragZoom(t),i.spec?i.spec.enableKeyDragZoom(t):void 0},u=new t(function(n,t){return t?r({key:t}):r()}),f=new t(function(n,t){if(t)return r(t)}),i.$watch("keyboardkey",u.sic),u.sic(i.keyboardkey),i.$watch("options",f.sic),f.sic(i.options)})}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapDrawingManager",["uiGmapIDrawingManager","uiGmapDrawingManagerParentModel",function(n,t){return _.extend(n,{link:function(n,i,r,u){return u.getScope().deferred.promise.then(function(u){return new t(n,i,r,u)})}})}])}.call(this),function(){var n=function(n,t){return function(){return n.apply(t,arguments)}},i={}.hasOwnProperty,r=function(n,t){function u(){this.constructor=n}for(var r in t)i.call(t,r)&&(n[r]=t[r]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapApiFreeDrawPolygons",["uiGmapLogger","uiGmapBaseObject","uiGmapCtrlHandle","uiGmapDrawFreeHandChildModel","uiGmapLodash",function(t,i,u,f,e){return function(i){function o(){return this.link=n(this.link,this),o.__super__.constructor.apply(this,arguments)}return r(o,i),o.include(u),o.prototype.restrict="EMA",o.prototype.replace=!0,o.prototype.require="^uiGmapGoogleMap",o.prototype.scope={polygons:"=",draw:"="},o.prototype.link=function(n,i,r,u){return this.mapPromise(n,u).then(function(){return function(i){var o,r;return n.polygons?_.isArray(n.polygons)?(o=new f(i,u.getScope()),r=void 0,n.draw=function(){return typeof r=="function"&&r(),o.engage(n.polygons).then(function(){var t;return t=!0,r=n.$watchCollection("polygons",function(n,i){var r;if(t||n===i){t=!1;return}return r=e.differenceObjects(i,n),r.forEach(function(n){return n.setMap(null)})})})}):t.error("Free Draw Polygons must be of type Array!"):t.error("No polygons to bind to!")}}(this))},o}(i)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapICircle",[function(){var n;return n={},{restrict:"EA",replace:!0,require:"^uiGmapGoogleMap",scope:{center:"=center",radius:"=radius",stroke:"=stroke",fill:"=fill",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=icons",visible:"=",events:"=",control:"=",zIndex:"=zindex"}}}])}.call(this),function(){var n={}.hasOwnProperty,i=function(t,i){function u(){this.constructor=t}for(var r in i)n.call(i,r)&&(t[r]=i[r]);return u.prototype=i.prototype,t.prototype=new u,t.__super__=i.prototype,t};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIControl",["uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(n,t,r){return function(n){function u(){this.restrict="EA";this.replace=!0;this.require="^uiGmapGoogleMap";this.scope={template:"@template",position:"@position",controller:"@controller",index:"@index"};this.$log=t}return i(u,n),u.extend(r),u.prototype.link=function(){throw new Exception("Not implemented!!");},u}(n)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapIDrawingManager",[function(){return{restrict:"EA",replace:!0,require:"^uiGmapGoogleMap",scope:{"static":"@",control:"=",options:"=",events:"="}}}])}.call(this),function(){var n={}.hasOwnProperty,i=function(t,i){function u(){this.constructor=t}for(var r in i)n.call(i,r)&&(t[r]=i[r]);return u.prototype=i.prototype,t.prototype=new u,t.__super__=i.prototype,t};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIMarker",["uiGmapBaseObject","uiGmapCtrlHandle",function(n,t){return function(n){function r(){this.restrict="EMA";this.require="^uiGmapGoogleMap";this.priority=-1;this.transclude=!0;this.replace=!0;this.scope=_.extend(this.scope||{},r.scope)}return i(r,n),r.scope={coords:"=coords",icon:"=icon",click:"&click",options:"=options",events:"=events",fit:"=fit",idKey:"=idkey",control:"=control"},r.scopeKeys=_.keys(r.scope),r.keys=r.scopeKeys,r.extend(t),r}(n)}])}.call(this),function(){var n={}.hasOwnProperty,i=function(t,i){function u(){this.constructor=t}for(var r in i)n.call(i,r)&&(t[r]=i[r]);return u.prototype=i.prototype,t.prototype=new u,t.__super__=i.prototype,t};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIPolygon",["uiGmapGmapUtil","uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(n,t,r,u){return function(t){function f(){}return i(f,t),f.scope={path:"=path",stroke:"=stroke",clickable:"=",draggable:"=",editable:"=",geodesic:"=",fill:"=",icons:"=icons",visible:"=","static":"=",events:"=",zIndex:"=zindex",fit:"=",control:"=control"},f.scopeKeys=_.keys(f.scope),f.include(n),f.extend(u),f.prototype.restrict="EMA",f.prototype.replace=!0,f.prototype.require="^uiGmapGoogleMap",f.prototype.scope=f.scope,f.prototype.DEFAULTS={},f.prototype.$log=r,f}(t)}])}.call(this),function(){var n={}.hasOwnProperty,i=function(t,i){function u(){this.constructor=t}for(var r in i)n.call(i,r)&&(t[r]=i[r]);return u.prototype=i.prototype,t.prototype=new u,t.__super__=i.prototype,t};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIPolyline",["uiGmapGmapUtil","uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(n,t,r,u){return function(t){function f(){}return i(f,t),f.scope={path:"=",stroke:"=",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=",visible:"=","static":"=",fit:"=",events:"=",zIndex:"=zindex"},f.scopeKeys=_.keys(f.scope),f.include(n),f.extend(u),f.prototype.restrict="EMA",f.prototype.replace=!0,f.prototype.require="^uiGmapGoogleMap",f.prototype.scope=f.scope,f.prototype.DEFAULTS={},f.prototype.$log=r,f}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapIRectangle",[function(){var n;return n={},{restrict:"EMA",require:"^uiGmapGoogleMap",replace:!0,scope:{bounds:"=",stroke:"=",clickable:"=",draggable:"=",editable:"=",fill:"=",visible:"=",events:"="}}}])}.call(this),function(){var n={}.hasOwnProperty,i=function(t,i){function u(){this.constructor=t}for(var r in i)n.call(i,r)&&(t[r]=i[r]);return u.prototype=i.prototype,t.prototype=new u,t.__super__=i.prototype,t};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIWindow",["uiGmapBaseObject","uiGmapChildEvents","uiGmapCtrlHandle",function(n,t,r){return function(n){function u(){this.restrict="EMA";this.template=void 0;this.transclude=!0;this.priority=-100;this.require="^uiGmapGoogleMap";this.replace=!0;this.scope=_.extend(this.scope||{},u.scope)}return i(u,n),u.scope={coords:"=coords",template:"=template",templateUrl:"=templateurl",templateParameter:"=templateparameter",isIconVisibleOnClick:"=isiconvisibleonclick",closeClick:"&closeclick",options:"=options",control:"=control",show:"=show"},u.scopeKeys=_.keys(u.scope),u.include(t),u.extend(r),u}(n)}])}.call(this),function(){var n=function(n,t){return function(){return n.apply(t,arguments)}},r={}.hasOwnProperty,u=function(n,t){function u(){this.constructor=n}for(var i in t)r.call(t,i)&&(n[i]=t[i]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMap",["$timeout","$q","uiGmapLogger","uiGmapGmapUtil","uiGmapBaseObject","uiGmapCtrlHandle","uiGmapIsReady","uiGmapuuid","uiGmapExtendGWin","uiGmapExtendMarkerClusterer","uiGmapGoogleMapsUtilV3","uiGmapGoogleMapApi","uiGmapEventsHelper",function(r,f,e,o,s,h,c,l,a,v,y,p,w){var b,k;return b=void 0,k=[y,a,v],function(f){function s(){this.link=n(this.link,this);var t,i;t=function(n){var t,i;return i=void 0,n.$on("$destroy",function(){return c.reset()}),t=h.handle(n),n.ctrlType="Map",n.deferred.promise.then(function(){return k.forEach(function(n){return n.init()})}),t.getMap=function(){return n.map},_.extend(this,t)};this.controller=["$scope",t];i=this}return u(s,f),s.include(o),s.prototype.restrict="EMA",s.prototype.transclude=!0,s.prototype.replace=!1,s.prototype.template='<div class="angular-google-map"><div class="angular-google-map-container"><\/div><div ng-transclude style="display: none"><\/div><\/div>',s.prototype.scope={center:"=",zoom:"=",dragging:"=",control:"=",options:"=",events:"=",eventOpts:"=",styles:"=",bounds:"=",update:"="},s.prototype.link=function(n,u,f){var o,s;if(o=[],n.$on("$destroy",function(){return w.removeEvents(o)}),n.idleAndZoomChanged=!1,n.center==null){s=n.$watch("center",function(t){return function(){if(n.center)return s(),t.link(n,u,f)}}(this));return}return p.then(function(s){return function(h){var g,v,p,rt,k,ft,nt,tt,y,et,d,ut,ot,st,it,a,ht;if(b={mapTypeId:h.MapTypeId.ROADMAP},ut=c.spawn(),et=function(){return ut.deferred.resolve({instance:ut.instance,map:a})},!s.validateCoords(n.center)){e.error("angular-google-maps: could not find a valid center property");return}if(!t.isDefined(n.zoom)){e.error("angular-google-maps: map zoom property not set");return}if(rt=t.element(u),rt.addClass("angular-google-map"),y={options:{}},f.options&&(y.options=n.options),f.styles&&(y.styles=n.styles),f.type&&(ot=f.type.toUpperCase(),google.maps.MapTypeId.hasOwnProperty(ot)?y.mapTypeId=google.maps.MapTypeId[f.type.toUpperCase()]:e.error("angular-google-maps: invalid map type '"+f.type+"'")),nt=t.extend({},b,y,{center:s.getCoords(n.center),zoom:n.zoom,bounds:n.bounds}),a=new google.maps.Map(rt.find("div")[1],nt),a.uiGmap_id=l.generate(),p=!1,o.push(google.maps.event.addListenerOnce(a,"idle",function(){return n.deferred.resolve(a),et()})),v=f.events&&((ht=n.events)!=null?ht.blacklist:void 0)!=null?n.events.blacklist:[],_.isString(v)&&(v=[v]),tt=function(t,i,r){if(!_.contains(v,t))return r&&r(),o.push(google.maps.event.addListener(a,t,function(){var t;if(!((t=n.update)!=null?t.lazy:void 0))return i()}))},_.contains(v,"all")||(tt("dragstart",function(){return p=!0,n.$evalAsync(function(n){if(n.dragging!=null)return n.dragging=p})}),tt("dragend",function(){return p=!1,n.$evalAsync(function(n){if(n.dragging!=null)return n.dragging=p})}),st=function(i,r){if(i==null&&(i=a.center),r==null&&(r=n),!_.contains(v,"center"))if(t.isDefined(r.center.type)){if(r.center.coordinates[1]!==i.lat()&&(r.center.coordinates[1]=i.lat()),r.center.coordinates[0]!==i.lng())return r.center.coordinates[0]=i.lng()}else if(r.center.latitude!==i.lat()&&(r.center.latitude=i.lat()),r.center.longitude!==i.lng())return r.center.longitude=i.lng()},d=!1,tt("idle",function(){var t,r,u;return t=a.getBounds(),r=t.getNorthEast(),u=t.getSouthWest(),d=!0,n.$evalAsync(function(t){return st(),t.bounds===null||t.bounds===i||t.bounds===void 0||_.contains(v,"bounds")||(t.bounds.northeast={latitude:r.lat(),longitude:r.lng()},t.bounds.southwest={latitude:u.lat(),longitude:u.lng()}),_.contains(v,"zoom")||(t.zoom=a.zoom,n.idleAndZoomChanged=!n.idleAndZoomChanged),d=!1})})),t.isDefined(n.events)&&n.events!==null&&t.isObject(n.events)){ft=function(t){return function(){return n.events[t].apply(n,[a,t,arguments])}};g=[];for(k in n.events)n.events.hasOwnProperty(k)&&t.isFunction(n.events[k])&&g.push(google.maps.event.addListener(a,k,ft(k)));o.concat(g)}return a.getOptions=function(){return nt},n.map=a,f.control!=null&&n.control!=null&&(n.control.refresh=function(n){var t,i,r;if(a!=null)return(typeof google!="undefined"&&google!==null?(i=google.maps)!=null?(r=i.event)!=null?r.trigger:void 0:void 0:void 0)!=null&&a!=null&&google.maps.event.trigger(a,"resize"),(n!=null?n.latitude:void 0)!=null&&(n!=null?n.longitude:void 0)!=null?(t=s.getCoords(n),s.isTrue(f.pan)?a.panTo(t):a.setCenter(t)):void 0},n.control.getGMap=function(){return a},n.control.getMapOptions=function(){return nt},n.control.getCustomEventListeners=function(){return g},n.control.removeEvents=function(n){return w.removeEvents(n)}),n.$watch("center",function(t,i){var r,u;if(t!==i&&!d)return(r=s.getCoords(n.center),r.lat()===a.center.lat()&&r.lng()===a.center.lng())?void 0:(u=!0,p||(s.validateCoords(t)||e.error("Invalid center for newValue: "+JSON.stringify(t)),s.isTrue(f.pan)&&n.zoom===a.zoom?a.panTo(r):a.setCenter(r)),!1)},!0),it=null,n.$watch("zoom",function(t,i){var u,f,e;if(t!=null)return _.isEqual(t,i)||(a!=null?a.getZoom():void 0)===(n!=null?n.zoom:void 0)||d?void 0:(u=!0,it!=null&&r.cancel(it),it=r(function(){return a.setZoom(t),u=!1},((f=n.eventOpts)!=null?(e=f.debounce)!=null?e.zoomMs:void 0:void 0)+20,!1))}),n.$watch("bounds",function(n,t){var i,r,u,f,o,s,h;if(n!==t){if((n!=null?(f=n.northeast)!=null?f.latitude:void 0:void 0)==null||(n!=null?(o=n.northeast)!=null?o.longitude:void 0:void 0)==null||(n!=null?(s=n.southwest)!=null?s.latitude:void 0:void 0)==null||(n!=null?(h=n.southwest)!=null?h.longitude:void 0:void 0)==null){e.error("Invalid map bounds for new value: "+JSON.stringify(n));return}return r=new google.maps.LatLng(n.northeast.latitude,n.northeast.longitude),u=new google.maps.LatLng(n.southwest.latitude,n.southwest.longitude),i=new google.maps.LatLngBounds(u,r),a.fitBounds(i)}}),["options","styles"].forEach(function(t){return n.$watch(t,function(n,t){var i;if(i=this.exp,!_.isEqual(n,t))return i==="options"?y.options=n:y.options[i]=n,a!=null?a.setOptions(y):void 0},!0)})}}(this))},s}(s)}])}.call(this),function(){var n=function(n,t){return function(){return n.apply(t,arguments)}},i={}.hasOwnProperty,r=function(n,t){function u(){this.constructor=n}for(var r in t)i.call(t,r)&&(n[r]=t[r]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMarker",["uiGmapIMarker","uiGmapMarkerChildModel","uiGmapMarkerManager","uiGmapLogger",function(t,i,u,f){return function(e){function o(){this.link=n(this.link,this);o.__super__.constructor.call(this);this.template='<span class="angular-google-map-marker" ng-transclude><\/span>';f.info(this)}return r(o,e),o.prototype.controller=["$scope","$element",function(n,i){return n.ctrlType="Marker",_.extend(this,t.handle(n,i))}],o.prototype.link=function(n,r,f,e){var o;return o=t.mapPromise(n,e),o.then(function(){return function(r){var s,h,f,e,o,c;return f=new u(r),e=_.object(t.keys,t.keys),o=new i(n,n,e,r,{},s=!0,f,h=!1,c=!1),o.deferred.promise.then(function(t){return n.deferred.resolve(t)}),n.control!=null?n.control.getGMarkers=f.getGMarkers:void 0}}(this)),n.$on("$destroy",function(){return function(){var n;return typeof n!="undefined"&&n!==null&&n.clear(),null}}(this))},o}(t)}])}.call(this),function(){var n={}.hasOwnProperty,i=function(t,i){function u(){this.constructor=t}for(var r in i)n.call(i,r)&&(t[r]=i[r]);return u.prototype=i.prototype,t.prototype=new u,t.__super__=i.prototype,t};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMarkers",["uiGmapIMarker","uiGmapPlural","uiGmapMarkersParentModel","uiGmap_sync","uiGmapLogger",function(n,t,r,u,f){return function(u){function e(){e.__super__.constructor.call(this);this.template='<span class="angular-google-map-markers" ng-transclude><\/span>';t.extend(this,{doCluster:"=docluster",clusterOptions:"=clusteroptions",clusterEvents:"=clusterevents",modelsByRef:"=modelsbyref"});f.info(this)}return i(e,u),e.prototype.controller=["$scope","$element",function(t,i){return t.ctrlType="Markers",_.extend(this,n.handle(t,i))}],e.prototype.link=function(i,u,f,e){var o,s;return o=void 0,s=function(){return i.deferred.resolve()},n.mapPromise(i,e).then(function(n){var h;return h=e.getScope(),h.$watch("idleAndZoomChanged",function(){return _.defer(o.gManager.draw)}),o=new r(i,u,f,n),t.link(i,o),i.control!=null&&(i.control.getGMarkers=function(){var n;if((n=o.gManager)!=null)return n.getGMarkers()},i.control.getChildMarkers=function(){return o.plurals}),_.last(o.existingPieces._content).then(function(){return s()})})},e}(n)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapPlural",[function(){var n;return n=function(n,t){if(n.control!=null)return n.control.updateModels=function(i){return n.models=i,t.createChildScopes(!1)},n.control.newModels=function(i){return n.models=i,t.rebuildAll(n,!0,!0)},n.control.clean=function(){return t.rebuildAll(n,!1,!0)},n.control.getPlurals=function(){return t.plurals},n.control.getManager=function(){return t.gManager},n.control.hasManager=function(){return t.gManager!=null==!0},n.control.managerDraw=function(){var t;if(n.control.hasManager())return(t=n.control.getManager())!=null?t.draw():void 0}},{extend:function(n,t){return _.extend(n.scope||{},t||{},{idKey:"=idkey",doRebuildAll:"=dorebuildall",models:"=models",chunk:"=chunk",cleanchunk:"=cleanchunk",control:"=control"})},link:function(t,i){return n(t,i)}}}])}.call(this),function(){var n=function(n,t){return function(){return n.apply(t,arguments)}},i={}.hasOwnProperty,r=function(n,t){function u(){this.constructor=n}for(var r in t)i.call(t,r)&&(n[r]=t[r]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygon",["uiGmapIPolygon","$timeout","uiGmaparray-sync","uiGmapPolygonChildModel",function(t,i,u,f){return function(i){function u(){return this.link=n(this.link,this),u.__super__.constructor.apply(this,arguments)}return r(u,i),u.prototype.link=function(n,i,r,u){var e,o;return e=[],o=t.mapPromise(n,u),n.control!=null&&(n.control.getInstance=this,n.control.polygons=e,n.control.promise=o),o.then(function(t){return function(i){return e.push(new f(n,r,i,t.DEFAULTS))}}(this))},u}(t)}])}.call(this),function(){var n=function(n,t){return function(){return n.apply(t,arguments)}},i={}.hasOwnProperty,r=function(n,t){function u(){this.constructor=n}for(var r in t)i.call(t,r)&&(n[r]=t[r]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygons",["uiGmapIPolygon","$timeout","uiGmaparray-sync","uiGmapPolygonsParentModel","uiGmapPlural",function(i,u,f,e,o){return function(i){function u(){this.link=n(this.link,this);u.__super__.constructor.call(this);o.extend(this);this.$log.info(this)}return r(u,i),u.prototype.link=function(n,i,r,u){return u.getScope().deferred.promise.then(function(u){return function(f){return(t.isUndefined(n.path)||n.path===null)&&u.$log.warn("polygons: no valid path attribute found"),n.models||u.$log.warn("polygons: no models found to create from"),o.link(n,new e(n,i,r,f,u.DEFAULTS))}}(this))},u}(i)}])}.call(this),function(){var n=function(n,t){return function(){return n.apply(t,arguments)}},i={}.hasOwnProperty,r=function(n,t){function u(){this.constructor=n}for(var r in t)i.call(t,r)&&(n[r]=t[r]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolyline",["uiGmapIPolyline","$timeout","uiGmaparray-sync","uiGmapPolylineChildModel",function(i,u,f,e){return function(u){function f(){return this.link=n(this.link,this),f.__super__.constructor.apply(this,arguments)}return r(f,u),f.prototype.link=function(n,r,u,f){return i.mapPromise(n,f).then(function(i){return function(r){return(t.isUndefined(n.path)||n.path===null||!i.validatePath(n.path))&&i.$log.warn("polyline: no valid path attribute found"),new e(n,u,r,i.DEFAULTS)}}(this))},f}(i)}])}.call(this),function(){var n=function(n,t){return function(){return n.apply(t,arguments)}},i={}.hasOwnProperty,r=function(n,t){function u(){this.constructor=n}for(var r in t)i.call(t,r)&&(n[r]=t[r]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolylines",["uiGmapIPolyline","$timeout","uiGmaparray-sync","uiGmapPolylinesParentModel","uiGmapPlural",function(i,u,f,e,o){return function(i){function u(){this.link=n(this.link,this);u.__super__.constructor.call(this);o.extend(this);this.$log.info(this)}return r(u,i),u.prototype.link=function(n,i,r,u){return u.getScope().deferred.promise.then(function(u){return function(f){return(t.isUndefined(n.path)||n.path===null)&&u.$log.warn("polylines: no valid path attribute found"),n.models||u.$log.warn("polylines: no models found to create from"),o.link(n,new e(n,i,r,f,u.DEFAULTS))}}(this))},u}(i)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapRectangle",["uiGmapLogger","uiGmapGmapUtil","uiGmapIRectangle","uiGmapRectangleParentModel",function(n,t,i,r){return _.extend(i,{link:function(n,t,i,u){return u.getScope().deferred.promise.then(function(){return function(u){return new r(n,t,i,u)}}(this))}})}])}.call(this),function(){var n=function(n,t){return function(){return n.apply(t,arguments)}},i={}.hasOwnProperty,r=function(n,t){function u(){this.constructor=n}for(var r in t)i.call(t,r)&&(n[r]=t[r]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapWindow",["uiGmapIWindow","uiGmapGmapUtil","uiGmapWindowChildModel","uiGmapLodash","uiGmapLogger",function(i,u,f,e,o){return function(s){function h(){this.link=n(this.link,this);h.__super__.constructor.call(this);this.require=["^uiGmapGoogleMap","^?uiGmapMarker"];this.template='<span class="angular-google-maps-window" ng-transclude><\/span>';o.debug(this);this.childWindows=[]}return r(h,s),h.include(u),h.prototype.link=function(n,r,u,f){var e,o;return e=f.length>1&&f[1]!=null?f[1]:void 0,o=e!=null?e.getScope():void 0,this.mapPromise=i.mapPromise(n,f[0]),this.mapPromise.then(function(i){return function(f){var s;if(s=!0,t.isDefined(u.isiconvisibleonclick)&&(s=n.isIconVisibleOnClick),!e){i.init(n,r,s,f);return}return o.deferred.promise.then(function(){return i.init(n,r,s,f,o)})}}(this))},h.prototype.init=function(n,t,i,r,u){var o,s,h,c,l;if(s=n.options!=null?n.options:{},c=n!=null&&this.validateCoords(n.coords),(u!=null?u.getGMarker:void 0)!=null&&(h=u.getGMarker()),l=c?this.createWindowOptions(h,n,t.html(),s):s,r!=null&&(o=new f({},n,l,i,r,u,t),this.childWindows.push(o),n.$on("$destroy",function(n){return function(){return n.childWindows=e.withoutObjects(n.childWindows,[o],function(n,t){return n.scope.$id===t.scope.$id}),n.childWindows.length=0}}(this))),n.control!=null&&(n.control.getGWindows=function(n){return function(){return n.childWindows.map(function(n){return n.gObject})}}(this),n.control.getChildWindows=function(n){return function(){return n.childWindows}}(this),n.control.getPlurals=n.control.getChildWindows,n.control.showWindow=function(n){return function(){return n.childWindows.map(function(n){return n.showWindow()})}}(this),n.control.hideWindow=function(n){return function(){return n.childWindows.map(function(n){return n.hideWindow()})}}(this)),this.onChildCreation!=null&&o!=null)return this.onChildCreation(o)},h}(i)}])}.call(this),function(){var n=function(n,t){return function(){return n.apply(t,arguments)}},i={}.hasOwnProperty,r=function(n,t){function u(){this.constructor=n}for(var r in t)i.call(t,r)&&(n[r]=t[r]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapWindows",["uiGmapIWindow","uiGmapPlural","uiGmapWindowsParentModel","uiGmapPromise","uiGmapLogger",function(t,i,u,f,e){return function(t){function o(){this.init=n(this.init,this);this.link=n(this.link,this);o.__super__.constructor.call(this);this.require=["^uiGmapGoogleMap","^?uiGmapMarkers"];this.template='<span class="angular-google-maps-windows" ng-transclude><\/span>';i.extend(this);e.debug(this)}return r(o,t),o.prototype.link=function(n,t,i,r){var o,e,u;return o=r[0].getScope(),e=r.length>1&&r[1]!=null?r[1]:void 0,u=e!=null?e.getScope():void 0,o.deferred.promise.then(function(e){return function(o){var s,h;return s=(u!=null?(h=u.deferred)!=null?h.promise:void 0:void 0)||f.resolve(),s.then(function(){var f,s;return f=(s=e.parentModel)!=null?s.existingPieces:void 0,f?f.then(function(){return e.init(n,t,i,r,o,u)}):e.init(n,t,i,r,o,u)})}}(this))},o.prototype.init=function(n,t,r,f,e,o){var s;return s=new u(n,t,r,f,e,o),i.link(n,s),n.control!=null?(n.control.getGWindows=function(){return function(){return s.plurals.map(function(n){return n.gObject})}}(this),n.control.getChildWindows=function(){return function(){return s.plurals}}(this)):void 0},o}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapGoogleMap",["uiGmapMap",function(n){return new n}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapMarker",["$timeout","uiGmapMarker",function(n,t){return new t(n)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapMarkers",["$timeout","uiGmapMarkers",function(n,t){return new t(n)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolygon",["uiGmapPolygon",function(n){return new n}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapCircle",["uiGmapCircle",function(n){return n}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolyline",["uiGmapPolyline",function(n){return new n}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolylines",["uiGmapPolylines",function(n){return new n}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapRectangle",["uiGmapLogger","uiGmapRectangle",function(n,t){return t}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapWindow",["$timeout","$compile","$http","$templateCache","uiGmapWindow",function(n,t,i,r,u){return new u(n,t,i,r)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapWindows",["$timeout","$compile","$http","$templateCache","$interpolate","uiGmapWindows",function(n,t,i,r,u,f){return new f(n,t,i,r,u)}])}.call(this),function(){var n=function(n,t){return function(){return n.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapLayer",["$timeout","uiGmapLogger","uiGmapLayerParentModel",function(t,i,r){var u;return u=function(){function t(){this.link=n(this.link,this);this.$log=i;this.restrict="EMA";this.require="^uiGmapGoogleMap";this.priority=-1;this.transclude=!0;this.template="<span class='angular-google-map-layer' ng-transclude><\/span>";this.replace=!0;this.scope={show:"=show",type:"=type",namespace:"=namespace",options:"=options",onCreated:"&oncreated"}}return t.prototype.link=function(n,t,i,u){return u.getScope().deferred.promise.then(function(){return function(u){return n.onCreated!=null?new r(n,t,i,u,n.onCreated):new r(n,t,i,u)}}(this))},t}(),new u}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapMapControl",["uiGmapControl",function(n){return new n}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapDragZoom",["uiGmapDragZoom",function(n){return n}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapDrawingManager",["uiGmapDrawingManager",function(n){return n}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapFreeDrawPolygons",["uiGmapApiFreeDrawPolygons",function(n){return new n}])}.call(this),function(){var n=function(n,t){return function(){return n.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapMapType",["$timeout","uiGmapLogger","uiGmapMapTypeParentModel",function(t,i,r){var u;return u=function(){function t(){this.link=n(this.link,this);this.$log=i;this.restrict="EMA";this.require="^uiGmapGoogleMap";this.priority=-1;this.transclude=!0;this.template='<span class="angular-google-map-layer" ng-transclude><\/span>';this.replace=!0;this.scope={show:"=show",options:"=options",refresh:"=refresh",id:"@"}}return t.prototype.link=function(n,t,i,u){return u.getScope().deferred.promise.then(function(){return function(u){return new r(n,t,i,u)}}(this))},t}(),new u}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolygons",["uiGmapPolygons",function(n){return new n}])}.call(this),function(){var n=function(n,t){return function(){return n.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapSearchBox",["uiGmapGoogleMapApi","uiGmapLogger","uiGmapSearchBoxParentModel","$http","$templateCache","$compile",function(i,r,u,f,e,o){var s;return s=function(){function s(){this.link=n(this.link,this);this.$log=r;this.restrict="EMA";this.require="^uiGmapGoogleMap";this.priority=-1;this.transclude=!0;this.template="<span class='angular-google-map-search' ng-transclude><\/span>";this.replace=!0;this.scope={template:"=template",events:"=events",position:"=?position",options:"=?options",parentdiv:"=?parentdiv",ngModel:"=?"}}return s.prototype.require="ngModel",s.prototype.link=function(n,r,s,h){return i.then(function(i){return function(c){return f.get(n.template,{cache:e}).success(function(f){if(t.isUndefined(n.events)){i.$log.error("searchBox: the events property is required");return}return h.getScope().deferred.promise.then(function(e){var h;if(h=t.isDefined(n.position)?n.position.toUpperCase().replace(/-/g,"_"):"TOP_LEFT",!c.ControlPosition[h]){i.$log.error("searchBox: invalid position property");return}return new u(n,r,s,e,h,o(f)(n))})})}}(this))},s}(),new s}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapShow",["$animate","uiGmapLogger",function(n,i){return{scope:{uiGmapShow:"=",uiGmapAfterShow:"&",uiGmapAfterHide:"&"},link:function(r,u){var e,o,f;return e=function(t,i){return n[t](u,"ng-hide").then(function(){return i()})},o=function(t,i){return n[t](u,"ng-hide",i)},f=function(n,r){return t.version.major>1?i.error("uiGmapShow is not supported for Angular Major greater than 1.\nYour Major is "+t.version.major+'"'):t.version.major===1&&t.version.minor<3?o(n,r):e(n,r)},r.$watch("uiGmapShow",function(n){return n&&f("removeClass",r.uiGmapAfterShow),n?void 0:f("addClass",r.uiGmapAfterHide)})}}}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapStreetViewPanorama",["uiGmapGoogleMapApi","uiGmapLogger","uiGmapGmapUtil","uiGmapEventsHelper",function(n,i,r,u){var f;return f="uiGmapStreetViewPanorama",{restrict:"EMA",template:'<div class="angular-google-map-street-view-panorama"><\/div>',replace:!0,scope:{focalcoord:"=",radius:"=?",events:"=?",options:"=?",control:"=?",povoptions:"=?",imagestatus:"="},link:function(e,o){return n.then(function(){return function(){var a,v,c,y,w,p,s,h,l,n;return h=void 0,n=void 0,c=!1,p=void 0,s=null,l=null,a=function(){return u.removeEvents(p),h!=null&&(h.unbind("position"),h.setVisible(!1)),n!=null?((n!=null?n.setVisible:void 0)!=null&&n.setVisible(!1),n=void 0):void 0},w=function(n,i){var r;return r=google.maps.geometry.spherical.computeHeading(n,i),c=!0,e.radius=e.radius||50,l=t.extend({heading:r,zoom:1,pitch:0},e.povoptions||{}),s=s=t.extend({navigationControl:!1,addressControl:!1,linksControl:!1,position:n,pov:l,visible:!0},e.options||{}),c=!1},v=function(){var t;if(!e.focalcoord){i.error(""+f+": focalCoord needs to be defined");return}if(!e.radius){i.error(""+f+": needs a radius to set the camera view from its focal target.");return}return a(),n==null&&(n=new google.maps.StreetViewService),e.events&&(p=u.setEvents(n,e,e)),t=r.getCoords(e.focalcoord),n.getPanoramaByLocation(t,e.radius,function(i,r){var u,f,c;return e.imagestatus!=null&&(e.imagestatus=r),((c=e.events)!=null?c.image_status_changed:void 0)!=null&&e.events.image_status_changed(n,"image_status_changed",e,r),r==="OK"?(f=i.location.latLng,w(f,t),u=o[0],h=new google.maps.StreetViewPanorama(u,s)):void 0})},e.control!=null&&(e.control.getOptions=function(){return s},e.control.getPovOptions=function(){return l},e.control.getGObject=function(){return n}),e.$watch("options",function(n,t){if(n!==t&&n!==s&&!c)return v()}),y=!0,e.$watch("focalcoord",function(n,t){if(n!==t||y)return n==null?void 0:(y=!1,v())}),e.$on("$destroy",function(){return a()})}}(this))}}}])}.call(this);t.module("uiGmapgoogle-maps.wrapped").service("uiGmapuuid",function(){function n(){}return n.generate=function(){var t=n._gri,i=n._ha;return i(t(32),8)+"-"+i(t(16),4)+"-"+i(16384|t(12),4)+"-"+i(32768|t(14),4)+"-"+i(t(48),12)},n._gri=function(n){return 0>n?NaN:30>=n?0|Math.random()*(1<<n):53>=n?(0|1073741824*Math.random())+1073741824*(0|Math.random()*(1<<n-30)):NaN},n._ha=function(n,t){for(var i=n.toString(16),r=t-i.length,u="0";0<r;r>>>=1,u+=u)r&1&&(i=u+i);return i},n});t.module("uiGmapgoogle-maps.wrapped").service("uiGmapGoogleMapsUtilV3",function(){return{init:_.once(function(){
/*!
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *       http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function r(n){n=n||{};google.maps.OverlayView.apply(this,arguments);this.content_=n.content||"";this.disableAutoPan_=n.disableAutoPan||!1;this.maxWidth_=n.maxWidth||0;this.pixelOffset_=n.pixelOffset||new google.maps.Size(0,0);this.position_=n.position||new google.maps.LatLng(0,0);this.zIndex_=n.zIndex||null;this.boxClass_=n.boxClass||"infoBox";this.boxStyle_=n.boxStyle||{};this.closeBoxMargin_=n.closeBoxMargin||"2px";this.closeBoxURL_=n.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif";n.closeBoxURL===""&&(this.closeBoxURL_="");this.infoBoxClearance_=n.infoBoxClearance||new google.maps.Size(1,1);typeof n.visible=="undefined"&&(n.visible=typeof n.isHidden=="undefined"?!0:!n.isHidden);this.isHidden_=!n.visible;this.alignBottom_=n.alignBottom||!1;this.pane_=n.pane||"floatPane";this.enableEventPropagation_=n.enableEventPropagation||!1;this.div_=null;this.closeListener_=null;this.moveListener_=null;this.contextListener_=null;this.eventListeners_=null;this.fixedWidthSet_=null}function e(n,t){n.getMarkerClusterer().extend(e,google.maps.OverlayView);this.cluster_=n;this.className_=n.getMarkerClusterer().getClusterClass();this.styles_=t;this.center_=null;this.div_=null;this.sums_=null;this.visible_=!1;this.setMap(n.getMap())}function f(n){this.markerClusterer_=n;this.map_=n.getMap();this.gridSize_=n.getGridSize();this.minClusterSize_=n.getMinimumClusterSize();this.averageCenter_=n.getAverageCenter();this.markers_=[];this.center_=null;this.bounds_=null;this.clusterIcon_=new e(this,n.getStyles())}function t(n,r,u){this.extend(t,google.maps.OverlayView);r=r||[];u=u||{};this.markers_=[];this.clusters_=[];this.listeners_=[];this.activeMap_=null;this.ready_=!1;this.gridSize_=u.gridSize||60;this.minClusterSize_=u.minimumClusterSize||2;this.maxZoom_=u.maxZoom||null;this.styles_=u.styles||[];this.title_=u.title||"";this.zoomOnClick_=!0;u.zoomOnClick!==i&&(this.zoomOnClick_=u.zoomOnClick);this.averageCenter_=!1;u.averageCenter!==i&&(this.averageCenter_=u.averageCenter);this.ignoreHidden_=!1;u.ignoreHidden!==i&&(this.ignoreHidden_=u.ignoreHidden);this.enableRetinaIcons_=!1;u.enableRetinaIcons!==i&&(this.enableRetinaIcons_=u.enableRetinaIcons);this.imagePath_=u.imagePath||t.IMAGE_PATH;this.imageExtension_=u.imageExtension||t.IMAGE_EXTENSION;this.imageSizes_=u.imageSizes||t.IMAGE_SIZES;this.calculator_=u.calculator||t.CALCULATOR;this.batchSize_=u.batchSize||t.BATCH_SIZE;this.batchSizeIE_=u.batchSizeIE||t.BATCH_SIZE_IE;this.clusterClass_=u.clusterClass||"cluster";navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize_=this.batchSizeIE_);this.setupStyles_();this.addMarkers(r,!0);this.setMap(n)}function s(n,t){function i(){}i.prototype=t.prototype;n.superClass_=t.prototype;n.prototype=new i;n.prototype.constructor=n}function u(n,t){this.marker_=n;this.handCursorURL_=n.handCursorURL;this.labelDiv_=document.createElement("div");this.labelDiv_.style.cssText="position: absolute; overflow: hidden;";this.eventDiv_=document.createElement("div");this.eventDiv_.style.cssText=this.labelDiv_.style.cssText;this.eventDiv_.setAttribute("onselectstart","return false;");this.eventDiv_.setAttribute("ondragstart","return false;");this.crossDiv_=u.getSharedCross(t)}function o(n){n=n||{};n.labelContent=n.labelContent||"";n.labelAnchor=n.labelAnchor||new google.maps.Point(0,0);n.labelClass=n.labelClass||"markerLabels";n.labelStyle=n.labelStyle||{};n.labelInBackground=n.labelInBackground||!1;typeof n.labelVisible=="undefined"&&(n.labelVisible=!0);typeof n.raiseOnDrag=="undefined"&&(n.raiseOnDrag=!0);typeof n.clickable=="undefined"&&(n.clickable=!0);typeof n.draggable=="undefined"&&(n.draggable=!1);typeof n.optimized=="undefined"&&(n.optimized=!1);n.crossImage=n.crossImage||"http"+(document.location.protocol==="https:"?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png";n.handCursor=n.handCursor||"http"+(document.location.protocol==="https:"?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/closedhand_8_8.cur";n.optimized=!1;this.label=new u(this,n.crossImage,n.handCursor);google.maps.Marker.apply(this,arguments)}r.prototype=new google.maps.OverlayView;r.prototype.createInfoBoxDiv_=function(){var n,t,i,u=this,r=function(n){n.cancelBubble=!0;n.stopPropagation&&n.stopPropagation()},f=function(n){n.returnValue=!1;n.preventDefault&&n.preventDefault();u.enableEventPropagation_||r(n)};if(!this.div_){if(this.div_=document.createElement("div"),this.setBoxStyle_(),typeof this.content_.nodeType=="undefined"?this.div_.innerHTML=this.getCloseBoxImg_()+this.content_:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(this.content_)),this.getPanes()[this.pane_].appendChild(this.div_),this.addClickHandler_(),this.div_.style.width?this.fixedWidthSet_=!0:this.maxWidth_!==0&&this.div_.offsetWidth>this.maxWidth_?(this.div_.style.width=this.maxWidth_,this.div_.style.overflow="auto",this.fixedWidthSet_=!0):(i=this.getBoxWidths_(),this.div_.style.width=this.div_.offsetWidth-i.left-i.right+"px",this.fixedWidthSet_=!1),this.panBox_(this.disableAutoPan_),!this.enableEventPropagation_){for(this.eventListeners_=[],t=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],n=0;n<t.length;n++)this.eventListeners_.push(google.maps.event.addDomListener(this.div_,t[n],r));this.eventListeners_.push(google.maps.event.addDomListener(this.div_,"mouseover",function(){this.style.cursor="default"}))}this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",f);google.maps.event.trigger(this,"domready")}};r.prototype.getCloseBoxImg_=function(){var n="";return this.closeBoxURL_!==""&&(n="<img",n+=" src='"+this.closeBoxURL_+"'",n+=" align=right",n+=" style='",n+=" position: relative;",n+=" cursor: pointer;",n+=" margin: "+this.closeBoxMargin_+";",n+="'>"),n};r.prototype.addClickHandler_=function(){var n;this.closeBoxURL_!==""?(n=this.div_.firstChild,this.closeListener_=google.maps.event.addDomListener(n,"click",this.getCloseClickHandler_())):this.closeListener_=null};r.prototype.getCloseClickHandler_=function(){var n=this;return function(t){t.cancelBubble=!0;t.stopPropagation&&t.stopPropagation();google.maps.event.trigger(n,"closeclick");n.close()}};r.prototype.panBox_=function(n){var i,y,e=0,f=0,p;if(!n&&(i=this.getMap(),i instanceof google.maps.Map)){i.getBounds().contains(this.position_)||i.setCenter(this.position_);y=i.getBounds();var l=i.getDiv(),a=l.offsetWidth,o=l.offsetHeight,s=this.pixelOffset_.width,r=this.pixelOffset_.height,v=this.div_.offsetWidth,h=this.div_.offsetHeight,c=this.infoBoxClearance_.width,u=this.infoBoxClearance_.height,t=this.getProjection().fromLatLngToContainerPixel(this.position_);t.x<-s+c?e=t.x+s-c:t.x+v+s+c>a&&(e=t.x+v+s+c-a);this.alignBottom_?t.y<-r+u+h?f=t.y+r-u-h:t.y+r+u>o&&(f=t.y+r+u-o):t.y<-r+u?f=t.y+r-u:t.y+h+r+u>o&&(f=t.y+h+r+u-o);e===0&&f===0||(p=i.getCenter(),i.panBy(e,f))}};r.prototype.setBoxStyle_=function(){var n,t;if(this.div_){this.div_.className=this.boxClass_;this.div_.style.cssText="";t=this.boxStyle_;for(n in t)t.hasOwnProperty(n)&&(this.div_.style[n]=t[n]);this.div_.style.WebkitTransform="translateZ(0)";typeof this.div_.style.opacity!="undefined"&&this.div_.style.opacity!==""&&(this.div_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+this.div_.style.opacity*100+')"',this.div_.style.filter="alpha(opacity="+this.div_.style.opacity*100+")");this.div_.style.position="absolute";this.div_.style.visibility="hidden";this.zIndex_!==null&&(this.div_.style.zIndex=this.zIndex_)}};r.prototype.getBoxWidths_=function(){var i,n={top:0,bottom:0,left:0,right:0},t=this.div_;return document.defaultView&&document.defaultView.getComputedStyle?(i=t.ownerDocument.defaultView.getComputedStyle(t,""),i&&(n.top=parseInt(i.borderTopWidth,10)||0,n.bottom=parseInt(i.borderBottomWidth,10)||0,n.left=parseInt(i.borderLeftWidth,10)||0,n.right=parseInt(i.borderRightWidth,10)||0)):document.documentElement.currentStyle&&t.currentStyle&&(n.top=parseInt(t.currentStyle.borderTopWidth,10)||0,n.bottom=parseInt(t.currentStyle.borderBottomWidth,10)||0,n.left=parseInt(t.currentStyle.borderLeftWidth,10)||0,n.right=parseInt(t.currentStyle.borderRightWidth,10)||0),n};r.prototype.onRemove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)};r.prototype.draw=function(){this.createInfoBoxDiv_();var n=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=n.x+this.pixelOffset_.width+"px";this.alignBottom_?this.div_.style.bottom=-(n.y+this.pixelOffset_.height)+"px":this.div_.style.top=n.y+this.pixelOffset_.height+"px";this.div_.style.visibility=this.isHidden_?"hidden":"visible"};r.prototype.setOptions=function(n){typeof n.boxClass!="undefined"&&(this.boxClass_=n.boxClass,this.setBoxStyle_());typeof n.boxStyle!="undefined"&&(this.boxStyle_=n.boxStyle,this.setBoxStyle_());typeof n.content!="undefined"&&this.setContent(n.content);typeof n.disableAutoPan!="undefined"&&(this.disableAutoPan_=n.disableAutoPan);typeof n.maxWidth!="undefined"&&(this.maxWidth_=n.maxWidth);typeof n.pixelOffset!="undefined"&&(this.pixelOffset_=n.pixelOffset);typeof n.alignBottom!="undefined"&&(this.alignBottom_=n.alignBottom);typeof n.position!="undefined"&&this.setPosition(n.position);typeof n.zIndex!="undefined"&&this.setZIndex(n.zIndex);typeof n.closeBoxMargin!="undefined"&&(this.closeBoxMargin_=n.closeBoxMargin);typeof n.closeBoxURL!="undefined"&&(this.closeBoxURL_=n.closeBoxURL);typeof n.infoBoxClearance!="undefined"&&(this.infoBoxClearance_=n.infoBoxClearance);typeof n.isHidden!="undefined"&&(this.isHidden_=n.isHidden);typeof n.visible!="undefined"&&(this.isHidden_=!n.visible);typeof n.enableEventPropagation!="undefined"&&(this.enableEventPropagation_=n.enableEventPropagation);this.div_&&this.draw()};r.prototype.setContent=function(n){this.content_=n;this.div_&&(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.fixedWidthSet_||(this.div_.style.width=""),typeof n.nodeType=="undefined"?this.div_.innerHTML=this.getCloseBoxImg_()+n:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(n)),this.fixedWidthSet_||(this.div_.style.width=this.div_.offsetWidth+"px",typeof n.nodeType=="undefined"?this.div_.innerHTML=this.getCloseBoxImg_()+n:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(n))),this.addClickHandler_());google.maps.event.trigger(this,"content_changed")};r.prototype.setPosition=function(n){this.position_=n;this.div_&&this.draw();google.maps.event.trigger(this,"position_changed")};r.prototype.setZIndex=function(n){this.zIndex_=n;this.div_&&(this.div_.style.zIndex=n);google.maps.event.trigger(this,"zindex_changed")};r.prototype.setVisible=function(n){this.isHidden_=!n;this.div_&&(this.div_.style.visibility=this.isHidden_?"hidden":"visible")};r.prototype.getContent=function(){return this.content_};r.prototype.getPosition=function(){return this.position_};r.prototype.getZIndex=function(){return this.zIndex_};r.prototype.getVisible=function(){return typeof this.getMap()=="undefined"||this.getMap()===null?!1:!this.isHidden_};r.prototype.show=function(){this.isHidden_=!1;this.div_&&(this.div_.style.visibility="visible")};r.prototype.hide=function(){this.isHidden_=!0;this.div_&&(this.div_.style.visibility="hidden")};r.prototype.open=function(n,t){var i=this;t&&(this.position_=t.getPosition(),this.moveListener_=google.maps.event.addListener(t,"position_changed",function(){i.setPosition(this.getPosition())}));this.setMap(n);this.div_&&this.panBox_()};r.prototype.close=function(){var n;if(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.eventListeners_){for(n=0;n<this.eventListeners_.length;n++)google.maps.event.removeListener(this.eventListeners_[n]);this.eventListeners_=null}this.moveListener_&&(google.maps.event.removeListener(this.moveListener_),this.moveListener_=null);this.contextListener_&&(google.maps.event.removeListener(this.contextListener_),this.contextListener_=null);this.setMap(null)};
/*!
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *       http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
(function(){function t(n,t){var r=this,i=new google.maps.OverlayView;i.onAdd=function(){r.init_(n,t)};i.draw=function(){};i.onRemove=function(){};i.setMap(n);this.prjov_=i}var r=function(n){var t;switch(n){case"thin":t="2px";break;case"medium":t="4px";break;case"thick":t="6px";break;default:t=n}return t},o=function(n){var i,t={};if(document.defaultView&&document.defaultView.getComputedStyle){if(i=n.ownerDocument.defaultView.getComputedStyle(n,""),i)return t.top=parseInt(i.borderTopWidth,10)||0,t.bottom=parseInt(i.borderBottomWidth,10)||0,t.left=parseInt(i.borderLeftWidth,10)||0,t.right=parseInt(i.borderRightWidth,10)||0,t}else if(document.documentElement.currentStyle&&n.currentStyle)return t.top=parseInt(r(n.currentStyle.borderTopWidth),10)||0,t.bottom=parseInt(r(n.currentStyle.borderBottomWidth),10)||0,t.left=parseInt(r(n.currentStyle.borderLeftWidth),10)||0,t.right=parseInt(r(n.currentStyle.borderRightWidth),10)||0,t;return t.top=parseInt(n.style["border-top-width"],10)||0,t.bottom=parseInt(n.style["border-bottom-width"],10)||0,t.left=parseInt(n.style["border-left-width"],10)||0,t.right=parseInt(n.style["border-right-width"],10)||0,t},u={x:0,y:0},s=function(){u.x=typeof document.documentElement.scrollLeft!="undefined"?document.documentElement.scrollLeft:document.body.scrollLeft;u.y=typeof document.documentElement.scrollTop!="undefined"?document.documentElement.scrollTop:document.body.scrollTop};s();var h=function(t){var i=0,r=0;return t=t||n.event,typeof t.pageX!="undefined"?(i=t.pageX,r=t.pageY):typeof t.clientX!="undefined"&&(i=t.clientX+u.x,r=t.clientY+u.y),{left:i,top:r}},f=function(t){for(var f=t.offsetLeft,e=t.offsetTop,i=t.offsetParent,u,h;i!==null;){i!==document.body&&i!==document.documentElement&&(f-=i.scrollLeft,e-=i.scrollTop);var r=i,o=r.offsetLeft,s=r.offsetTop;o||s||!n.getComputedStyle||(u=document.defaultView.getComputedStyle(r,null).MozTransform||document.defaultView.getComputedStyle(r,null).WebkitTransform,u&&typeof u=="string"&&(h=u.split(","),o+=parseInt(h[4],10)||0,s+=parseInt(h[5],10)||0));f+=o;e+=s;i=i.offsetParent}return{left:f,top:e}},i=function(n,t){if(n&&t)for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n},e=function(n,t){typeof t!="undefined"&&(n.style.opacity=t);typeof n.style.opacity!="undefined"&&n.style.opacity!==""&&(n.style.filter="alpha(opacity="+n.style.opacity*100+")")};t.prototype.init_=function(t,r){var u,f=this;for(this.map_=t,r=r||{},this.key_=r.key||"shift",this.key_=this.key_.toLowerCase(),this.borderWidths_=o(this.map_.getDiv()),this.veilDiv_=[],u=0;u<4;u++)this.veilDiv_[u]=document.createElement("div"),this.veilDiv_[u].onselectstart=function(){return!1},i(this.veilDiv_[u].style,{backgroundColor:"gray",opacity:.25,cursor:"crosshair"}),i(this.veilDiv_[u].style,r.paneStyle),i(this.veilDiv_[u].style,r.veilStyle),i(this.veilDiv_[u].style,{position:"absolute",overflow:"hidden",display:"none"}),this.key_==="shift"&&(this.veilDiv_[u].style.MozUserSelect="none"),e(this.veilDiv_[u]),this.veilDiv_[u].style.backgroundColor==="transparent"&&(this.veilDiv_[u].style.backgroundColor="white",e(this.veilDiv_[u],0)),this.map_.getDiv().appendChild(this.veilDiv_[u]);this.noZoom_=r.noZoom||!1;this.visualEnabled_=r.visualEnabled||!1;this.visualClass_=r.visualClass||"";this.visualPosition_=r.visualPosition||google.maps.ControlPosition.LEFT_TOP;this.visualPositionOffset_=r.visualPositionOffset||new google.maps.Size(35,0);this.visualPositionIndex_=r.visualPositionIndex||null;this.visualSprite_=r.visualSprite||"http"+(document.location.protocol==="https:"?"s":"")+"://maps.gstatic.com/mapfiles/ftr/controls/dragzoom_btn.png";this.visualSize_=r.visualSize||new google.maps.Size(20,20);this.visualTips_=r.visualTips||{};this.visualTips_.off=this.visualTips_.off||"Turn on drag zoom mode";this.visualTips_.on=this.visualTips_.on||"Turn off drag zoom mode";this.boxDiv_=document.createElement("div");i(this.boxDiv_.style,{border:"4px solid #736AFF"});i(this.boxDiv_.style,r.boxStyle);i(this.boxDiv_.style,{position:"absolute",display:"none"});e(this.boxDiv_);this.map_.getDiv().appendChild(this.boxDiv_);this.boxBorderWidths_=o(this.boxDiv_);this.listeners_=[google.maps.event.addDomListener(document,"keydown",function(n){f.onKeyDown_(n)}),google.maps.event.addDomListener(document,"keyup",function(n){f.onKeyUp_(n)}),google.maps.event.addDomListener(this.veilDiv_[0],"mousedown",function(n){f.onMouseDown_(n)}),google.maps.event.addDomListener(this.veilDiv_[1],"mousedown",function(n){f.onMouseDown_(n)}),google.maps.event.addDomListener(this.veilDiv_[2],"mousedown",function(n){f.onMouseDown_(n)}),google.maps.event.addDomListener(this.veilDiv_[3],"mousedown",function(n){f.onMouseDown_(n)}),google.maps.event.addDomListener(document,"mousedown",function(n){f.onMouseDownDocument_(n)}),google.maps.event.addDomListener(document,"mousemove",function(n){f.onMouseMove_(n)}),google.maps.event.addDomListener(document,"mouseup",function(n){f.onMouseUp_(n)}),google.maps.event.addDomListener(n,"scroll",s)];this.hotKeyDown_=!1;this.mouseDown_=!1;this.dragging_=!1;this.startPt_=null;this.endPt_=null;this.mapWidth_=null;this.mapHeight_=null;this.mousePosn_=null;this.mapPosn_=null;this.visualEnabled_&&(this.buttonDiv_=this.initControl_(this.visualPositionOffset_),this.visualPositionIndex_!==null&&(this.buttonDiv_.index=this.visualPositionIndex_),this.map_.controls[this.visualPosition_].push(this.buttonDiv_),this.controlIndex_=this.map_.controls[this.visualPosition_].length-1)};t.prototype.initControl_=function(n){var r,u,t=this;return r=document.createElement("div"),r.className=this.visualClass_,r.style.position="relative",r.style.overflow="hidden",r.style.height=this.visualSize_.height+"px",r.style.width=this.visualSize_.width+"px",r.title=this.visualTips_.off,u=document.createElement("img"),u.src=this.visualSprite_,u.style.position="absolute",u.style.left=-(this.visualSize_.width*2)+"px",u.style.top="0px",r.appendChild(u),r.onclick=function(n){t.hotKeyDown_=!t.hotKeyDown_;t.hotKeyDown_?(t.buttonDiv_.firstChild.style.left=-(t.visualSize_.width*0)+"px",t.buttonDiv_.title=t.visualTips_.on,t.activatedByControl_=!0,google.maps.event.trigger(t,"activate")):(t.buttonDiv_.firstChild.style.left=-(t.visualSize_.width*2)+"px",t.buttonDiv_.title=t.visualTips_.off,google.maps.event.trigger(t,"deactivate"));t.onMouseMove_(n)},r.onmouseover=function(){t.buttonDiv_.firstChild.style.left=-(t.visualSize_.width*1)+"px"},r.onmouseout=function(){t.hotKeyDown_?(t.buttonDiv_.firstChild.style.left=-(t.visualSize_.width*0)+"px",t.buttonDiv_.title=t.visualTips_.on):(t.buttonDiv_.firstChild.style.left=-(t.visualSize_.width*2)+"px",t.buttonDiv_.title=t.visualTips_.off)},r.ondragstart=function(){return!1},i(r.style,{cursor:"pointer",marginTop:n.height+"px",marginLeft:n.width+"px"}),r};t.prototype.isHotKeyDown_=function(t){var i;if(t=t||n.event,i=t.shiftKey&&this.key_==="shift"||t.altKey&&this.key_==="alt"||t.ctrlKey&&this.key_==="ctrl",!i)switch(t.keyCode){case 16:this.key_==="shift"&&(i=!0);break;case 17:this.key_==="ctrl"&&(i=!0);break;case 18:this.key_==="alt"&&(i=!0)}return i};t.prototype.isMouseOnMap_=function(){var n=this.mousePosn_,t,i;return n?(t=this.mapPosn_,i=this.map_.getDiv(),n.left>t.left&&n.left<t.left+i.offsetWidth&&n.top>t.top&&n.top<t.top+i.offsetHeight):!1};t.prototype.setVeilVisibility_=function(){var n,r;if(this.map_&&this.hotKeyDown_&&this.isMouseOnMap_())if(r=this.map_.getDiv(),this.mapWidth_=r.offsetWidth-(this.borderWidths_.left+this.borderWidths_.right),this.mapHeight_=r.offsetHeight-(this.borderWidths_.top+this.borderWidths_.bottom),this.activatedByControl_){var t=parseInt(this.buttonDiv_.style.left,10)+this.visualPositionOffset_.width,u=parseInt(this.buttonDiv_.style.top,10)+this.visualPositionOffset_.height,i=this.visualSize_.width,f=this.visualSize_.height;for(this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.width=t+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",this.veilDiv_[1].style.top="0px",this.veilDiv_[1].style.left=t+i+"px",this.veilDiv_[1].style.width=this.mapWidth_-(t+i)+"px",this.veilDiv_[1].style.height=this.mapHeight_+"px",this.veilDiv_[2].style.top="0px",this.veilDiv_[2].style.left=t+"px",this.veilDiv_[2].style.width=i+"px",this.veilDiv_[2].style.height=u+"px",this.veilDiv_[3].style.top=u+f+"px",this.veilDiv_[3].style.left=t+"px",this.veilDiv_[3].style.width=i+"px",this.veilDiv_[3].style.height=this.mapHeight_-(u+f)+"px",n=0;n<this.veilDiv_.length;n++)this.veilDiv_[n].style.display="block"}else{for(this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.width=this.mapWidth_+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",n=1;n<this.veilDiv_.length;n++)this.veilDiv_[n].style.width="0px",this.veilDiv_[n].style.height="0px";for(n=0;n<this.veilDiv_.length;n++)this.veilDiv_[n].style.display="block"}else for(n=0;n<this.veilDiv_.length;n++)this.veilDiv_[n].style.display="none"};t.prototype.onKeyDown_=function(n){this.map_&&!this.hotKeyDown_&&this.isHotKeyDown_(n)&&(this.mapPosn_=f(this.map_.getDiv()),this.hotKeyDown_=!0,this.activatedByControl_=!1,this.setVeilVisibility_(),google.maps.event.trigger(this,"activate"))};t.prototype.getMousePoint_=function(n){var i=h(n),t=new google.maps.Point;return t.x=i.left-this.mapPosn_.left-this.borderWidths_.left,t.y=i.top-this.mapPosn_.top-this.borderWidths_.top,t.x=Math.min(t.x,this.mapWidth_),t.y=Math.min(t.y,this.mapHeight_),t.x=Math.max(t.x,0),t.y=Math.max(t.y,0),t};t.prototype.onMouseDown_=function(n){if(this.map_&&this.hotKeyDown_){this.mapPosn_=f(this.map_.getDiv());this.dragging_=!0;this.startPt_=this.endPt_=this.getMousePoint_(n);this.boxDiv_.style.width=this.boxDiv_.style.height="0px";var t=this.prjov_.getProjection(),i=t.fromContainerPixelToLatLng(this.startPt_);google.maps.event.trigger(this,"dragstart",i)}};t.prototype.onMouseDownDocument_=function(){this.mouseDown_=!0};t.prototype.onMouseMove_=function(n){if(this.mousePosn_=h(n),this.dragging_){this.endPt_=this.getMousePoint_(n);var t=Math.min(this.startPt_.x,this.endPt_.x),i=Math.min(this.startPt_.y,this.endPt_.y),r=Math.abs(this.startPt_.x-this.endPt_.x),u=Math.abs(this.startPt_.y-this.endPt_.y),e=Math.max(0,r-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)),o=Math.max(0,u-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom));this.veilDiv_[0].style.top="0px";this.veilDiv_[0].style.left="0px";this.veilDiv_[0].style.width=t+"px";this.veilDiv_[0].style.height=this.mapHeight_+"px";this.veilDiv_[1].style.top="0px";this.veilDiv_[1].style.left=t+r+"px";this.veilDiv_[1].style.width=this.mapWidth_-(t+r)+"px";this.veilDiv_[1].style.height=this.mapHeight_+"px";this.veilDiv_[2].style.top="0px";this.veilDiv_[2].style.left=t+"px";this.veilDiv_[2].style.width=r+"px";this.veilDiv_[2].style.height=i+"px";this.veilDiv_[3].style.top=i+u+"px";this.veilDiv_[3].style.left=t+"px";this.veilDiv_[3].style.width=r+"px";this.veilDiv_[3].style.height=this.mapHeight_-(i+u)+"px";this.boxDiv_.style.top=i+"px";this.boxDiv_.style.left=t+"px";this.boxDiv_.style.width=e+"px";this.boxDiv_.style.height=o+"px";this.boxDiv_.style.display="block";google.maps.event.trigger(this,"drag",new google.maps.Point(t,i+u),new google.maps.Point(t+r,i),this.prjov_.getProjection())}else this.mouseDown_||(this.mapPosn_=f(this.map_.getDiv()),this.setVeilVisibility_())};t.prototype.onMouseUp_=function(n){var u,l=this,t,i;if(this.mouseDown_=!1,this.dragging_){if(this.getMousePoint_(n).x===this.startPt_.x&&this.getMousePoint_(n).y===this.startPt_.y){this.onKeyUp_(n);return}var f=Math.min(this.startPt_.x,this.endPt_.x),e=Math.min(this.startPt_.y,this.endPt_.y),a=Math.abs(this.startPt_.x-this.endPt_.x),v=Math.abs(this.startPt_.y-this.endPt_.y),o=!0;o&&(f+=this.borderWidths_.left,e+=this.borderWidths_.top);var r=this.prjov_.getProjection(),s=r.fromContainerPixelToLatLng(new google.maps.Point(f,e+v)),h=r.fromContainerPixelToLatLng(new google.maps.Point(f+a,e)),c=new google.maps.LatLngBounds(s,h);this.noZoom_?this.boxDiv_.style.display="none":(u=this.map_.getZoom(),this.map_.fitBounds(c),this.map_.getZoom()<u&&this.map_.setZoom(u),t=r.fromLatLngToContainerPixel(s),i=r.fromLatLngToContainerPixel(h),o&&(t.x-=this.borderWidths_.left,t.y-=this.borderWidths_.top,i.x-=this.borderWidths_.left,i.y-=this.borderWidths_.top),this.boxDiv_.style.left=t.x+"px",this.boxDiv_.style.top=i.y+"px",this.boxDiv_.style.width=Math.abs(i.x-t.x)-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)+"px",this.boxDiv_.style.height=Math.abs(i.y-t.y)-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom)+"px",setTimeout(function(){l.boxDiv_.style.display="none"},1e3));this.dragging_=!1;this.onMouseMove_(n);if(google.maps.event.trigger(this,"dragend",c),!this.isHotKeyDown_(n))this.onKeyUp_(n)}};t.prototype.onKeyUp_=function(){var n,t,i,u,f,r,e,o,s=null;if(this.map_&&this.hotKeyDown_){for(this.hotKeyDown_=!1,this.dragging_&&(this.boxDiv_.style.display="none",this.dragging_=!1,t=Math.min(this.startPt_.x,this.endPt_.x),i=Math.min(this.startPt_.y,this.endPt_.y),u=Math.abs(this.startPt_.x-this.endPt_.x),f=Math.abs(this.startPt_.y-this.endPt_.y),r=this.prjov_.getProjection(),e=r.fromContainerPixelToLatLng(new google.maps.Point(t,i+f)),o=r.fromContainerPixelToLatLng(new google.maps.Point(t+u,i)),s=new google.maps.LatLngBounds(e,o)),n=0;n<this.veilDiv_.length;n++)this.veilDiv_[n].style.display="none";this.visualEnabled_&&(this.buttonDiv_.firstChild.style.left=-(this.visualSize_.width*2)+"px",this.buttonDiv_.title=this.visualTips_.off,this.buttonDiv_.style.display="");google.maps.event.trigger(this,"deactivate",s)}};google.maps.Map.prototype.enableKeyDragZoom=function(n){this.dragZoom_=new t(this,n)};google.maps.Map.prototype.disableKeyDragZoom=function(){var t,n=this.dragZoom_;if(n){for(t=0;t<n.listeners_.length;++t)google.maps.event.removeListener(n.listeners_[t]);for(this.getDiv().removeChild(n.boxDiv_),t=0;t<n.veilDiv_.length;t++)this.getDiv().removeChild(n.veilDiv_[t]);n.visualEnabled_&&this.controls[n.visualPosition_].removeAt(n.controlIndex_);n.prjov_.setMap(null);this.dragZoom_=null}};google.maps.Map.prototype.keyDragZoomEnabled=function(){return this.dragZoom_!==null};google.maps.Map.prototype.getDragZoomObject=function(){return this.dragZoom_}})();e.prototype.onAdd=function(){var n=this,t,i;this.div_=document.createElement("div");this.div_.className=this.className_;this.visible_&&this.show();this.getPanes().overlayMouseTarget.appendChild(this.div_);this.boundsChangedListener_=google.maps.event.addListener(this.getMap(),"bounds_changed",function(){i=t});google.maps.event.addDomListener(this.div_,"mousedown",function(){t=!0;i=!1});google.maps.event.addDomListener(this.div_,"click",function(r){if(t=!1,!i){var e,f,u=n.cluster_.getMarkerClusterer();google.maps.event.trigger(u,"click",n.cluster_);google.maps.event.trigger(u,"clusterclick",n.cluster_);u.getZoomOnClick()&&(f=u.getMaxZoom(),e=n.cluster_.getBounds(),u.getMap().fitBounds(e),setTimeout(function(){u.getMap().fitBounds(e);f!==null&&u.getMap().getZoom()>f&&u.getMap().setZoom(f+1)},100));r.cancelBubble=!0;r.stopPropagation&&r.stopPropagation()}});google.maps.event.addDomListener(this.div_,"mouseover",function(){var t=n.cluster_.getMarkerClusterer();google.maps.event.trigger(t,"mouseover",n.cluster_)});google.maps.event.addDomListener(this.div_,"mouseout",function(){var t=n.cluster_.getMarkerClusterer();google.maps.event.trigger(t,"mouseout",n.cluster_)})};e.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),google.maps.event.removeListener(this.boundsChangedListener_),google.maps.event.clearInstanceListeners(this.div_),this.div_.parentNode.removeChild(this.div_),this.div_=null)};e.prototype.draw=function(){if(this.visible_){var n=this.getPosFromLatLng_(this.center_);this.div_.style.top=n.y+"px";this.div_.style.left=n.x+"px"}};e.prototype.hide=function(){this.div_&&(this.div_.style.display="none");this.visible_=!1};e.prototype.show=function(){if(this.div_){var n="",r=this.backgroundPosition_.split(" "),t=parseInt(r[0].trim(),10),i=parseInt(r[1].trim(),10),u=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(u);n="<img src='"+this.url_+"' style='position: absolute; top: "+i+"px; left: "+t+"px; ";this.cluster_.getMarkerClusterer().enableRetinaIcons_||(n+="clip: rect("+-1*i+"px, "+(-1*t+this.width_)+"px, "+(-1*i+this.height_)+"px, "+-1*t+"px);");n+="'>";this.div_.innerHTML=n+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+this.sums_.text+"<\/div>";this.div_.title=typeof this.sums_.title=="undefined"||this.sums_.title===""?this.cluster_.getMarkerClusterer().getTitle():this.sums_.title;this.div_.style.display=""}this.visible_=!0};e.prototype.useStyle=function(n){var i,t;this.sums_=n;i=Math.max(0,n.index-1);i=Math.min(this.styles_.length-1,i);t=this.styles_[i];this.url_=t.url;this.height_=t.height;this.width_=t.width;this.anchorText_=t.anchorText||[0,0];this.anchorIcon_=t.anchorIcon||[parseInt(this.height_/2,10),parseInt(this.width_/2,10)];this.textColor_=t.textColor||"black";this.textSize_=t.textSize||11;this.textDecoration_=t.textDecoration||"none";this.fontWeight_=t.fontWeight||"bold";this.fontStyle_=t.fontStyle||"normal";this.fontFamily_=t.fontFamily||"Arial,sans-serif";this.backgroundPosition_=t.backgroundPosition||"0 0"};e.prototype.setCenter=function(n){this.center_=n};e.prototype.createCss=function(n){var t=[];return t.push("cursor: pointer;"),t.push("position: absolute; top: "+n.y+"px; left: "+n.x+"px;"),t.push("width: "+this.width_+"px; height: "+this.height_+"px;"),t.join("")};e.prototype.getPosFromLatLng_=function(n){var t=this.getProjection().fromLatLngToDivPixel(n);return t.x-=this.anchorIcon_[1],t.y-=this.anchorIcon_[0],t.x=parseInt(t.x,10),t.y=parseInt(t.y,10),t};f.prototype.getSize=function(){return this.markers_.length};f.prototype.getMarkers=function(){return this.markers_};f.prototype.getCenter=function(){return this.center_};f.prototype.getMap=function(){return this.map_};f.prototype.getMarkerClusterer=function(){return this.markerClusterer_};f.prototype.getBounds=function(){for(var t=new google.maps.LatLngBounds(this.center_,this.center_),i=this.getMarkers(),n=0;n<i.length;n++)t.extend(i[n].getPosition());return t};f.prototype.remove=function(){this.clusterIcon_.setMap(null);this.markers_=[];delete this.markers_};f.prototype.addMarker=function(n){var t,i,u;if(this.isMarkerAlreadyAdded_(n))return!1;if(this.center_){if(this.averageCenter_){var r=this.markers_.length+1,f=(this.center_.lat()*(r-1)+n.getPosition().lat())/r,e=(this.center_.lng()*(r-1)+n.getPosition().lng())/r;this.center_=new google.maps.LatLng(f,e);this.calculateBounds_()}}else this.center_=n.getPosition(),this.calculateBounds_();if(n.isAdded=!0,this.markers_.push(n),i=this.markers_.length,u=this.markerClusterer_.getMaxZoom(),u!==null&&this.map_.getZoom()>u)n.getMap()!==this.map_&&n.setMap(this.map_);else if(i<this.minClusterSize_)n.getMap()!==this.map_&&n.setMap(this.map_);else if(i===this.minClusterSize_)for(t=0;t<i;t++)this.markers_[t].setMap(null);else n.setMap(null);return this.updateIcon_(),!0};f.prototype.isMarkerInClusterBounds=function(n){return this.bounds_.contains(n.getPosition())};f.prototype.calculateBounds_=function(){var n=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(n)};f.prototype.updateIcon_=function(){var r=this.markers_.length,n=this.markerClusterer_.getMaxZoom(),t,i;if(n!==null&&this.map_.getZoom()>n){this.clusterIcon_.hide();return}if(r<this.minClusterSize_){this.clusterIcon_.hide();return}t=this.markerClusterer_.getStyles().length;i=this.markerClusterer_.getCalculator()(this.markers_,t);this.clusterIcon_.setCenter(this.center_);this.clusterIcon_.useStyle(i);this.clusterIcon_.show()};f.prototype.isMarkerAlreadyAdded_=function(n){var t;if(this.markers_.indexOf)return this.markers_.indexOf(n)!==-1;for(t=0;t<this.markers_.length;t++)if(n===this.markers_[t])return!0;return!1};t.prototype.onAdd=function(){var n=this;this.activeMap_=this.getMap();this.ready_=!0;this.repaint();this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",function(){n.resetViewport_(!1);(this.getZoom()===(this.get("minZoom")||0)||this.getZoom()===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")}),google.maps.event.addListener(this.getMap(),"idle",function(){n.redraw_()})]};t.prototype.onRemove=function(){for(var n=0;n<this.markers_.length;n++)this.markers_[n].getMap()!==this.activeMap_&&this.markers_[n].setMap(this.activeMap_);for(n=0;n<this.clusters_.length;n++)this.clusters_[n].remove();for(this.clusters_=[],n=0;n<this.listeners_.length;n++)google.maps.event.removeListener(this.listeners_[n]);this.listeners_=[];this.activeMap_=null;this.ready_=!1};t.prototype.draw=function(){};t.prototype.setupStyles_=function(){var n,t;if(!(this.styles_.length>0))for(n=0;n<this.imageSizes_.length;n++)t=this.imageSizes_[n],this.styles_.push({url:this.imagePath_+(n+1)+"."+this.imageExtension_,height:t,width:t})};t.prototype.fitMapToMarkers=function(){for(var t=this.getMarkers(),i=new google.maps.LatLngBounds,n=0;n<t.length;n++)i.extend(t[n].getPosition());this.getMap().fitBounds(i)};t.prototype.getGridSize=function(){return this.gridSize_};t.prototype.setGridSize=function(n){this.gridSize_=n};t.prototype.getMinimumClusterSize=function(){return this.minClusterSize_};t.prototype.setMinimumClusterSize=function(n){this.minClusterSize_=n};t.prototype.getMaxZoom=function(){return this.maxZoom_};t.prototype.setMaxZoom=function(n){this.maxZoom_=n};t.prototype.getStyles=function(){return this.styles_};t.prototype.setStyles=function(n){this.styles_=n};t.prototype.getTitle=function(){return this.title_};t.prototype.setTitle=function(n){this.title_=n};t.prototype.getZoomOnClick=function(){return this.zoomOnClick_};t.prototype.setZoomOnClick=function(n){this.zoomOnClick_=n};t.prototype.getAverageCenter=function(){return this.averageCenter_};t.prototype.setAverageCenter=function(n){this.averageCenter_=n};t.prototype.getIgnoreHidden=function(){return this.ignoreHidden_};t.prototype.setIgnoreHidden=function(n){this.ignoreHidden_=n};t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons_};t.prototype.setEnableRetinaIcons=function(n){this.enableRetinaIcons_=n};t.prototype.getImageExtension=function(){return this.imageExtension_};t.prototype.setImageExtension=function(n){this.imageExtension_=n};t.prototype.getImagePath=function(){return this.imagePath_};t.prototype.setImagePath=function(n){this.imagePath_=n};t.prototype.getImageSizes=function(){return this.imageSizes_};t.prototype.setImageSizes=function(n){this.imageSizes_=n};t.prototype.getCalculator=function(){return this.calculator_};t.prototype.setCalculator=function(n){this.calculator_=n};t.prototype.getBatchSizeIE=function(){return this.batchSizeIE_};t.prototype.setBatchSizeIE=function(n){this.batchSizeIE_=n};t.prototype.getClusterClass=function(){return this.clusterClass_};t.prototype.setClusterClass=function(n){this.clusterClass_=n};t.prototype.getMarkers=function(){return this.markers_};t.prototype.getTotalMarkers=function(){return this.markers_.length};t.prototype.getClusters=function(){return this.clusters_};t.prototype.getTotalClusters=function(){return this.clusters_.length};t.prototype.addMarker=function(n,t){this.pushMarkerTo_(n);t||this.redraw_()};t.prototype.addMarkers=function(n,t){for(var i in n)n.hasOwnProperty(i)&&this.pushMarkerTo_(n[i]);t||this.redraw_()};t.prototype.pushMarkerTo_=function(n){if(n.getDraggable()){var t=this;google.maps.event.addListener(n,"dragend",function(){t.ready_&&(this.isAdded=!1,t.repaint())})}n.isAdded=!1;this.markers_.push(n)};t.prototype.removeMarker=function(n,t){var i=this.removeMarker_(n);return!t&&i&&this.repaint(),i};t.prototype.removeMarkers=function(n,t){for(var u,r=!1,i=0;i<n.length;i++)u=this.removeMarker_(n[i]),r=r||u;return!t&&r&&this.repaint(),r};t.prototype.removeMarker_=function(n){var t,i=-1;if(this.markers_.indexOf)i=this.markers_.indexOf(n);else for(t=0;t<this.markers_.length;t++)if(n===this.markers_[t]){i=t;break}return i===-1?!1:(n.setMap(null),this.markers_.splice(i,1),!0)};t.prototype.clearMarkers=function(){this.resetViewport_(!0);this.markers_=[]};t.prototype.repaint=function(){var n=this.clusters_.slice();this.clusters_=[];this.resetViewport_(!1);this.redraw_();setTimeout(function(){for(var t=0;t<n.length;t++)n[t].remove()},0)};t.prototype.getExtendedBounds=function(n){var t=this.getProjection(),e=new google.maps.LatLng(n.getNorthEast().lat(),n.getNorthEast().lng()),o=new google.maps.LatLng(n.getSouthWest().lat(),n.getSouthWest().lng()),r=t.fromLatLngToDivPixel(e),i,u,f;return r.x+=this.gridSize_,r.y-=this.gridSize_,i=t.fromLatLngToDivPixel(o),i.x-=this.gridSize_,i.y+=this.gridSize_,u=t.fromDivPixelToLatLng(r),f=t.fromDivPixelToLatLng(i),n.extend(u),n.extend(f),n};t.prototype.redraw_=function(){this.createClusters_(0)};t.prototype.resetViewport_=function(n){for(var i,t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();for(this.clusters_=[],t=0;t<this.markers_.length;t++)i=this.markers_[t],i.isAdded=!1,n&&i.setMap(null)};t.prototype.distanceBetweenPoints_=function(n,t){var i=(t.lat()-n.lat())*Math.PI/180,r=(t.lng()-n.lng())*Math.PI/180,u=Math.sin(i/2)*Math.sin(i/2)+Math.cos(n.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2),f=2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u));return 6371*f};t.prototype.isMarkerInBounds_=function(n,t){return t.contains(n.getPosition())};t.prototype.addToClosestCluster_=function(n){for(var u,t,e,o=4e4,r=null,i=0;i<this.clusters_.length;i++)t=this.clusters_[i],e=t.getCenter(),e&&(u=this.distanceBetweenPoints_(e,n.getPosition()),u<o&&(o=u,r=t));r&&r.isMarkerInClusterBounds(n)?r.addMarker(n):(t=new f(this),t.addMarker(n),this.clusters_.push(t))};t.prototype.createClusters_=function(n){var i,t,u,e=this,f,r;if(this.ready_){for(n===0&&(google.maps.event.trigger(this,"clusteringbegin",this),typeof this.timerRefStatic!="undefined"&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),u=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.020707717434718,-178.48388434375),new google.maps.LatLng(-85.081364443845445,178.00048865625)),f=this.getExtendedBounds(u),r=Math.min(n+this.batchSize_,this.markers_.length),i=n;i<r;i++)t=this.markers_[i],!t.isAdded&&this.isMarkerInBounds_(t,f)&&(!this.ignoreHidden_||this.ignoreHidden_&&t.getVisible())&&this.addToClosestCluster_(t);r<this.markers_.length?this.timerRefStatic=setTimeout(function(){e.createClusters_(r)},0):(delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this))}};t.prototype.extend=function(n,t){return function(n){for(var t in n.prototype)this.prototype[t]=n.prototype[t];return this}.apply(n,[t])};t.CALCULATOR=function(n,t){for(var i=0,u=n.length.toString(),r=u;r!==0;)r=parseInt(r/10,10),i++;return i=Math.min(i,t),{text:u,index:i,title:""}};t.BATCH_SIZE=2e3;t.BATCH_SIZE_IE=500;t.IMAGE_PATH="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclustererplus/images/m";t.IMAGE_EXTENSION="png";t.IMAGE_SIZES=[53,56,66,78,90];
/*!
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *       http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
s(u,google.maps.OverlayView);u.getSharedCross=function(n){var t;return typeof u.getSharedCross.crossDiv=="undefined"&&(t=document.createElement("img"),t.style.cssText="position: absolute; z-index: 1000002; display: none;",t.style.marginLeft="-8px",t.style.marginTop="-9px",t.src=n,u.getSharedCross.crossDiv=t),u.getSharedCross.crossDiv};u.prototype.onAdd=function(){var n=this,r=!1,t=!1,s,h,c,e,i,l,a,f=20,v="url("+this.handCursorURL_+")",o=function(n){n.preventDefault&&n.preventDefault();n.cancelBubble=!0;n.stopPropagation&&n.stopPropagation()},y=function(){n.marker_.setAnimation(null)};this.getPanes().overlayImage.appendChild(this.labelDiv_);this.getPanes().overlayMouseTarget.appendChild(this.eventDiv_);typeof u.getSharedCross.processed=="undefined"&&(this.getPanes().overlayImage.appendChild(this.crossDiv_),u.getSharedCross.processed=!0);this.listeners_=[google.maps.event.addDomListener(this.eventDiv_,"mouseover",function(t){(n.marker_.getDraggable()||n.marker_.getClickable())&&(this.style.cursor="pointer",google.maps.event.trigger(n.marker_,"mouseover",t))}),google.maps.event.addDomListener(this.eventDiv_,"mouseout",function(i){(n.marker_.getDraggable()||n.marker_.getClickable())&&!t&&(this.style.cursor=n.marker_.getCursor(),google.maps.event.trigger(n.marker_,"mouseout",i))}),google.maps.event.addDomListener(this.eventDiv_,"mousedown",function(i){t=!1;n.marker_.getDraggable()&&(r=!0,this.style.cursor=v);(n.marker_.getDraggable()||n.marker_.getClickable())&&(google.maps.event.trigger(n.marker_,"mousedown",i),o(i))}),google.maps.event.addDomListener(document,"mouseup",function(u){var o;if(r&&(r=!1,n.eventDiv_.style.cursor="pointer",google.maps.event.trigger(n.marker_,"mouseup",u)),t){if(i){o=n.getProjection().fromLatLngToDivPixel(n.marker_.getPosition());o.y+=f;n.marker_.setPosition(n.getProjection().fromDivPixelToLatLng(o));try{n.marker_.setAnimation(google.maps.Animation.BOUNCE);setTimeout(y,1406)}catch(h){}}n.crossDiv_.style.display="none";n.marker_.setZIndex(s);e=!0;t=!1;u.latLng=n.marker_.getPosition();google.maps.event.trigger(n.marker_,"dragend",u)}}),google.maps.event.addListener(n.marker_.getMap(),"mousemove",function(u){var e;r&&(t?(u.latLng=new google.maps.LatLng(u.latLng.lat()-h,u.latLng.lng()-c),e=n.getProjection().fromLatLngToDivPixel(u.latLng),i&&(n.crossDiv_.style.left=e.x+"px",n.crossDiv_.style.top=e.y+"px",n.crossDiv_.style.display="",e.y-=f),n.marker_.setPosition(n.getProjection().fromDivPixelToLatLng(e)),i&&(n.eventDiv_.style.top=e.y+f+"px"),google.maps.event.trigger(n.marker_,"drag",u)):(h=u.latLng.lat()-n.marker_.getPosition().lat(),c=u.latLng.lng()-n.marker_.getPosition().lng(),s=n.marker_.getZIndex(),l=n.marker_.getPosition(),a=n.marker_.getMap().getCenter(),i=n.marker_.get("raiseOnDrag"),t=!0,n.marker_.setZIndex(1e6),u.latLng=n.marker_.getPosition(),google.maps.event.trigger(n.marker_,"dragstart",u)))}),google.maps.event.addDomListener(document,"keydown",function(r){t&&r.keyCode===27&&(i=!1,n.marker_.setPosition(l),n.marker_.getMap().setCenter(a),google.maps.event.trigger(document,"mouseup",r))}),google.maps.event.addDomListener(this.eventDiv_,"click",function(t){(n.marker_.getDraggable()||n.marker_.getClickable())&&(e?e=!1:(google.maps.event.trigger(n.marker_,"click",t),o(t)))}),google.maps.event.addDomListener(this.eventDiv_,"dblclick",function(t){(n.marker_.getDraggable()||n.marker_.getClickable())&&(google.maps.event.trigger(n.marker_,"dblclick",t),o(t))}),google.maps.event.addListener(this.marker_,"dragstart",function(){t||(i=this.get("raiseOnDrag"))}),google.maps.event.addListener(this.marker_,"drag",function(){t||i&&(n.setPosition(f),n.labelDiv_.style.zIndex=1e6+(this.get("labelInBackground")?-1:1))}),google.maps.event.addListener(this.marker_,"dragend",function(){t||i&&n.setPosition(0)}),google.maps.event.addListener(this.marker_,"position_changed",function(){n.setPosition()}),google.maps.event.addListener(this.marker_,"zindex_changed",function(){n.setZIndex()}),google.maps.event.addListener(this.marker_,"visible_changed",function(){n.setVisible()}),google.maps.event.addListener(this.marker_,"labelvisible_changed",function(){n.setVisible()}),google.maps.event.addListener(this.marker_,"title_changed",function(){n.setTitle()}),google.maps.event.addListener(this.marker_,"labelcontent_changed",function(){n.setContent()}),google.maps.event.addListener(this.marker_,"labelanchor_changed",function(){n.setAnchor()}),google.maps.event.addListener(this.marker_,"labelclass_changed",function(){n.setStyles()}),google.maps.event.addListener(this.marker_,"labelstyle_changed",function(){n.setStyles()})]};u.prototype.onRemove=function(){var n;for(this.labelDiv_.parentNode.removeChild(this.labelDiv_),this.eventDiv_.parentNode.removeChild(this.eventDiv_),n=0;n<this.listeners_.length;n++)google.maps.event.removeListener(this.listeners_[n])};u.prototype.draw=function(){this.setContent();this.setTitle();this.setStyles()};u.prototype.setContent=function(){var n=this.marker_.get("labelContent");typeof n.nodeType=="undefined"?(this.labelDiv_.innerHTML=n,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(n),n=n.cloneNode(!0),this.eventDiv_.innerHTML="",this.eventDiv_.appendChild(n))};u.prototype.setTitle=function(){this.eventDiv_.title=this.marker_.getTitle()||""};u.prototype.setStyles=function(){var n,t;this.labelDiv_.className=this.marker_.get("labelClass");this.eventDiv_.className=this.labelDiv_.className;this.labelDiv_.style.cssText="";this.eventDiv_.style.cssText="";t=this.marker_.get("labelStyle");for(n in t)t.hasOwnProperty(n)&&(this.labelDiv_.style[n]=t[n],this.eventDiv_.style[n]=t[n]);this.setMandatoryStyles()};u.prototype.setMandatoryStyles=function(){this.labelDiv_.style.position="absolute";this.labelDiv_.style.overflow="hidden";typeof this.labelDiv_.style.opacity!="undefined"&&this.labelDiv_.style.opacity!==""&&(this.labelDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity='+this.labelDiv_.style.opacity*100+')"',this.labelDiv_.style.filter="alpha(opacity="+this.labelDiv_.style.opacity*100+")");this.eventDiv_.style.position=this.labelDiv_.style.position;this.eventDiv_.style.overflow=this.labelDiv_.style.overflow;this.eventDiv_.style.opacity=.01;this.eventDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity=1)"';this.eventDiv_.style.filter="alpha(opacity=1)";this.setAnchor();this.setPosition();this.setVisible()};u.prototype.setAnchor=function(){var n=this.marker_.get("labelAnchor");this.labelDiv_.style.marginLeft=-n.x+"px";this.labelDiv_.style.marginTop=-n.y+"px";this.eventDiv_.style.marginLeft=-n.x+"px";this.eventDiv_.style.marginTop=-n.y+"px"};u.prototype.setPosition=function(n){var t=this.getProjection().fromLatLngToDivPixel(this.marker_.getPosition());typeof n=="undefined"&&(n=0);this.labelDiv_.style.left=Math.round(t.x)+"px";this.labelDiv_.style.top=Math.round(t.y-n)+"px";this.eventDiv_.style.left=this.labelDiv_.style.left;this.eventDiv_.style.top=this.labelDiv_.style.top;this.setZIndex()};u.prototype.setZIndex=function(){var n=this.marker_.get("labelInBackground")?-1:1;typeof this.marker_.getZIndex()=="undefined"?(this.labelDiv_.style.zIndex=parseInt(this.labelDiv_.style.top,10)+n,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex):(this.labelDiv_.style.zIndex=this.marker_.getZIndex()+n,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex)};u.prototype.setVisible=function(){this.labelDiv_.style.display=this.marker_.get("labelVisible")?this.marker_.getVisible()?"block":"none":"none";this.eventDiv_.style.display=this.labelDiv_.style.display};s(o,google.maps.Marker);o.prototype.setMap=function(n){google.maps.Marker.prototype.setMap.apply(this,arguments);this.label.setMap(n)};n.InfoBox=r;n.Cluster=f;n.ClusterIcon=e;n.MarkerClusterer=t;n.MarkerLabel_=u;n.MarkerWithLabel=o})}}),function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={exports:{},id:r,loaded:!1};return n[r].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var i={};return t.m=n,t.c=i,t.p="",t(0)}([function(n,i,r){t.module("uiGmapgoogle-maps.wrapped").service("uiGmapDataStructures",function(){return{Graph:r(1).Graph,Queue:r(1).Queue}})},function(n,t,i){(function(){n.exports={Graph:i(2),Heap:i(3),LinkedList:i(4),Map:i(5),Queue:i(6),RedBlackTree:i(7),Trie:i(8)}}).call(this)},function(n){(function(){var i,t={}.hasOwnProperty;i=function(){function n(){this._nodes={};this.nodeSize=0;this.edgeSize=0}return n.prototype.addNode=function(n){if(!this._nodes[n])return this.nodeSize++,this._nodes[n]={_outEdges:{},_inEdges:{}}},n.prototype.getNode=function(n){return this._nodes[n]},n.prototype.removeNode=function(n){var r,i,u,f,e;if(i=this._nodes[n],i){f=i._outEdges;for(u in f)t.call(f,u)&&this.removeEdge(n,u);e=i._inEdges;for(r in e)t.call(e,r)&&this.removeEdge(r,n);this.nodeSize--;delete this._nodes[n]}else return;return i},n.prototype.addEdge=function(n,t,i){var r,u,f;if(i==null&&(i=1),!this.getEdge(n,t))return(u=this._nodes[n],f=this._nodes[t],!u||!f)?void 0:(r={weight:i},u._outEdges[t]=r,f._inEdges[n]=r,this.edgeSize++,r)},n.prototype.getEdge=function(n,t){var i,r;return i=this._nodes[n],r=this._nodes[t],i&&r?i._outEdges[t]:void 0},n.prototype.removeEdge=function(n,t){var i,r,u;if(r=this._nodes[n],u=this._nodes[t],i=this.getEdge(n,t),i)return delete r._outEdges[t],delete u._inEdges[n],this.edgeSize--,i},n.prototype.getInEdgesOf=function(n){var i,r,u,f;u=this._nodes[n];r=[];f=u!=null?u._inEdges:void 0;for(i in f)t.call(f,i)&&r.push(this.getEdge(i,n));return r},n.prototype.getOutEdgesOf=function(n){var i,r,u,f;i=this._nodes[n];r=[];f=i!=null?i._outEdges:void 0;for(u in f)t.call(f,u)&&r.push(this.getEdge(n,u));return r},n.prototype.getAllEdgesOf=function(n){var i,t,f,o,r,u,e;if(t=this.getInEdgesOf(n),f=this.getOutEdgesOf(n),t.length===0)return f;for(o=this.getEdge(n,n),i=r=0,u=t.length;0<=u?r<u:r>u;i=0<=u?++r:--r)if(t[i]===o){e=[t[t.length-1],t[i]];t[i]=e[0];t[t.length-1]=e[1];t.pop();break}return t.concat(f)},n.prototype.forEachNode=function(n){var i,u,r=this._nodes;for(i in r)t.call(r,i)&&(u=r[i],n(u,i))},n.prototype.forEachEdge=function(n){var e,u,o,f,i,r;i=this._nodes;for(u in i)if(t.call(i,u)){o=i[u];r=o._outEdges;for(f in r)t.call(r,f)&&(e=r[f],n(e))}},n}();n.exports=i}).call(this)},function(n){(function(){var u,i,t,r;u=function(){function n(n){var u,f,r,t,e,i;for(n==null&&(n=[]),this._data=[void 0],r=0,e=n.length;r<e;r++)f=n[r],f!=null&&this._data.push(f);if(this._data.length>1)for(u=t=2,i=this._data.length;2<=i?t<i:t>i;u=2<=i?++t:--t)this._upHeap(u);this.size=this._data.length-1}return n.prototype.add=function(n){if(n!=null)return this._data.push(n),this._upHeap(this._data.length-1),this.size++,n},n.prototype.removeMin=function(){var n;if(this._data.length!==1)return(this.size--,this._data.length===2)?this._data.pop():(n=this._data[1],this._data[1]=this._data.pop(),this._downHeap(),n)},n.prototype.peekMin=function(){return this._data[1]},n.prototype._upHeap=function(n){for(var i,r=this._data[n];this._data[n]<this._data[t(n)]&&n>1;)i=[this._data[t(n)],this._data[n]],this._data[n]=i[0],this._data[t(n)]=i[1],n=t(n)},n.prototype._downHeap=function(){for(var t,u,n=1;i(n<this._data.length);)if(t=i(n),t<this._data.length-1&&this._data[r(n)]<this._data[t]&&(t=r(n)),this._data[t]<this._data[n])u=[this._data[n],this._data[t]],this._data[t]=u[0],this._data[n]=u[1],n=t;else break},n}();t=function(n){return n>>1};i=function(n){return n<<1};r=function(n){return(n<<1)+1};n.exports=u}).call(this)},function(n){(function(){var t;t=function(){function n(n){var i,t,r;for(n==null&&(n=[]),this.head={prev:void 0,value:void 0,next:void 0},this.tail={prev:void 0,value:void 0,next:void 0},this.size=0,t=0,r=n.length;t<r;t++)i=n[t],this.add(i)}return n.prototype.at=function(n){var t,i,r,u,f;if(-this.size<=n&&n<this.size){if(n=this._adjust(n),n*2<this.size)for(t=this.head,i=r=1;r<=n;i=r+=1)t=t.next;else for(t=this.tail,i=u=1,f=this.size-n-1;u<=f;i=u+=1)t=t.prev;return t}},n.prototype.add=function(n,t){var r,i,f,u,e;if(t==null&&(t=this.size),-this.size<=t&&t<=this.size)return i={value:n},t=this._adjust(t),this.size===0?this.head=i:t===0?(f=[i,this.head,i],this.head.prev=f[0],i.next=f[1],this.head=f[2]):(r=this.at(t-1),u=[r.next,i,i,r],i.next=u[0],(e=r.next)!=null?e.prev=u[1]:void 0,r.next=u[2],i.prev=u[3]),t===this.size&&(this.tail=i),this.size++,n},n.prototype.removeAt=function(n){var t,i,r;if(n==null&&(n=this.size-1),-this.size<=n&&n<this.size)return this.size===0?void 0:(n=this._adjust(n),this.size===1?(i=this.head.value,this.head.value=this.tail.value=void 0):n===0?(i=this.head.value,this.head=this.head.next,this.head.prev=void 0):(t=this.at(n),i=t.value,t.prev.next=t.next,(r=t.next)!=null&&(r.prev=t.prev),n===this.size-1&&(this.tail=t.prev)),this.size--,i)},n.prototype.remove=function(n){var t;if(n!=null){for(t=this.head;t&&t.value!==n;)t=t.next;if(t)return this.size===1?this.head.value=this.tail.value=void 0:t===this.head?(this.head=this.head.next,this.head.prev=void 0):t===this.tail?(this.tail=this.tail.prev,this.tail.next=void 0):(t.prev.next=t.next,t.next.prev=t.prev),this.size--,n}},n.prototype.indexOf=function(n,t){var i,r;if(t==null&&(t=0),this.head.value==null&&!this.head.next||t>=this.size)return-1;for(t=Math.max(0,this._adjust(t)),i=this.at(t),r=t;i;){if(i.value===n)break;i=i.next;r++}return r===this.size?-1:r},n.prototype._adjust=function(n){return n<0?this.size+n:n},n}();n.exports=t}).call(this)},function(n){(function(){var u,t,i,r,f={}.hasOwnProperty;t="_mapId_";u=function(){function n(t){var i,r;this._content={};this._itemId=0;this._id=n._newMapId();this.size=0;for(i in t)f.call(t,i)&&(r=t[i],this.set(i,r))}return n._mapIdTracker=0,n._newMapId=function(){return this._mapIdTracker++},n.prototype.hash=function(n,u){var f,e;return u==null&&(u=!1),e=i(n),r(n)?(f=t+this._id,u&&!n[f]&&(n[f]=this._itemId++),f+"_"+n[f]):e+"_"+n},n.prototype.set=function(n,t){return this.has(n)||this.size++,this._content[this.hash(n,!0)]=[t,n],t},n.prototype.get=function(n){var t;if((t=this._content[this.hash(n)])!=null)return t[0]},n.prototype.has=function(n){return this.hash(n)in this._content},n.prototype["delete"]=function(n){var i;return(i=this.hash(n),i in this._content)?(delete this._content[i],r(n)&&delete n[t+this._id],this.size--,!0):!1},n.prototype.forEach=function(n){var t,i,r=this._content;for(t in r)f.call(r,t)&&(i=r[t],n(i[1],i[0]))},n}();r=function(n){var r,u,f,t,e;for(r=["Boolean","Number","String","Undefined","Null","RegExp","Function"],f=i(n),t=0,e=r.length;t<e;t++)if(u=r[t],f===u)return!1;return!0};i=function(n){return Object.prototype.toString.apply(n).match(/\[object (.+)\]/)[1]};n.exports=u}).call(this)},function(n){(function(){var t;t=function(){function n(n){n==null&&(n=[]);this._content=n;this._dequeueIndex=0;this.size=this._content.length}return n.prototype.enqueue=function(n){return this.size++,this._content.push(n),n},n.prototype.dequeue=function(){var n;if(this.size!==0)return this.size--,n=this._content[this._dequeueIndex],this._dequeueIndex++,this._dequeueIndex*2>this._content.length&&(this._content=this._content.slice(this._dequeueIndex),this._dequeueIndex=0),n},n.prototype.peek=function(){return this._content[this._dequeueIndex]},n}();n.exports=t}).call(this)},function(n){(function(){var t,f,e,o,i,p,c,s,u,r,h,v,l,a,y;f=0;e=1;o=2;c=3;i=1;t=2;p=function(){function n(n){var i,t,r;for(n==null&&(n=[]),this._root,this.size=0,t=0,r=n.length;t<r;t++)i=n[t],i!=null&&this.add(i)}return n.prototype.add=function(n){var h,a,l,v;if(n!=null){if(this.size++,l={value:n,_color:i},this._root){if(a=s(this._root,function(t){return n===t.value?f:n<t.value?t._left?e:(l._parent=t,t._left=l,c):t._right?o:(l._parent=t,t._right=l,c)}),a!=null)return}else this._root=l;for(h=l;;){if(h===this._root){h._color=t;break}if(h._parent._color===t)break;if(((v=y(h))!=null?v._color:void 0)===i){h._parent._color=t;y(h)._color=t;u(h)._color=i;h=u(h);continue}!r(h)&&r(h._parent)?(this._rotateLeft(h._parent),h=h._left):r(h)&&!r(h._parent)&&(this._rotateRight(h._parent),h=h._right);h._parent._color=t;u(h)._color=i;r(h)?this._rotateRight(u(h)):this._rotateLeft(u(h));break}return n}},n.prototype.has=function(n){var t;return t=s(this._root,function(t){return n===t.value?f:n<t.value?e:o}),t?!0:!1},n.prototype.peekMin=function(){var n;if((n=l(this._root))!=null)return n.value},n.prototype.peekMax=function(){var n;if((n=v(this._root))!=null)return n.value},n.prototype.remove=function(n){var t;if(t=s(this._root,function(t){return n===t.value?f:n<t.value?e:o}),t)return this._removeNode(this._root,t),this.size--,n},n.prototype.removeMin=function(){var n,t;if(n=l(this._root),n)return t=n.value,this._removeNode(this._root,n),t},n.prototype.removeMax=function(){var n,t;if(n=v(this._root),n)return t=n.value,this._removeNode(this._root,n),t},n.prototype._removeNode=function(n,u){var f,e,o,s,c,v,y,p,w,b;if(u._left&&u._right&&(e=l(u._right),u.value=e.value,u=e),e=u._left||u._right,e||(e={color:t,_right:void 0,_left:void 0,isLeaf:!0}),e._parent=u._parent,(o=u._parent)!=null&&(o[h(u)]=e),u._color===t)if(e._color===i)e._color=t,e._parent||(this._root=e);else for(;;){if(!e._parent){this._root=e.isLeaf?void 0:e;break}if(f=a(e),(f!=null?f._color:void 0)===i&&(e._parent._color=i,f._color=t,r(e)?this._rotateLeft(e._parent):this._rotateRight(e._parent)),f=a(e),e._parent._color===t&&(!f||f._color===t&&(!f._left||f._left._color===t)&&(!f._right||f._right._color===t))){f!=null&&(f._color=i);e.isLeaf&&(e._parent[h(e)]=void 0);e=e._parent;continue}if(e._parent._color===i&&(!f||f._color===t&&(!f._left||((s=f._left)!=null?s._color:void 0)===t)&&(!f._right||((c=f._right)!=null?c._color:void 0)===t))){f!=null&&(f._color=i);e._parent._color=t;break}if((f!=null?f._color:void 0)===t){r(e)&&(!f._right||f._right._color===t)&&((v=f._left)!=null?v._color:void 0)===i?(f._color=i,(y=f._left)!=null&&(y._color=t),this._rotateRight(f)):r(e)||f._left&&f._left._color!==t||((p=f._right)!=null?p._color:void 0)!==i||(f._color=i,(w=f._right)!=null&&(w._color=t),this._rotateLeft(f));break}f=a(e);f._color=e._parent._color;r(e)?(f._right._color=t,this._rotateRight(e._parent)):(f._left._color=t,this._rotateLeft(e._parent))}if(e.isLeaf)return(b=e._parent)!=null?b[h(e)]=void 0:void 0},n.prototype._rotateLeft=function(n){var t,i;return(t=n._parent)!=null&&(t[h(n)]=n._right),n._right._parent=n._parent,n._parent=n._right,n._right=n._right._left,n._parent._left=n,(i=n._right)!=null&&(i._parent=n),n._parent._parent==null?this._root=n._parent:void 0},n.prototype._rotateRight=function(n){var t,i;return(t=n._parent)!=null&&(t[h(n)]=n._left),n._left._parent=n._parent,n._parent=n._left,n._left=n._left._right,n._parent._right=n,(i=n._left)!=null&&(i._parent=n),n._parent._parent==null?this._root=n._parent:void 0},n}();r=function(n){return n===n._parent._left};h=function(n){return r(n)?"_left":"_right"};s=function(n,t){for(var r,i=n,u=void 0;i;){if(r=t(i),r===f){u=i;break}if(r===e)i=i._left;else if(r===o)i=i._right;else if(r===c)break}return u};l=function(n){return s(n,function(n){return n._left?e:f})};v=function(n){return s(n,function(n){return n._right?o:f})};u=function(n){var t;if((t=n._parent)!=null)return t._parent};y=function(n){if(u(n))return r(n._parent)?u(n)._right:u(n)._left};a=function(n){return r(n)?n._parent._right:n._parent._left};n.exports=p}).call(this)},function(n,t,i){(function(){var u,f,t,r,e={}.hasOwnProperty;u=i(6);t="end";f=function(){function n(n){var i,t,r;for(n==null&&(n=[]),this._root={},this.size=0,t=0,r=n.length;t<r;t++)i=n[t],this.add(i)}return n.prototype.add=function(n){var i,r,u,f;if(n!=null){for(this.size++,i=this._root,u=0,f=n.length;u<f;u++)r=n[u],i[r]==null&&(i[r]={}),i=i[r];return i[t]=!0,n}},n.prototype.has=function(n){var i,u,r,f;if(n==null)return!1;for(i=this._root,r=0,f=n.length;r<f;r++){if(u=n[r],i[u]==null)return!1;i=i[u]}return i[t]?!0:!1},n.prototype.longestPrefixOf=function(n){var t,i,u,r,f;if(n==null)return"";for(t=this._root,u="",r=0,f=n.length;r<f;r++){if(i=n[r],t[i]==null)break;u+=i;t=t[i]}return u},n.prototype.wordsWithPrefix=function(n){var h,r,i,f,o,a,c,s,v,l;if(n==null)return[];for(n!=null||(n=""),c=[],r=this._root,s=0,v=n.length;s<v;s++)if(i=n[s],r=r[i],r==null)return[];for(o=new u,o.enqueue([r,""]);o.size!==0;){l=o.dequeue();f=l[0];h=l[1];f[t]&&c.push(n+h);for(i in f)e.call(f,i)&&(a=f[i],o.enqueue([a,h+i]))}return c},n.prototype.remove=function(n){var i,f,o,u,s,e,c,h;if(n!=null){for(i=this._root,u=[],s=0,c=n.length;s<c;s++){if(o=n[s],i[o]==null)return;i=i[o];u.push([o,i])}if(i[t]){if(this.size--,delete i[t],r(i,1))return n;for(f=e=h=u.length-1;h<=1?e<=1:e>=1;f=h<=1?++e:--e)if(r(u[f][1],1))break;else delete u[f-1][1][u[f][0]];return r(this._root[u[0][0]],1)||delete this._root[u[0][0]],n}}},n}();r=function(n,t){var r,i;if(t===0)return!0;i=0;for(r in n)if(e.call(n,r)&&(i++,i>=t))return!0;return!1};n.exports=f}).call(this)}]);t.module("uiGmapgoogle-maps.extensions").service("uiGmapExtendMarkerClusterer",["uiGmapLodash","uiGmapPropMap",function(t,i){return{init:_.once(function(){(function(){var u={}.hasOwnProperty,r=function(n,t){function r(){this.constructor=n}for(var i in t)u.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};n.NgMapCluster=function(n){function u(n){u.__super__.constructor.call(this,n);this.markers_=new i}return r(u,n),u.prototype.addMarker=function(n){var i,r,u;if(this.isMarkerAlreadyAdded_(n)&&(u=this.markers_.get(n.key),u.getPosition().lat()==n.getPosition().lat()&&u.getPosition().lon()==n.getPosition().lon()))return!1;if(this.center_){if(this.averageCenter_){var t=this.markers_.length+1,f=(this.center_.lat()*(t-1)+n.getPosition().lat())/t,e=(this.center_.lng()*(t-1)+n.getPosition().lng())/t;this.center_=new google.maps.LatLng(f,e);this.calculateBounds_()}}else this.center_=n.getPosition(),this.calculateBounds_();return n.isAdded=!0,this.markers_.push(n),i=this.markers_.length,r=this.markerClusterer_.getMaxZoom(),r!==null&&this.map_.getZoom()>r?n.getMap()!==this.map_&&n.setMap(this.map_):i<this.minClusterSize_?n.getMap()!==this.map_&&n.setMap(this.map_):i===this.minClusterSize_?this.markers_.each(function(n){n.setMap(null)}):n.setMap(null),!0},u.prototype.isMarkerAlreadyAdded_=function(n){return t.isNullOrUndefined(this.markers_.get(n.key))},u.prototype.getBounds=function(){var n=new google.maps.LatLngBounds(this.center_,this.center_);return this.getMarkers().each(function(t){n.extend(t.getPosition())}),n},u.prototype.remove=function(){this.clusterIcon_.setMap(null);this.markers_=new i;delete this.markers_},u}(Cluster);n.NgMapMarkerClusterer=function(n){function t(n,r,u){t.__super__.constructor.call(this,n,r,u);this.markers_=new i}return r(t,n),t.prototype.clearMarkers=function(){this.resetViewport_(!0);this.markers_=new i},t.prototype.removeMarker_=function(n){return this.markers_.get(n.key)?(n.setMap(null),this.markers_.remove(n.key),!0):!1},t.prototype.createClusters_=function(n){var t,i,u,f=this;if(this.ready_){n===0&&(google.maps.event.trigger(this,"clusteringbegin",this),typeof this.timerRefStatic!="undefined"&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic));u=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.020707717434718,-178.48388434375),new google.maps.LatLng(-85.081364443845445,178.00048865625));var e=this.getExtendedBounds(u),r=Math.min(n+this.batchSize_,this.markers_.length),o=this.markers_.values();for(t=n;t<r;t++)i=o[t],!i.isAdded&&this.isMarkerInBounds_(i,e)&&(!this.ignoreHidden_||this.ignoreHidden_&&i.getVisible())&&this.addToClosestCluster_(i);if(r<this.markers_.length)this.timerRefStatic=setTimeout(function(){f.createClusters_(r)},0);else{for(t=0;t<this.clusters_.length;t++)this.clusters_[t].updateIcon_();delete this.timerRefStatic;google.maps.event.trigger(this,"clusteringend",this)}}},t.prototype.addToClosestCluster_=function(n){for(var u,t,f,e=4e4,r=null,i=0;i<this.clusters_.length;i++)t=this.clusters_[i],f=t.getCenter(),f&&(u=this.distanceBetweenPoints_(f,n.getPosition()),u<e&&(e=u,r=t));r&&r.isMarkerInClusterBounds(n)?r.addMarker(n):(t=new NgMapCluster(this),t.addMarker(n),this.clusters_.push(t))},t.prototype.redraw_=function(){this.createClusters_(0)},t.prototype.resetViewport_=function(n){for(var t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();this.clusters_=[];this.markers_.each(function(t){t.isAdded=!1;n&&t.setMap(null)})},t.prototype.extend=function(n,t){return function(n){for(var t in n.prototype)t!=="constructor"&&(this.prototype[t]=n.prototype[t]);return this}.apply(n,[t])},ClusterIcon.prototype.show=function(){if(this.div_){var n="",r=this.backgroundPosition_.split(" "),t=parseInt(r[0].trim(),10),i=parseInt(r[1].trim(),10),u=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(u);n="<img src='"+this.url_+"' style='position: absolute; top: "+i+"px; left: "+t+"px; ";n+=this.cluster_.getMarkerClusterer().enableRetinaIcons_?"width: "+this.width_+"px;height: "+this.height_+"px;":"clip: rect("+-1*i+"px, "+(-1*t+this.width_)+"px, "+(-1*i+this.height_)+"px, "+-1*t+"px);";n+="'>";this.div_.innerHTML=n+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+this.sums_.text+"<\/div>";this.div_.title=typeof this.sums_.title=="undefined"||this.sums_.title===""?this.cluster_.getMarkerClusterer().getTitle():this.sums_.title;this.div_.style.display=""}this.visible_=!0},t}(MarkerClusterer)}).call(this)})}}])})(window,angular),function(n){"use strict";n.module("treeControl",[]).directive("treecontrol",["$compile",function(t){function r(n,t){return n?t?'class="'+n+'"':n:""}function i(n,t,i){n.hasOwnProperty(t)||(n[t]=i)}return{restrict:"EA",require:"treecontrol",transclude:!0,scope:{treeModel:"=",selectedNode:"=?",selectedNodes:"=?",expandedNodes:"=?",onSelection:"&",onNodeToggle:"&",options:"=?",orderBy:"@",reverseOrder:"@",filterExpression:"=?",filterComparator:"=?"},controller:["$scope",function(u){function c(n){return!n[u.options.nodeChildren]||n[u.options.nodeChildren].length===0}function e(t,i){var u,r;if(n.isArray(t))for(i=i||[],u=0;u<t.length;u++)i[u]=t[u];else if(n.isObject(t)){i=i||{};for(r in t)!hasOwnProperty.call(t,r)||r.charAt(0)==="$"&&r.charAt(1)==="$"||(i[r]=t[r])}return i||t}function l(t,i){return t===undefined||i===undefined?!1:(t=e(t),t[u.options.nodeChildren]=[],i=e(i),i[u.options.nodeChildren]=[],n.equals(t,i))}function o(n){if(!u.options.multiSelection&&u.options.equality(n,u.selectedNode))return!0;if(u.options.multiSelection&&u.selectedNodes){for(var t=0;t<u.selectedNodes.length;t++)if(u.options.equality(n,u.selectedNodes[t]))return!0;return!1}}var f,s,h;for(u.options=u.options||{},i(u.options,"multiSelection",!1),i(u.options,"nodeChildren","children"),i(u.options,"dirSelectable","true"),i(u.options,"injectClasses",{}),i(u.options.injectClasses,"ul",""),i(u.options.injectClasses,"li",""),i(u.options.injectClasses,"liSelected",""),i(u.options.injectClasses,"iExpanded",""),i(u.options.injectClasses,"iCollapsed",""),i(u.options.injectClasses,"iLeaf",""),i(u.options.injectClasses,"label",""),i(u.options.injectClasses,"labelSelected",""),i(u.options,"equality",l),i(u.options,"isLeaf",c),u.selectedNodes=u.selectedNodes||[],u.expandedNodes=u.expandedNodes||[],u.expandedNodesMap={},f=0;f<u.expandedNodes.length;f++)u.expandedNodesMap[""+f]=u.expandedNodes[f];u.parentScopeOfTree=u.$parent;u.headClass=function(n){var i=r(u.options.injectClasses.liSelected,!1),t="";return(i&&o(n)&&(t=" "+i),u.options.isLeaf(n))?"tree-leaf"+t:u.expandedNodesMap[this.$id]?"tree-expanded"+t:"tree-collapsed"+t};u.iBranchClass=function(){return u.expandedNodesMap[this.$id]?r(u.options.injectClasses.iExpanded):r(u.options.injectClasses.iCollapsed)};u.nodeExpanded=function(){return!!u.expandedNodesMap[this.$id]};u.selectNodeHead=function(){var i=u.expandedNodesMap[this.$id]===undefined,t,n;if(u.expandedNodesMap[this.$id]=i?this.node:undefined,i)u.expandedNodes.push(this.node);else{for(n=0;n<u.expandedNodes.length&&!t;n++)u.options.equality(u.expandedNodes[n],this.node)&&(t=n);t!=undefined&&u.expandedNodes.splice(t,1)}if(u.onNodeToggle)u.onNodeToggle({node:this.node,expanded:i})};u.selectNodeLabel=function(n){var t,i;if(n[u.options.nodeChildren]&&n[u.options.nodeChildren].length>0&&!u.options.dirSelectable)this.selectNodeHead();else if(t=!1,u.options.multiSelection?(i=u.selectedNodes.indexOf(n),i===-1?(u.selectedNodes.push(n),t=!0):u.selectedNodes.splice(i,1)):u.selectedNode!=n?(u.selectedNode=n,t=!0):u.selectedNode=undefined,u.onSelection)u.onSelection({node:n,selected:t})};u.selectedClass=function(){var n=o(this.node),t=r(u.options.injectClasses.labelSelected,!1),i="";return t&&n&&(i=" "+t),n?"tree-selected"+i:""};s=u.orderBy?" | orderBy:orderBy:reverseOrder":"";h="<ul "+r(u.options.injectClasses.ul,!0)+'><li ng-repeat="node in node.'+u.options.nodeChildren+" | filter:filterExpression:filterComparator "+s+'" ng-class="headClass(node)" '+r(u.options.injectClasses.li,!0)+'><i class="tree-branch-head" ng-class="iBranchClass()" ng-click="selectNodeHead(node)"><\/i><i class="tree-leaf-head '+r(u.options.injectClasses.iLeaf,!1)+'"><\/i><div class="tree-label '+r(u.options.injectClasses.label,!1)+'" ng-class="selectedClass()" ng-click="selectNodeLabel(node)" tree-transclude><\/div><treeitem ng-if="nodeExpanded()"><\/treeitem><\/li><\/ul>';this.template=t(h)}],compile:function(t,i,r){return function(t,i,u,f){t.$watch("treeModel",function(i){if(n.isArray(i)){if(n.isDefined(t.node)&&n.equals(t.node[t.options.nodeChildren],i))return;t.node={};t.synteticRoot=t.node;t.node[t.options.nodeChildren]=i}else{if(n.equals(t.node,i))return;t.node=i}});t.$watchCollection("expandedNodes",function(r){var e=0,u={},o=i.find("li"),f=[];n.forEach(o,function(t){var i=n.element(t),r=i.scope();f.push(r)});n.forEach(r,function(n){for(var i,r=!1,o=0;o<f.length&&!r;o++)i=f[o],t.options.equality(n,i.node)&&(u[i.$id]=i.node,r=!0);r||(u[e++]=n)});t.expandedNodesMap=u});f.template(t,function(n){i.html("").append(n)});t.$treeTransclude=r}}}}]).directive("treeitem",function(){return{restrict:"E",require:"^treecontrol",link:function(n,t,i,r){r.template(n,function(n){t.html("").append(n)})}}}).directive("treeTransclude",function(){return{link:function(t,i){var u,r;if(t.options.isLeaf(t.node)||n.forEach(t.expandedNodesMap,function(n,i){t.options.equality(n,t.node)&&(t.expandedNodesMap[t.$id]=t.node,t.expandedNodesMap[i]=undefined)}),!t.options.multiSelection&&t.options.equality(t.node,t.selectedNode))t.selectedNode=t.node;else if(t.options.multiSelection){for(u=[],r=0;r<t.selectedNodes.length;r++)t.options.equality(t.node,t.selectedNodes[r])&&u.push(t.node);t.selectedNodes=u}t.transcludeScope=t.parentScopeOfTree.$new();t.transcludeScope.node=t.node;t.transcludeScope.$parentNode=t.$parent.node===t.synteticRoot?null:t.$parent.node;t.transcludeScope.$index=t.$index;t.transcludeScope.$first=t.$first;t.transcludeScope.$middle=t.$middle;t.transcludeScope.$last=t.$last;t.transcludeScope.$odd=t.$odd;t.transcludeScope.$even=t.$even;t.$on("$destroy",function(){t.transcludeScope.$destroy()});t.$treeTransclude(t.transcludeScope,function(n){i.empty();i.append(n)})}}})}(angular);
/*!
 * angular-datatables - v0.3.0
 * https://github.com/l-lin/angular-datatables
 * License: MIT
 */
(function(n,t,i,r){
/*!
 * angular-datatables - v0.3.0
 * https://github.com/l-lin/angular-datatables
 * License: MIT
 */
r.module("datatables.bootstrap.tabletools",["datatables.bootstrap.options","datatables.util"]).service("DTBootstrapTableTools",["DTPropertyUtil","DTBootstrapDefaultOptions",function(n,t){var u=!1,f={},e=function(){i.fn.DataTable.TableTools&&(f.TableTools={classes:r.copy(i.fn.DataTable.TableTools.classes),oTags:r.copy(i.fn.DataTable.TableTools.DEFAULTS.oTags)})};this.integrate=function(r){if(!u){if(e(),i.fn.DataTable.TableTools){var f=n.overrideProperties(t.getOptions().TableTools,r?r.TableTools:null);i.extend(!0,i.fn.DataTable.TableTools.classes,f.classes);i.extend(!0,i.fn.DataTable.TableTools.DEFAULTS.oTags,f.DEFAULTS.oTags)}u=!0}};this.deIntegrate=function(){u&&i.fn.DataTable.TableTools&&f.TableTools&&(i.extend(!0,i.fn.DataTable.TableTools.classes,f.TableTools.classes),i.extend(!0,i.fn.DataTable.TableTools.DEFAULTS.oTags,f.TableTools.oTags),u=!1)}}]);r.module("datatables.bootstrap.colvis",["datatables.bootstrap.options","datatables.util"]).service("DTBootstrapColVis",["DTPropertyUtil","DTBootstrapDefaultOptions",function(n,t){var r=!1;this.integrate=function(u,f){if(!r){var e=n.overrideProperties(t.getOptions().ColVis,f?f.ColVis:null);i.fn.DataTable.ColVis&&u(function(){i(".ColVis_MasterButton").attr("class","ColVis_MasterButton "+e.classes.masterButton);i(".ColVis_Button").removeClass("ColVis_Button")});r=!0}};this.deIntegrate=function(){r&&i.fn.DataTable.ColVis&&(r=!1)}}]);r.module("datatables.bootstrap",["datatables.bootstrap.options","datatables.bootstrap.tabletools","datatables.bootstrap.colvis"]).service("DTBootstrap",["DTBootstrapTableTools","DTBootstrapColVis","DTBootstrapDefaultOptions",function(n,u,f){var o=!1,s=[],e={},c=function(){e.oStdClasses=r.copy(i.fn.dataTableExt.oStdClasses);e.fnPagingInfo=i.fn.dataTableExt.oApi.fnPagingInfo;e.renderer=r.copy(i.fn.DataTable.ext.renderer);i.fn.DataTable.TableTools&&(e.TableTools={classes:r.copy(i.fn.DataTable.TableTools.classes),oTags:r.copy(i.fn.DataTable.TableTools.DEFAULTS.oTags)})},l=function(){i.extend(i.fn.dataTableExt.oStdClasses,e.oStdClasses);i.fn.dataTableExt.oApi.fnPagingInfo=e.fnPagingInfo;i.extend(!0,i.fn.DataTable.ext.renderer,e.renderer)},a=function(){i.extend(i.fn.dataTableExt.oStdClasses,{sWrapper:"dataTables_wrapper form-inline",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm",sFilter:"dataTables_filter",sLength:"dataTables_length"})},v=function(){i.fn.dataTableExt.oApi.fnPagingInfo=function(n){return{iStart:n._iDisplayStart,iEnd:n.fnDisplayEnd(),iLength:n._iDisplayLength,iTotal:n.fnRecordsTotal(),iFilteredTotal:n.fnRecordsDisplay(),iPage:n._iDisplayLength===-1?0:Math.ceil(n._iDisplayStart/n._iDisplayLength),iTotalPages:n._iDisplayLength===-1?0:Math.ceil(n.fnRecordsDisplay()/n._iDisplayLength)}}},y=function(){i.extend(!0,i.fn.DataTable.ext.renderer,{pageButton:{_:function(n,r,u,f,e,o){var c=n.oClasses,l=n.oLanguage.oPaginate,s,h,p=0,a=i("<ul><\/ul>",{"class":"pagination"}),w=function(t,r){for(var d,f,nt=function(t){t.preventDefault();i.fn.DataTable.ext.internal._fnPageChange(n,t.data.action,!0)},g,v,b,y=0,k=r.length;y<k;y++)if(f=r[y],i.isArray(f))f.DT_el="li",g=i("<"+(f.DT_el||"div")+"/>").appendTo(a),w(g,f);else{s="";h="";v=i("<li><\/li>");switch(f){case"ellipsis":a.append('<li class="disabled"><a href="#" onClick="event.preventDefault()">&hellip;<\/a><\/li>');break;case"first":s=l.sFirst;h=f;e<=0&&(v.addClass(c.sPageButtonDisabled),b=!0);break;case"previous":s=l.sPrevious;h=f;e<=0&&(v.addClass(c.sPageButtonDisabled),b=!0);break;case"next":s=l.sNext;h=f;e>=o-1&&(v.addClass(c.sPageButtonDisabled),b=!0);break;case"last":s=l.sLast;h=f;e>=o-1&&(v.addClass(c.sPageButtonDisabled),b=!0);break;default:s=f+1;h="";e===f&&v.addClass(c.sPageButtonActive)}s&&(v.appendTo(a),d=i("<a>",{href:"#","class":h,"aria-controls":n.sTableId,"data-dt-idx":p,tabindex:n.iTabIndex,id:u===0&&typeof f=="string"?n.sTableId+"_"+f:null}).html(s).appendTo(v),i.fn.DataTable.ext.internal._fnBindAction(d,{action:f},nt),p++)}},v,y;try{v=i(t.activeElement).data("dt-idx");y=i(r).empty();a.appendTo(y);w(y,f);v!==null&&i(r).find("[data-dt-idx="+v+"]").focus()}catch(b){}}}})},h=function(n){r.isFunction(n)&&s.push(n)},p=function(){o||(c(),a(),v(),y(),h(function(){i("div.dataTables_filter").find("input").addClass("form-control");i("div.dataTables_length").find("select").addClass("form-control")}),o=!0)},w=function(n){if(!n.hasOverrideDom){var t=f.getOptions().dom;return n.hasColReorder&&(t="R"+t),n.hasColVis&&(t="C"+t),n.hasTableTools&&(t="T"+t),t}return n.sDom};this.integrate=function(t){p();n.integrate(t.bootstrap);u.integrate(h,t.bootstrap);t.sDom=w(t);r.isUndefined(t.fnDrawCallback)&&(t.fnDrawCallback=function(){for(var n=0;n<s.length;n++)s[n]()})};this.deIntegrate=function(){o&&(l(),n.deIntegrate(),u.deIntegrate(),o=!1)}}]);r.module("datatables.bootstrap.options",["datatables.options","datatables.util"]).constant("DT_BOOTSTRAP_DEFAULT_OPTIONS",{TableTools:{classes:{container:"DTTT btn-group",buttons:{normal:"btn btn-default",disabled:"disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"disabled"}},print:{info:"DTTT_print_info modal"},select:{row:"active"}},DEFAULTS:{oTags:{collection:{container:"ul",button:"li",liner:"a"}}}},ColVis:{classes:{masterButton:"btn btn-default"}},dom:"<'row'<'col-xs-6'l><'col-xs-6'f>r>t<'row'<'col-xs-6'i><'col-xs-6'p>>"}).service("DTBootstrapDefaultOptions",["DTDefaultOptions","DTPropertyUtil","DT_BOOTSTRAP_DEFAULT_OPTIONS",function(n,t,i){this.getOptions=function(){return t.overrideProperties(i,n.bootstrapOptions)}}]);r.module("datatables.directive",["datatables.renderer","datatables.options","datatables.util"]).directive("datatable",["$q","DT_DEFAULT_OPTIONS","DTBootstrap","DTRendererFactory","DTRendererService","DTPropertyUtil",function(n,t,i,u,f,e){return{restrict:"A",scope:{dtOptions:"=",dtColumns:"=",dtColumnDefs:"=",datatable:"@"},compile:function(n){var t=n[0].innerHTML;return function(n,i,r,u){n.$watch("[dtOptions, dtColumns, dtColumnDefs]",function(n,r){if(n!==r){var f=n[0],e=r[0];f.reload&&f.sAjaxSource===e.sAjaxSource?f.reload=!1:u.render(i,u.buildOptionsPromise(),t)}},!0);u.showLoading(i);u.render(i,u.buildOptionsPromise(),t)}},controller:["$scope",function(t){var o;this.showLoading=function(n){f.showLoading(n)};this.buildOptionsPromise=function(){var u=n.defer();return n.all([n.when(t.dtOptions),n.when(t.dtColumns),n.when(t.dtColumnDefs)]).then(function(n){var h=n[0],o=n[1],s=n[2],f;e.deleteProperty(h,"$promise");e.deleteProperty(o,"$promise");e.deleteProperty(s,"$promise");r.isDefined(t.dtOptions)&&(f={},r.extend(f,h),r.isArray(o)&&(f.aoColumns=o),r.isArray(s)&&(f.aoColumnDefs=s),f.integrateBootstrap?i.integrate(f):i.deIntegrate());u.resolve(f)}),u.promise};this.render=function(n,i,r){i.then(function(i){var f=t.datatable&&t.datatable==="ng";o?o.withOptions(i).render(t,n,r):o=u.fromOptions(i,f).render(t,n,r)})}}]}}]);r.module("datatables.factory",["datatables.bootstrap","datatables.options"]).factory("DTOptionsBuilder",["DT_DEFAULT_OPTIONS",function(n){var u={isPresent:function(){return r.isDefined(this.obj)&&this.obj!==null},orEmptyObj:function(){return this.isPresent()?this.obj:{}},or:function(n){return this.isPresent()?this.obj:n}},t=function(n){var t=Object.create(u);return t.obj=n,t},i={integrateBootstrap:!1,hasColVis:!1,hasColReorder:!1,hasTableTools:!1,hasOverrideDom:!1,reloadData:function(){return this.reload=!0,this},withOption:function(n,t){return r.isString(n)&&(this[n]=t),this},withSource:function(n){return this.sAjaxSource=n,this},withDataProp:function(n){return this.sAjaxDataProp=n,this},withFnServerData:function(n){if(!r.isFunction(n))throw new Error("The parameter must be a function");return this.fnServerData=n,this},withPaginationType:function(n){if(r.isString(n))this.sPaginationType=n;else throw new Error("The pagination type must be provided");return this},withLanguage:function(n){return this.oLanguage=n,this},withLanguageSource:function(n){return this.withLanguage({sUrl:n})},withDisplayLength:function(n){return this.iDisplayLength=n,this},withFnPromise:function(n){return this.fnPromise=n,this},withDOM:function(n){return this.sDom=n,this.hasOverrideDom=!0,this},withBootstrap:function(){return this.integrateBootstrap=!0,r.isObject(this.oClasses)?this.oClasses.sPageButtonActive="active":this.oClasses={sPageButtonActive:"active"},this},withBootstrapOptions:function(n){return this.bootstrap=n,this},withColReorderOption:function(n,i){return r.isString(n)&&(this.oColReorder=t(this.oColReorder).orEmptyObj(),this.oColReorder[n]=i),this},withColReorder:function(){return this.sDom="R"+t(this.sDom).or(n.dom),this.hasColReorder=!0,this},withColReorderOrder:function(n){return r.isArray(n)&&this.withColReorderOption("aiOrder",n),this},withColReorderCallback:function(n){if(r.isFunction(n))this.withColReorderOption("fnReorderCallback",n);else throw new Error("The reorder callback must be a function");return this},withColVisOption:function(n,i){return r.isString(n)&&(this.oColVis=t(this.oColVis).orEmptyObj(),this.oColVis[n]=i),this},withColVis:function(){return this.sDom="C"+t(this.sDom).or(n.dom),this.hasColVis=!0,this},withColVisStateChange:function(n){if(r.isFunction(n))this.withColVisOption("fnStateChange",n);else throw new Error("The state change must be a function");return this},withTableToolsOption:function(n,i){return r.isString(n)&&(this.oTableTools=t(this.oTableTools).orEmptyObj(),this.oTableTools[n]=i),this},withTableTools:function(i){return this.sDom="T"+t(this.sDom).or(n.dom),this.hasTableTools=!0,r.isString(i)&&this.withTableToolsOption("sSwfPath",i),this},withTableToolsButtons:function(n){return r.isArray(n)&&this.withTableToolsOption("aButtons",n),this},withScroller:function(){return this.sDom=t(this.sDom).or(n.dom)+"S",this}};return{newOptions:function(){return Object.create(i)},fromSource:function(n){var t=Object.create(i);return t.sAjaxSource=n,t},fromFnPromise:function(n){var t=Object.create(i);return t.fnPromise=n,t}}}]).factory("DTColumnBuilder",function(){var n={withOption:function(n,t){return r.isString(n)&&(this[n]=t),this},withTitle:function(n){return this.sTitle=n,this},withClass:function(n){return this.sClass=n,this},notVisible:function(){return this.bVisible=!1,this},notSortable:function(){return this.bSortable=!1,this},renderWith:function(n){return this.mRender=n,this}};return{newColumn:function(t,i){if(r.isUndefined(t))throw new Error('The parameter "mData" is not defined!');var u=Object.create(n);return u.mData=t,u.sTitle=i||"",u},DTColumn:n}}).factory("DTColumnDefBuilder",["DTColumnBuilder",function(n){return{newColumnDef:function(t){if(r.isUndefined(t))throw new Error('The parameter "targets" must be defined! See https://datatables.net/reference/option/columnDefs.targets');var i=Object.create(n.DTColumn);return i.aTargets=r.isArray(t)?t:[t],i}}}]).factory("DTLoadingTemplate",function(){return{html:'<h3 class="dt-loading">Loading...<\/h3>'}});r.module("datatables",["datatables.directive","datatables.factory","datatables.bootstrap"]).run(["$log",function(t){i.fn.DataTable.Api&&i.fn.DataTable.Api.register("ngDestroy()",function(r){return r=r||!1,this.iterator("table",function(u){var h=u.nTableWrapper.parentNode,f=u.oClasses,o=u.nTable,y=u.nTBody,s=u.nTHead,c=u.nTFoot,e=i(o),p=i(y),v=i(u.nTableWrapper),w=i.map(u.aoData,function(n){return n.nTr}),l,a;if(u.bDestroying=!0,i.fn.DataTable.ext.internal._fnCallbackFire(u,"aoDestroyCallback","destroy",[u]),r||new i.fn.DataTable.Api(u).columns().visible(!0),v.unbind(".DT").find(":not(tbody *)").unbind(".DT"),i(n).unbind(".DT-"+u.sInstance),o!==s.parentNode&&(e.children("thead").detach(),e.append(s)),c&&o!==c.parentNode&&(e.children("tfoot").detach(),e.append(c)),e.detach(),v.detach(),u.aaSorting=[],u.aaSortingFixed=[],i.fn.DataTable.ext.internal._fnSortingClasses(u),i(w).removeClass(u.asStripeClasses.join(" ")),i("th, td",s).removeClass(f.sSortable+" "+f.sSortableAsc+" "+f.sSortableDesc+" "+f.sSortableNone),u.bJUI&&(i("th span."+f.sSortIcon+", td span."+f.sSortIcon,s).detach(),i("th, td",s).each(function(){var n=i("div."+f.sSortJUIWrapper,this);i(this).append(n.contents());n.detach()})),!r&&h)try{h.insertBefore(o,u.nTableReinsertBefore)}catch(b){t.warn(b);h.appendChild(o)}e.css("width",u.sDestroyWidth).removeClass(f.sTable);l=u.asDestroyStripes.length;l&&p.children().each(function(n){i(this).addClass(u.asDestroyStripes[n%l])});a=i.inArray(u,i.fn.DataTable.settings);a!==-1&&i.fn.DataTable.settings.splice(a,1)})})}]);r.module("datatables.options",[]).constant("DT_DEFAULT_OPTIONS",{dom:"lfrtip",sAjaxDataProp:"",aoColumns:[]}).service("DTDefaultOptions",function(){this.bootstrapOptions={};this.setLanguageSource=function(n){return i.extend(i.fn.dataTable.defaults,{oLanguage:{sUrl:n}}),this};this.setLanguage=function(n){return i.extend(!0,i.fn.dataTable.defaults,{oLanguage:n}),this};this.setDisplayLength=function(n){return i.extend(i.fn.dataTable.defaults,{iDisplayLength:n}),this};this.setBootstrapOptions=function(n){return this.bootstrapOptions=n,this}});r.module("datatables.renderer",["datatables.factory","datatables.options"]).factory("DTRendererService",["DTLoadingTemplate",function(n){var t=r.element(n.html);return{getLoadingElem:function(){return t},showLoading:function(n){n.after(t);n.hide();t.show()},hideLoading:function(n){n.show();t.hide()},renderDataTableAndEmitEvent:function(n,t,r){var f="#"+n.attr("id"),u;return i.fn.dataTable.isDataTable(f)&&(t.destroy=!0),u=n.DataTable(t),r.$emit("event:dataTableLoaded",{id:n.attr("id"),DataTable:u,dataTable:n.dataTable()}),u},doRenderDataTable:function(n,t,i){return this.hideLoading(n),this.renderDataTableAndEmitEvent(n,t,i)}}}]).factory("DTRenderer",function(){return{withOptions:function(n){return this.options=n,this}}}).factory("DTDefaultRenderer",["$timeout","DTRenderer","DTRendererService",function(n,t,i){return{create:function(r){var u=Object.create(t);return u.name="DTDefaultRenderer",u.options=r,u.render=function(t,r){var u=this;return n(function(){i.doRenderDataTable(r,u.options,t)},0,!1),u},u}}}]).factory("DTNGRenderer",["$compile","$timeout","DTRenderer","DTRendererService",function(n,t,i,r){return{create:function(u){var f=Object.create(i);return f.name="DTNGRenderer",f.options=u,f.render=function(i,u,f){var h=this,c=u.find("tbody").html(),l=c.match(/^\s*.+?\s+in\s+(\S*)\s*/),a=l[1],e,o,s;if(!l)throw new Error('Expected expression in form of "_item_ in _collection_[ track by _id_]" but got "{0}".',c);return o=!1,s=i.$parent,s.$watchCollection(a,function(){e&&o&&(e.ngDestroy(),u.html(f),n(u.contents())(s));t(function(){o=!0;e=r.doRenderDataTable(u,h.options,i)},0,!1)},!0),h},f}}}]).factory("DTPromiseRenderer",["$timeout","DTRenderer","DTRendererService",function(n,t,i){return{create:function(u){var f,o=!1,s=function(t,r,u,e){delete u.$promise;t.aaData=u;n(function(){i.hideLoading(r);t.bDestroy=!0;f?(f.clear(),f.rows.add(t.aaData).draw()):f=i.renderDataTableAndEmitEvent(r,t,e)},0,!1)},e=Object.create(t);return e.name="DTPromiseRenderer",e.options=u,e.render=function(n,t){var u=this,i=null,h=function(r){var f=r;u.options.sAjaxDataProp&&(f=r[u.options.sAjaxDataProp]);s(u.options,t,f,n);i=null},f=function(n){i=r.isFunction(n)?n():n;i.then(h)},e=function(n){if(r.isDefined(n))i?i.then(function(){f(n)}):f(n);else throw new Error("You must provide a promise or a function that returns a promise!");};return o||(n.$watch("dtOptions.fnPromise",function(n,t){n!==t&&e(n)}),o=!0),e(n.dtOptions.fnPromise),u},e}}}]).factory("DTAjaxRenderer",["$timeout","DTRenderer","DTRendererService","DT_DEFAULT_OPTIONS",function(n,t,i,u){return{create:function(f){var o,s=function(n,t,i,u){r.isDefined(t)&&(n.sAjaxSource=t,r.isDefined(n.ajax)&&(r.isObject(n.ajax)?n.ajax.url=t:n.ajax={url:t}));h(n,i,u)},h=function(t,r,u){t.bDestroy=!0;n(function(){if(i.hideLoading(r),o){var n=t.sAjaxSource||t.ajax.url||t.ajax;o.ajax.url(n).load()}else o=i.renderDataTableAndEmitEvent(r,t,u)},0,!1)},e=Object.create(t);return e.name="DTAjaxRenderer",e.options=f,e.render=function(n,t){var i=this;return r.isUndefined(i.options.sAjaxDataProp)&&(i.options.sAjaxDataProp=u.sAjaxDataProp),r.isUndefined(i.options.aoColumns)&&(i.options.aoColumns=u.aoColumns),s(i.options,i.options.sAjaxSource,t,n),this},e}}}]).factory("DTRendererFactory",["DTDefaultRenderer","DTNGRenderer","DTPromiseRenderer","DTAjaxRenderer",function(n,t,i,u){return{fromOptions:function(f,e){return e?t.create(f):r.isDefined(f)?r.isDefined(f.fnPromise)&&f.fnPromise!==null?i.create(f):r.isDefined(f.sAjaxSource)&&f.sAjaxSource!==null||r.isDefined(f.ajax)&&f.ajax!==null?u.create(f):n.create(f):n.create()}}}]);r.module("datatables.util",[]).factory("DTPropertyUtil",function(){return{overrideProperties:function(n,t){var i=r.copy(n),u;if((r.isUndefined(i)||i===null)&&(i={}),r.isUndefined(t)||t===null)return i;if(r.isObject(t))for(u in t)t.hasOwnProperty(u)&&(i[u]=this.overrideProperties(i[u],t[u]));else i=r.copy(t);return i},deleteProperty:function(n,t){r.isObject(n)&&delete n[t]}}})})(window,document,jQuery,angular);angular.module("ui.tinymce",[]).value("uiTinymceConfig",{}).directive("uiTinymce",["uiTinymceConfig",function(n){n=n||{};var t=0;return{priority:10,require:"ngModel",link:function(i,r,u,f){var o,h,e,s=function(){f.$setViewValue(r.val());i.$root.$$phase||i.$apply()},c;u.id||u.$set("id","uiTinymce"+t++);o=u.uiTinymce?i.$eval(u.uiTinymce):{};o.setup&&(c=o.setup,delete o.setup);h={setup:function(n){n.on("init",function(){f.$render();f.$setPristine()});n.on("ExecCommand",function(){n.save();s()});n.on("KeyUp",function(){n.save();s()});n.on("SetContent",function(t){t.initial||f.$viewValue===t.content||(n.save(),s())});n.on("blur",function(){r.blur()});n.on("ObjectResized",function(){n.save();s()});c&&c(n)},mode:"exact",elements:u.id};angular.extend(h,n,o);setTimeout(function(){tinymce.init(h)});f.$render=function(){e||(e=tinymce.get(u.id));e&&e.setContent(f.$viewValue||"")};i.$on("$destroy",function(){e||(e=tinymce.get(u.id));e&&(e.remove(),e=null)})}}}]);angular.module("ui.bootstrap.contextMenu",[]).directive("contextMenu",["$parse",function(){var n=function(n,t,i,r){var u,f,e,o;u||(u=angular.element);u(t.currentTarget).addClass("context");f=u("<div>");f.addClass("dropdown clearfix");e=u("<ul>");e.addClass("dropdown-menu");e.attr({role:"menu"});e.css({display:"block",position:"absolute",left:t.pageX+"px",top:t.pageY+"px"});angular.forEach(i,function(i){var o=u("<li>"),s,h,c;if(i===null)o.addClass("divider");else if(s=u("<a>"),s.attr({tabindex:"-1",href:"#"}),h=typeof i[0]=="string"?i[0]:i[0].call(n,n,t,r),s.text(h),o.append(s),c=angular.isDefined(i[2])?i[2].call(n,n,t,h,r):!0,c)o.on("click",function(e){e.preventDefault();n.$apply(function(){u(t.currentTarget).removeClass("context");f.remove();i[1].call(n,n,t,r)})});else{o.on("click",function(n){n.preventDefault()});o.addClass("disabled")}e.append(o)});f.append(e);o=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight);f.css({width:"100%",height:o+"px",position:"absolute",top:0,left:0,zIndex:9999});u(document).find("body").append(f);f.on("mousedown",function(n){u(n.target).hasClass("dropdown")&&(u(t.currentTarget).removeClass("context"),f.remove())}).on("contextmenu",function(n){u(n.currentTarget).removeClass("context");n.preventDefault();f.remove()})};return function(t,i,r){i.on("contextmenu",function(i){i.stopPropagation();t.$apply(function(){i.preventDefault();var u=t.$eval(r.contextMenu),f=t.$eval(r.model);if(u instanceof Array){if(u.length===0)return;n(t,i,u,f)}else throw'"'+r.contextMenu+'" not an array';})})}}]),function(n,t){typeof exports=="object"?module.exports=t():typeof define=="function"&&define.amd?define(t):n.Spinner=t()}(this,function(){"use strict";function i(n,t){var i=document.createElement(n||"div");for(var r in t)i[r]=t[r];return i}function t(n){for(var t=1,i=arguments.length;t<i;t++)n.appendChild(arguments[t]);return n}function a(n,t,i,r){var f=["opacity",t,~~(n*100),i,r].join("-"),o=.01+i/r*100,s=Math.max(1-(1-n)/t*(100-o),n),c=u.substring(0,u.indexOf("Animation")).toLowerCase(),l=c&&"-"+c+"-"||"";return h[f]||(e.insertRule("@"+l+"keyframes "+f+"{0%{opacity:"+s+"}"+o+"%{opacity:"+n+"}"+(o+.01)+"%{opacity:1}"+(o+t)%100+"%{opacity:"+n+"}100%{opacity:"+s+"}}",e.cssRules.length),h[f]=1),f}function o(n,t){var u=n.style,r,i;for(t=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<s.length;i++)if(r=s[i]+t,u[r]!==undefined)return r;if(u[t]!==undefined)return t}function n(n,t){for(var i in t)n.style[o(n,i)||i]=t[i];return n}function c(n){for(var r,i,t=1;t<arguments.length;t++){r=arguments[t];for(i in r)n[i]===undefined&&(n[i]=r[i])}return n}function l(n,t){return typeof n=="string"?n:n[t%n.length]}function r(n){this.opts=c(n||{},r.defaults,v)}function y(){function u(n,t){return i("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}e.addRule(".spin-vml","behavior:url(#default#VML)");r.prototype.lines=function(i,r){function s(){return n(u("group",{coordsize:o+" "+o,coordorigin:-e+" "+-e}),{width:o,height:o})}function a(i,f,o){t(c,t(n(s(),{rotation:360/r.lines*i+"deg",left:~~f}),t(n(u("roundrect",{arcsize:r.corners}),{width:e,height:r.width,left:r.radius,top:-r.width>>1,filter:o}),u("fill",{color:l(r.color,i),opacity:r.opacity}),u("stroke",{opacity:0}))))}var e=r.length+r.width,o=2*e,h=-(r.width+r.length)*2+"px",c=n(s(),{position:"absolute",top:h,left:h}),f;if(r.shadow)for(f=1;f<=r.lines;f++)a(f,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(f=1;f<=r.lines;f++)a(f);return t(i,c)};r.prototype.opacity=function(n,t,i,r){var u=n.firstChild;r=r.shadow&&r.lines||0;u&&t+r<u.childNodes.length&&(u=u.childNodes[t+r],u=u&&u.firstChild,u=u&&u.firstChild,u&&(u.opacity=i))}}var s=["webkit","Moz","ms","O"],h={},u,e=function(){var n=i("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}(),v={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:1/4,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"},f;return r.defaults={},c(r.prototype,{spin:function(t){this.stop();var f=this,r=f.opts,e=f.el=n(i(0,{className:r.className}),{position:r.position,width:0,zIndex:r.zIndex}),p=r.radius+r.length+r.width;if(n(e,{left:r.left,top:r.top}),t&&t.insertBefore(e,t.firstChild||null),e.setAttribute("role","progressbar"),f.lines(e,f.opts),!u){var s=0,l=(r.lines-1)*(1-r.direction)/2,h,c=r.fps,o=c/r.speed,a=(1-r.opacity)/(o*r.trail/100),v=o/r.lines;(function y(){s++;for(var n=0;n<r.lines;n++)h=Math.max(1-(s+(r.lines-n)*v)%o*a,r.opacity),f.opacity(e,n*r.direction+l,h,r);f.timeout=f.el&&setTimeout(y,~~(1e3/c))})()}return f},stop:function(){var n=this.el;return n&&(clearTimeout(this.timeout),n.parentNode&&n.parentNode.removeChild(n),this.el=undefined),this},lines:function(r,f){function s(t,r){return n(i(),{position:"absolute",width:f.length+f.width+"px",height:f.width+"px",background:t,boxShadow:r,transformOrigin:"left",transform:"rotate("+~~(360/f.lines*e+f.rotate)+"deg) translate("+f.radius+"px,0)",borderRadius:(f.corners*f.width>>1)+"px"})}for(var e=0,h=(f.lines-1)*(1-f.direction)/2,o;e<f.lines;e++)o=n(i(),{position:"absolute",top:1+~(f.width/2)+"px",transform:f.hwaccel?"translate3d(0,0,0)":"",opacity:f.opacity,animation:u&&a(f.opacity,f.trail,h+e*f.direction,f.lines)+" "+1/f.speed+"s linear infinite"}),f.shadow&&t(o,n(s("#000","0 0 4px #000"),{top:"2px"})),t(r,t(o,s(l(f.color,e),"0 0 1px rgba(0,0,0,.1)")));return r},opacity:function(n,t,i){t<n.childNodes.length&&(n.childNodes[t].style.opacity=i)}}),f=n(i("group"),{behavior:"url(#default#VML)"}),!o(f,"transform")&&f.adj?y():u=o(f,"animation"),r})